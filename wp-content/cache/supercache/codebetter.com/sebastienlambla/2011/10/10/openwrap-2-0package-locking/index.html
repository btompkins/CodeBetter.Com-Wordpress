<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>OpenWrap 2.0&ndash;Package locking | Sebastien Lambla</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/sebastienlambla/xmlrpc.php" />
	<link rel='stylesheet' id='mainstyle-css'  href='http://cdn1.codebetter.com/wp-content/themes/codebetter/style.css?ver=3.4.2' type='text/css' media='all' />
<link rel='stylesheet' id='jquerystyle-css'  href='http://cdn1.codebetter.com/wp-content/themes/codebetter/jquery-ui-1.8.1.custom.css?ver=3.4.2' type='text/css' media='all' />
<link rel='stylesheet' id='wp_greet_box_style-css'  href='http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/css/style.css?ver=3.4.2' type='text/css' media='all' />
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-includes/js/jquery/jquery.js?ver=1.7.2'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-includes/js/comment-reply.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/js/functions.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/js/js-mode.js?ver=3.4.2'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/sebastienlambla/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Developing multiple packages in one go' href='http://codebetter.com/sebastienlambla/2011/10/03/developing-multiple-packages-in-one-go/' />
<link rel='next' title='OpenWrap 1.0.2 available' href='http://codebetter.com/sebastienlambla/2011/10/26/openwrap-1-0-2-available/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/sebastienlambla/?p=83' />

<!-- All in One SEO Pack 1.6.15.2 by Michael Torbert of Semper Fi Web Design[83,143] -->
<link rel="canonical" href="http://codebetter.com/sebastienlambla/2011/10/10/openwrap-2-0package-locking/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=5.2.9" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-83" class="post-83 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">OpenWrap 2.0&ndash;Package locking</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/sebastienlambla/author/sebastienlambla/" title="View all posts by Sebastien Lambla">Sebastien Lambla</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/sebastienlambla/2011/10/10/openwrap-2-0package-locking/" title="3:02 pm" rel="bookmark"><span class="entry-date">October 10, 2011</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/sebastienlambla/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/sebastienlambla/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p>Well, this one was scheduled for much later in the development process of OpenWrap, but ended up being built last week.</p>
<h2>Why locking, a historical perspective</h2>
<p>OpenWrap is very much a <a href="http://semver.org-friendly">http://semver.org-friendly</a> system. When you take dependencies on packages, we <strong>ignore</strong> the revision number (that’s the <em>4</em> in <em>1.2.3.4</em>). The reason is two-fold: the first one is that we believe in semver.org. The second one is that the revision is supposed to be used by library developers that want to hotfix a package urgently for security reasons, a side-effect of us ignoring that number alltogether.</p>
<p>The point is, in your package version, you must not deploy incompatible changes using revision numbers. It’s been like that since the inception of OpenWrap, so the behavior we’re talking about has been present in public releases since <strong>May 2010</strong>.</p>
<p>Many months later, nuget was announced, and people started publishing packages with the freedom to do whatever they want with their version numbers, even if it’s following no convention at all, rendering version numbering completely useless. It follows the nuget mantra of <em>we’re not changing what you currently do</em>, and is at odds with the OpenWrap mantra of<em> we make it very very hard for you to shoot yourself in the foot</em>.</p>
<p>As it happens, guidance on that issue was published nearly a year ago at <a href="http://codebetter.com/sebastienlambla/2010/10/15/building-polyglot-packages-for-openwrap-and-nupack/">http://codebetter.com/sebastienlambla/2010/10/15/building-polyglot-packages-for-openwrap-and-nupack/</a>.</p>
<p>An OpenWrap customer recently encountered an issue where a package was pushing visible changes in the revision number, and that ended up auto-updating their solution, breaking their code. Definitely not something I want OpenWrap users to deal with.</p>
<p>At this stage, there are two ways to solve the problem. The first one is to do whatever the other package manager does, even if it leads people in the pit of failure. The other one is to add functionality that solves the problem in a way that puts people in the pit of success, while still preventing people from doing stupid things. That, and asking nicely the author of the package to reconsider their versioning scheme (as a side-note, the problem already happened with nhibernate, they refused to <em>change anything because of one tool</em>, while raven changed the versioning scheme within two hours, kudos to @ayende for being on the ball).</p>
<h2>Introduction</h2>
<p>It is often the case that you want to make sure everyone in your team uses the same package versions. You could of course ask everyone to not update anything, but if someone adds a new package, dependencies between an old and the new package could be impacted by the update.</p>
<p>Or maybe it is the case that at development time, you want to freeze in time certain packages you rely on, so you can decide when to update them, independently of any other package you may want to add in the meantime.</p>
<p>You could specify strict equality to package versions in your descriptor (aka <em>depends: openwrap = 2.0.0)</em>, and for a project that only exists to build, say, an asp.net web app, that may be valid. If however you use your project to build a package, and the goal of OpenWrap is for one day everything to be a package, then you’re sharing your development-time dependencies with the world, and you prevent people from updating dependent libraries when they know they want to.</p>
<p>With locking, you can specify that a package, a list of packages or all of your packages are frozen in time. Trying to add, remove or update a locked package will simply fail.</p>
<h2>Locking</h2>
<p>Say I have a new project that depends on OpenWrap 2.0.</p>
<pre>C:\demos\testlock&gt; o list-wrap
 - Mono.Cecil (available: 0.9.4.1)
 - openfilesystem (available: 1.0.0.61263243)
 - openwrap (available: 2.0.0.81714117)</pre>
<p>If a new version of OpenWrap becomes available, updating OpenWrap is going to be automatic.</p>
<pre>C:\demos\testlock&gt; o update-wrap openwrap -proj
Updating project packages...
Project repository: openwrap updated [2.0.0.84854337 -&gt; 2.0.0.84856266].
...
Project repository: Package openwrap-2.0.0.84856266 anchored.</pre>
<p>I can lock all my current packages by issuing the lock-wrap command.</p>
<pre>C:\demos\testlock&gt; o lock-wrap
Package 'openwrap' locked at version '2.0.0.84856266'.
Package 'SharpZipLib' locked at version '0.86.0'.
Package 'openfilesystem' locked at version '1.0.0.61263243'.
Package 'tdnet-framework' locked at version '2.0.0.48555719'.
Package 'Mono.Cecil' locked at version '0.9.4.1'.</pre>
<p>Now all my packages are locked. Attempting to update any of those packages will do nothing. All the same, if I attempt to remove a locked package.</p>
<pre>C:\demos\testlock&gt; o remove-wrap openwrap
Cannont remove package 'openwrap' as it is currently locked. Unlock the package with 'unlock-wrap openwrap' first, then
remove.</pre>
<p>Of course, you can decide to lock only one package with the –Name input on the command, and you can prevent dependent packages from being locked with –IgnoreDependencies. Check the get-help section on lock-wrap for all the details.</p>
<h2>Unlocking</h2>
<p>As simple as locking, the other way around, but I’ll just unlock openwrap and leave its dependencies locked.</p>
<pre>C:\demos\testlock&gt; o unlock-wrap openwrap -ignoredependencies
Package 'openwrap' unlocked.</pre>
<h2>Sharing locked packages</h2>
<p>Once  you’ve added and removed locks on your solution, it is up to you to decide if you want those locks to be shared with your team or not.</p>
<p>The way to do this is very simple. A new <em>packages.lock</em> file has been added to the /wraps directory. If you want the locks shared, add it to source control. If you don’t want other team members to unlock, make the file read-only. Simples.</p>
<h2>The feature you don’t want to use, ever</h2>
<p>Finally, there is a hidden feature that allows you to declare a dependency in your descriptor to be strict (aka include the revision number). It was there all along but not usable unless you were the package manager itself, and now we’ve surfaced it, for those scenarios where you’re doing something stupid, you know about it and you want us to back-off with all of our convention, good of the ecosystem mantra.</p>
<p>You can declare a dependency using the <em>Identical To</em> unicode character, U+2261, more commonly known as <strong>≡</strong>. In your descriptor, you can then have:</p>
<blockquote><p>depends: openwrap ≡ 2.0.0.84856266</p></blockquote>
<p>And we’ll respect that. It’s not surfaced on the command line, and the use of the unicode character is to make it extra hard for you to do the wrong thing, while not preventing you to shoot your foot if that’s really your need.</p>
<h2>Conclusion</h2>
<p>As usual, if you have any question about how to use those features, please post them on <a href="http://stackoverflow.com">http://stackoverflow.com</a> and tag them with OpenWrap. If you have bug reports, please add them to <a href="http://github.com/openrasta/openwrap/issues">http://github.com/openrasta/openwrap/issues</a>. We are entirely community-focused and do the right thing for the software ecosystem. We can’t do that without you, users, so get in touch when you need to and we’ll try our hardest to help.</p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/sebastienlambla/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/sebastienlambla/2011/10/10/openwrap-2-0package-locking/" title="Permalink to OpenWrap 2.0&ndash;Package locking" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/sebastienlambla/2011/10/10/openwrap-2-0package-locking/feed/" title="Comments RSS to OpenWrap 2.0&ndash;Package locking" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-83 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/sebastienlambla/2011/10/03/developing-multiple-packages-in-one-go/" rel="prev"><span class="meta-nav">&larr;</span> Developing multiple packages in one go</a></div>
					<div class="nav-next"><a href="http://codebetter.com/sebastienlambla/2011/10/26/openwrap-1-0-2-available/" rel="next">OpenWrap 1.0.2 available <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-265">
        <div id="dsq-comment-header-265" class="dsq-comment-header">
            <cite id="dsq-cite-265">
                <span id="dsq-author-user-265">Rafki</span>
            </cite>
        </div>
        <div id="dsq-comment-body-265" class="dsq-comment-body">
            <div id="dsq-comment-message-265" class="dsq-comment-message"><p>Man, have you even read semver spec? Or you are that kind of obsessive-compulsive &#8220;genius&#8221; that does not need no spec and &#8220;figure that out&#8221; just from the title?</p>
<p>FYI semver defines three and only three segments of the module version: major, minor versions and patch. Plus optional label. </p>
<p>Some times I&#8217;s seems you so busy cramming out code you forget to think. </p>
</div>
        </div>
    </li>

    <ul class='children'>
    <li class="comment odd alt depth-2" id="dsq-comment-266">
        <div id="dsq-comment-header-266" class="dsq-comment-header">
            <cite id="dsq-cite-266">
http://codebetter.com/sebastienlambla/                <span id="dsq-author-user-266">Sebastien Lambla</span>
            </cite>
        </div>
        <div id="dsq-comment-body-266" class="dsq-comment-body">
            <div id="dsq-comment-message-266" class="dsq-comment-message"><p>If you read the post, you&#8217;ll see &#8220;we ignore the revision&#8221; and &#8220;we&#8217;re friendly to semver.org&#8221;. In other words, whenever you set a dependency on the fourt part of the version, we just ignore it. If multiple packages have different revision numbers, we just assume that you built it multiple times and always take the latest. The point of this post was to provide an opt-out of that behavior when you depend on packages built for nuget .</p>
<p>What exactly is it that you&#8217;ve seen in my post that would say otherwise, or imply that there is a fourth number in semver, or that i&#8217;ve not read the semver specification, or that I am an obsessive-compulsive asshole? If you let me know what your point actually is, I&#8217;ll happily update the post.</p>
<p>As for semver&#8217;s labels, wee don&#8217;t support it on version identifiers mostly because our metadata will address that independently for providing the equivalent feature, although I don&#8217;t exclude just going for adding the label the way semver defines it, it&#8217;s not built yet, we&#8217;ll see. If you have an opinion (and you certainly seem like you have one), please continue voicing it and i&#8217;ll take it into account, like I do everything else.</p>
<p>Thanks,</p>
<p>the obsessive-compulsive genius that does not need no spec but actually read them.</p>
</div>
        </div>
    </li>

    <ul class='children'>
    <li class="comment even depth-3" id="dsq-comment-268">
        <div id="dsq-comment-header-268" class="dsq-comment-header">
            <cite id="dsq-cite-268">
                <span id="dsq-author-user-268">Rafki</span>
            </cite>
        </div>
        <div id="dsq-comment-body-268" class="dsq-comment-body">
            <div id="dsq-comment-message-268" class="dsq-comment-message"><p>Sorry for being rude in previous comment, but I still thing you do not grok semver and misinform everyone associating OpenWrap with it. Your understanding of versioning, I believe, comes from standard .NET/VS scheme of four sections. However you add fifth section for some reason:</p>
<p>&gt;&gt;	When you take dependencies on packages, we ignore the revision<br />
&gt;&gt;	number (that’s the 5 [sic!] in1.2.3.4.5)</p>
<p>The goal of semver spec is to standardize versioning scheme. Semver compliance requires package author to use version consisting *only* of three parts:</p>
<p>  *  Patch version Z (x.y.Z | x &gt; 0) which MUST be incremented if only backwards compatible bug fixes are introduced. A bug fix is defined as an internal change that fixes incorrect behavior.</p>
<p>  *  Minor version Y (x.Y.z | x &gt; 0) which MUST be incremented if new, backwards compatible functionality is introduced to the public API. It MAY be incremented if substantial new functionality or improvements are introduced within the private code. It MAY include patch level changes.</p>
<p>  *  Major version X (X.y.z | X &gt; 0) which MUST be incremented if any backwards incompatible changes are introduced to the public API. It MAY include minor and patch level changes.</p>
<p>So in your case (regarding subject of the article) you should ignore patch version (third part of the version) and tolerate autoupgrade in case of minor version (second one) change.</p>
<p>BTW semver special versions (alphanumeric labels) are not metadata. v1.0.0beta1 and v1.0.0beta2 are two different versions according to the spec. So this functionality should be supported (I know, it’s kind of ugly, but it absolutely should) if you want to use word semver in relation to OpenWrap.</p>
<p>Of course you always free to define your own scheme of versioning, but do not call it semver if it does not comply with the spec. </p>
<p>Sorry again for previous comment’s tone.</p>
</div>
        </div>
    </li>

    <ul class='children'>
    <li class="comment odd alt depth-4" id="dsq-comment-270">
        <div id="dsq-comment-header-270" class="dsq-comment-header">
            <cite id="dsq-cite-270">
http://codebetter.com/sebastienlambla/                <span id="dsq-author-user-270">Sebastien Lambla</span>
            </cite>
        </div>
        <div id="dsq-comment-body-270" class="dsq-comment-body">
            <div id="dsq-comment-message-270" class="dsq-comment-message"><p>Let me clarify a bit more.</p>
<p>OpenWrap is a package manager. It lets you define dependencies that take version ranges, the same way most package managers let you do that out there. I have argued that it is semver-*friendly*, or semver-*compatible*, not that it enforces or is a pure semver system. Saying OpenWrap shouldn&#8217;t be associated with semver is like saying gems shouldn&#8217;t either, seeing as they don&#8217;t enforce it either (as far as I&#8217;m aware).</p>
<p>We encourage and recommend to library authors to follow semver.org versioning scheme (minus labels, I&#8217;ll get to that). If all library authors follow semver, and if users take dependencies in semver-friendly ways (aka `depends: myLibrary = 2.1` or `depends: myLibrary &gt;= 2.1`), then all is good in the world. You&#8217;ll notice by the way that the spec provides exactly that guidance (and it&#8217;s my turn to quote):</p>
<p>&#8221; you can safely specify the Ladder dependency as greater than or equal to 3.1.0 but less than 4.0.0&#8243;.</p>
<p>See, that&#8217;s what users do, use their package managers the way it can work, friendly with semver, if they so wish.</p>
<p>.net has 4 components in a version. That&#8217;s not our decision, that&#8217;s the state of affairs. OpenWrap only takes into account the first 3 for dependency resolution, and let consumers make the decision of how they want to take dependencies. You could argue that we ought to just *enforce* semver, but we cannot, for two reasons I&#8217;ve highlighted:<br />
1. we don&#8217;t control what library authors do, and if we did we would be incompatible with the packages that are out there, and those don&#8217;t follow semver because&#8230;<br />
2. the other package manager for which people produce packages not only does not use or enforce semver, but on top of that they use 4 components to a version when we use 3.</p>
<p>The whole package locking feature enables you to lock on the fourth component because we have to deal with the real world of packages that exist on nuget, and is a necessary compatibility feature because people don&#8217;t do semver. We can&#8217;t enforce semver because packages out there don&#8217;t follow semver.</p>
<p>The best we can do is to provide the option of being semver friendly (we are, 3 components instead of 4, and you can define your own autoupdate mechanism that follows semver if you so wish).  In other words, if you decide to build your libraries using semver then openwrap will function as a semver system, and if you have to use things that don&#8217;t do semver that works too.</p>
<p>As for labels, we&#8217;ve not implemented them yet and I have a tendency to believe that they don&#8217;t quite solve what they are set to sort out. The current problem I have is that the specification in semver says that 2.0.0beta &lt; 2.0.0 &lt; 2.0.1, but I&#039;m sure you can see that a beta package will probably not be compatible with the 2.0.0 public API the same way 2.0.1 would be. The solution I was going towards respects the logic of labels while solving this  incompatible behavior, by enforcing that packagename+packageversion stays unique, and leaving the &quot;beta&quot; moniker as a namespace in which the package lives. If you don&#039;t import a beta namespace when importing your dependency, they won&#039;t show up, but your dependency versioning strategy stays the same. This also lets you specify versioning ranges as normal, and just specify which namespaces get imported (so you can chose to import beta packages, rc packages, etc).</p>
<p>I&#039;m not sure that it&#039;ll pan out or that supporting labels isn&#039;t the way forward, I&#039;m undecided and the feature is just not implemented.</p>
<p>Note that the semver spec doesn&#039;t enforce a resolution algorithm on package managers, but a versioning schemes on library authors. By being semver friendly, what I absolutely mean is that I want to stay as close as possible to the spirit of the spec, even if it means that some of the syntax is different (and I don&#039;t think the value in semver is the syntax).</p>
<p>I hope this clarifies why I say that we are semver-*friendly* so far. You may disagree on the finer points, but there you are. If you want to continue chatting on the label issue, don&#039;t hesitate to email the openwrap development mailing list, comments are hardly the right place to discuss technical merits of various solutions.</p>
</div>
        </div>
    </li>

    </li>
</ul>
</li>
    <li class="comment even depth-3" id="dsq-comment-269">
        <div id="dsq-comment-header-269" class="dsq-comment-header">
            <cite id="dsq-cite-269">
                <span id="dsq-author-user-269">Rafki</span>
            </cite>
        </div>
        <div id="dsq-comment-body-269" class="dsq-comment-body">
            <div id="dsq-comment-message-269" class="dsq-comment-message"><p>I&#8217;m just wanted to emphasise my point again. If you want OpenWrap to be “http://semver.org-friendly system” it should not allow “revision number”. On the top it should use semantic associated with different version changes (basically by auto upgrading to lasted patch version when it’s available and tolerating minor version upgrades). If you want to use Nuget packages simultaneously forcing “people in the pit of success” you should distinguish between “do as you wish” versioned packages and OpenWrap “http://semver.org-friendly” packages.</p>
</div>
        </div>
    </li>

    <ul class='children'>
    <li class="comment odd alt depth-4" id="dsq-comment-271">
        <div id="dsq-comment-header-271" class="dsq-comment-header">
            <cite id="dsq-cite-271">
http://codebetter.com/sebastienlambla/                <span id="dsq-author-user-271">Sebastien Lambla</span>
            </cite>
        </div>
        <div id="dsq-comment-body-271" class="dsq-comment-body">
            <div id="dsq-comment-message-271" class="dsq-comment-message"><p>As I highlighted below (I just sum it up for anyone reading those comments), rubygems can be semver friendly if you set it to be semver friendly. Enforcing semver for some packages and not others is close to impossible to do reliably and enforcing semver all the time, because of how pacakges that exist outside of my control and guidance, is not possible at all, be it that I&#8217;m happy or not about it. </p>
</div>
        </div>
    </li>

    </li>
</ul>
</li>
</ul>
</li>
    <li class="comment even depth-2" id="dsq-comment-267">
        <div id="dsq-comment-header-267" class="dsq-comment-header">
            <cite id="dsq-cite-267">
http://codebetter.com/sebastienlambla/                <span id="dsq-author-user-267">Sebastien Lambla</span>
            </cite>
        </div>
        <div id="dsq-comment-body-267" class="dsq-comment-body">
            <div id="dsq-comment-message-267" class="dsq-comment-message"><p>re-reading the post, I seem to imply that I ask people to use revision numbers for patching, I&#8217;m not. It&#8217;s not that clear cut: revision is litterally ignore, it gives a bit of power to lib developers to force updates when needed. Lib develpers ought to introduce changes in behavior (including fixing bugs that may change behavior) by increasing the build, the way semver highlights. The issues we&#8217;ve had with library developers has been a change in revision where it should be on the build. The revision we use as the nuclear option which is the equivalent of forced updates on a windows box.<br />
I&#8217;ll edit the post to make that clearer and update earlier posts that date back before semver was how we decided to implement stuff (pre 1.0).</p>
</div>
        </div>
    </li>

    </li>
    <li class="comment odd alt depth-2" id="dsq-comment-308">
        <div id="dsq-comment-header-308" class="dsq-comment-header">
            <cite id="dsq-cite-308">
http://codebetter.com/sebastienlambla/                <span id="dsq-author-user-308">Sebastien Lambla</span>
            </cite>
        </div>
        <div id="dsq-comment-body-308" class="dsq-comment-body">
            <div id="dsq-comment-message-308" class="dsq-comment-message"><p>I thought it&#8217;d be interesting to add for anyone that cares about this the latest rc of the semver spec, that adds revision and that we will support fully, as the current implementation of OpenWrap (since 1.0) is a subset of the now available full specification. Rafki, I&#8217;d highly suggest you go read the spec.</p>
</div>
        </div>
    </li>

    </li>
</ul>
</li>
    <li class="post pingback">
        <p>Pingback: <a href='http://blog.cwa.me.uk/2011/10/11/the-morning-brew-956/' rel='external nofollow' class='url'>The Morning Brew - Chris Alcock &raquo; The Morning Brew #956</a></p>
    </li>
    </li>
            </ul>


        </div>

    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/sebastienlambla/2011/10/10/openwrap-2-0package-locking/';
    var disqus_identifier = '83 http://codebetter.com/sebastienlambla/2011/10/10/openwrap-2-0package-locking/';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'codebetterblog';
    var disqus_title = "OpenWrap 2.0&ndash;Package locking";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = '?cf_action=sync_comments&post_id=83';

            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
            {
                'author_name':    "The Morning Brew - Chris Alcock &raquo; The Morning Brew #956",
                'author_url':    "http:\/\/blog.cwa.me.uk\/2011\/10\/11\/the-morning-brew-956\/",
                'date':            "10\/11\/2011 08:16 AM",
                'excerpt':        "[...] OpenWrap 2.0 - Package locking - Sebastien Lambla discusses a new feature recently added to his OpenWrap (v2) package ...",
                'type':            "pingback"            }
        ],
        'trackback_url': "http:\/\/codebetter.com\/sebastienlambla\/2011\/10\/10\/openwrap-2-0package-locking\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
        dsq.src = 'http' + '://' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.73';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li><li id="calendar-3" class="widget-container widget_calendar"><h3 class="widget-title">Seb&#8217;s ramblings</h3><div id="calendar_wrap"><table id="wp-calendar">
	<caption>October 2011</caption>
	<thead>
	<tr>
		<th scope="col" title="Monday">M</th>
		<th scope="col" title="Tuesday">T</th>
		<th scope="col" title="Wednesday">W</th>
		<th scope="col" title="Thursday">T</th>
		<th scope="col" title="Friday">F</th>
		<th scope="col" title="Saturday">S</th>
		<th scope="col" title="Sunday">S</th>
	</tr>
	</thead>

	<tfoot>
	<tr>
		<td colspan="3" id="prev"><a href="http://codebetter.com/sebastienlambla/2011/09/" title="View posts for September 2011">&laquo; Sep</a></td>
		<td class="pad">&nbsp;</td>
		<td colspan="3" id="next"><a href="http://codebetter.com/sebastienlambla/2011/11/" title="View posts for November 2011">Nov &raquo;</a></td>
	</tr>
	</tfoot>

	<tbody>
	<tr>
		<td colspan="5" class="pad">&nbsp;</td><td>1</td><td>2</td>
	</tr>
	<tr>
		<td><a href="http://codebetter.com/sebastienlambla/2011/10/03/" title="Developing multiple packages in one go">3</a></td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td>
	</tr>
	<tr>
		<td><a href="http://codebetter.com/sebastienlambla/2011/10/10/" title="OpenWrap 2.0&ndash;Package locking">10</a></td><td>11</td><td>12</td><td>13</td><td>14</td><td>15</td><td>16</td>
	</tr>
	<tr>
		<td>17</td><td>18</td><td>19</td><td>20</td><td>21</td><td>22</td><td>23</td>
	</tr>
	<tr>
		<td>24</td><td>25</td><td><a href="http://codebetter.com/sebastienlambla/2011/10/26/" title="OpenWrap 1.0.2 available">26</a></td><td><a href="http://codebetter.com/sebastienlambla/2011/10/27/" title="Free OpenWrap workshop, Cambridge, 5th of November">27</a></td><td><a href="http://codebetter.com/sebastienlambla/2011/10/28/" title="OpenWrap 2.0.1&ndash;a better way to look at dependencies">28</a></td><td>29</td><td>30</td>
	</tr>
	<tr>
		<td>31</td>
		<td class="pad" colspan="6">&nbsp;</td>
	</tr>
	</tbody>
	</table></div></li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
					<li id="meta-3" class="widget-container widget_meta"><h3 class="widget-title">Admin</h3>			<ul>
						<li><a href="http://codebetter.com/sebastienlambla/wp-login.php">Log in</a></li>
			<li><a href="http://codebetter.com/sebastienlambla/feed/" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://codebetterblog.disqus.com/latest.rss" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>
						</ul>
</li><li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/sebastienlambla/2012/04/' title='April 2012'>April 2012</a></li>
	<li><a href='http://codebetter.com/sebastienlambla/2012/02/' title='February 2012'>February 2012</a></li>
	<li><a href='http://codebetter.com/sebastienlambla/2012/01/' title='January 2012'>January 2012</a></li>
	<li><a href='http://codebetter.com/sebastienlambla/2011/12/' title='December 2011'>December 2011</a></li>
	<li><a href='http://codebetter.com/sebastienlambla/2011/11/' title='November 2011'>November 2011</a></li>
	<li><a href='http://codebetter.com/sebastienlambla/2011/10/' title='October 2011'>October 2011</a></li>
	<li><a href='http://codebetter.com/sebastienlambla/2011/09/' title='September 2011'>September 2011</a></li>
	<li><a href='http://codebetter.com/sebastienlambla/2011/06/' title='June 2011'>June 2011</a></li>
	<li><a href='http://codebetter.com/sebastienlambla/2011/04/' title='April 2011'>April 2011</a></li>
	<li><a href='http://codebetter.com/sebastienlambla/2011/03/' title='March 2011'>March 2011</a></li>
	<li><a href='http://codebetter.com/sebastienlambla/2011/02/' title='February 2011'>February 2011</a></li>
	<li><a href='http://codebetter.com/sebastienlambla/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/sebastienlambla/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/sebastienlambla/2010/10/' title='October 2010'>October 2010</a></li>
		</ul>
</li>				</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.424 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-26 14:43:18 -->

<!-- super cache -->