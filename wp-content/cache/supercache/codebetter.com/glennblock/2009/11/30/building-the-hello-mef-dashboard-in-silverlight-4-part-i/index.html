<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Building the Hello MEF dashboard in Silverlight 4 &#8211; Part I | Glenn Block</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/glennblock/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/glennblock/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/glennblock/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/glennblock/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/glennblock/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Glenn Block' href='http://codebetter.com/glennblock/' />
<link rel='start' title='IoC.AddComponent&lt;IBloggingStrategy, CodeBetterBloggingStrategy&gt;();' href='http://codebetter.com/glennblock/2008/01/03/ioc-addcomponent-lt-ibloggingstrategy-codebetterbloggingstrategy-gt/' />
<link rel='prev' title='MEF has landed in Silverlight 4. We come in the name of extensibility.' href='http://codebetter.com/glennblock/2009/11/29/mef-has-landed-in-silverlight-4-we-come-in-the-name-of-extensibility/' />
<link rel='next' title='MEF Refresh of Preview 8 for Silverlight' href='http://codebetter.com/glennblock/2009/12/02/mef-refresh-of-preview-8-for-silverlight/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/glennblock/2009/11/30/building-the-hello-mef-dashboard-in-silverlight-4-part-i/' />
<link rel='shortlink' href='http://codebetter.com/glennblock/?p=105' />
<meta name="_awb_version" content="2.0.3" /><link rel="stylesheet" href="http://codebetter.com/glennblock/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.6" type="text/css" media="screen" /><link rel="stylesheet" href="http://disqus.com/stylesheets/mytechnobabble/disqus.css?v=2.0" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/glennblock/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-105" class="post-105 post type-post status-publish format-standard hentry category-hellomef category-mef category-silverlight category-sl4">
					<h1 class="entry-title">Building the Hello MEF dashboard in Silverlight 4 &#8211; Part I</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/glennblock/author/glennblock/" title="View all posts by Glenn Block">Glenn Block</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/glennblock/2009/11/30/building-the-hello-mef-dashboard-in-silverlight-4-part-i/" title="10:26 am" rel="bookmark"><span class="entry-date">November 30, 2009</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/glennblock/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/glennblock/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/glennblock/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p>In my last post I illustrated some of the basics of MEF through a Hello MEF dashboard app that I used in my PDC talk. In this series of posts, we&rsquo;ll build that application from scratch and then go even further than we did in that talk. This might take several posts, I am not sure yet, we&rsquo;ll just have to see <img src='http://codebetter.com/glennblock/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' />  We&rsquo;ll build the app in an incremental fashion, revisiting different parts along the way in order to introduce new functionality. </p>
<p>Before you invest the time, I&rsquo;ll give you a preview of the topics we&rsquo;ll cover along the way.</p>
<ul>
<li>Exports / Imports / Part Initializer &ndash; All that jazz </li>
<li>Export metadata </li>
<li>Custom exports </li>
<li>Overriding Part Initializer </li>
<li>Dynamic XAP downloading </li>
</ul>
<p>In this post, we&rsquo;ll cover just the first bullet.</p>
<p>To follow along, you will need Silverlight 4 and the Silverlight 4 toolkit. You can download Silverlight 4 beta&nbsp; <a href="http://www.silverlight.net/getstarted/silverlight-4-beta">here</a> and the toolkit <a href="http://silverlight.codeplex.com/">here</a>.</p>
<h2>The App</h2>
<p>Below is a screenshot of the dashboard application.</p>
<p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/glenn.block/image_5F00_4C8AB214.png"><img height="356" width="536" src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/glenn/block/image_thumb_6A1C8D13.png?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1920566610&amp;Signature=fULlbK6ab3kXeelN2TP4SHh%2fhIQ%3d" alt="image" border="0" style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" /></a> </p>
<p>May not look very complicated, but what we&rsquo;re showing here is actually quite sophisticated. The dashboard itself is a dumb shell. The two &ldquo;Hello MEF&rdquo; widgets you see are actually exports that are discovered by MEF. The dashboard itself has not knowledge of what it will find, but it does know how to place things that are provided to it, and it has different locations on the screen where things can go. If you&rsquo;re familiar with Prism, these are very similar to regions in principle though instead of modules pushing content into regions, MEF is pulling the content from whatever is available. More on this later.</p>
<p><em>Note: I&rsquo;ll admit, I suck as a designer though I think I could be good if I REALLY try <img src='http://codebetter.com/glennblock/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' />  Nice thing about SL is you don&rsquo;t have to be, as your friendly neighborhood designer can make something hideous a work of art. With that note, don&#8217;t expect a work of art out of this post.</em></p>
<h2>Step 1 &ndash; Create the app</h2>
<p>Nothing fancy here, just create a new Silverlight application. Enter HelloMEF as the name.</p>
<p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/glenn.block/image_5F00_36E053AA.png"><img height="274" width="427" src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/glenn/block/image_thumb_008F2B9B.png?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1920566610&amp;Signature=Ibeft4eBFVJhghvbKsICj1jZtDc%3d" alt="image" border="0" style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" /></a> </p>
<p>Leave the &ldquo;Host the Silverlight application in a new Web Site&rdquo; checked. We&rsquo;ll use this later as we get into XAP partitioning.</p>
<p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/glenn.block/image_5F00_2D37E574.png"><img height="314" width="392" src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/glenn/block/image_thumb_532D95CA.png?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1920566610&amp;Signature=6idmE4eLRV51V00kNGyFDoqoSqg%3d" alt="image" border="0" style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" /></a> </p>
<h2>Step 2. Create the dashboard UI.</h2>
<p>For this dashboard we&rsquo;re going to create something simple, amazingly simple, amazingly stupidly simple. But it works. We&rsquo;ll create a StackPanel with two items control which will be populated with our widges. Jump into your MainPage.xaml and paste the following.</p>
<pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">UserControl</span> <span style="color: #ff0000">x</span>:<span style="color: #ff0000">Class</span>=<span style="color: #0000ff">"HelloMEF.MainPage"</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #ff0000">xmlns</span>=<span style="color: #0000ff">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #ff0000">xmlns</span>:<span style="color: #ff0000">x</span>=<span style="color: #0000ff">"http://schemas.microsoft.com/winfx/2006/xaml"</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #ff0000">xmlns</span>:<span style="color: #ff0000">d</span>=<span style="color: #0000ff">"http://schemas.microsoft.com/expression/blend/2008"</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #ff0000">xmlns</span>:<span style="color: #ff0000">mc</span>=<span style="color: #0000ff">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #ff0000">mc</span>:<span style="color: #ff0000">Ignorable</span>=<span style="color: #0000ff">"d"</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #ff0000">d</span>:<span style="color: #ff0000">DesignHeight</span>=<span style="color: #0000ff">"300"</span> <span style="color: #ff0000">d</span>:<span style="color: #ff0000">DesignWidth</span>=<span style="color: #0000ff">"400"</span><span style="color: #0000ff">&gt;</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">StackPanel</span> <span style="color: #ff0000">x</span>:<span style="color: #ff0000">Name</span>=<span style="color: #0000ff">"LayoutRoot"</span> <span style="color: #ff0000">Background</span>=<span style="color: #0000ff">"Black"</span><span style="color: #0000ff">&gt;</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        <span style="color: #0000ff">&lt;</span><span style="color: #800000">Border</span> <span style="color: #ff0000">Background</span>=<span style="color: #0000ff">"Cyan"</span><span style="color: #0000ff">&gt;</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">            <span style="color: #0000ff">&lt;</span><span style="color: #800000">ItemsControl</span> <span style="color: #ff0000">x</span>:<span style="color: #ff0000">Name</span>=<span style="color: #0000ff">"TopWidgets"</span> <span style="color: #ff0000">Height</span>=<span style="color: #0000ff">"Auto"</span> <span style="color: #ff0000">FontSize</span>=<span style="color: #0000ff">"30"</span><span style="color: #0000ff">&gt;</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">ItemsControl</span><span style="color: #0000ff">&gt;</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        <span style="color: #0000ff">&lt;/</span><span style="color: #800000">Border</span><span style="color: #0000ff">&gt;</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        <span style="color: #0000ff">&lt;</span><span style="color: #800000">Border</span> <span style="color: #ff0000">Background</span>=<span style="color: #0000ff">"Yellow"</span><span style="color: #0000ff">&gt;</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">            <span style="color: #0000ff">&lt;</span><span style="color: #800000">ItemsControl</span> <span style="color: #ff0000">x</span>:<span style="color: #ff0000">Name</span>=<span style="color: #0000ff">"BottomWidgets"</span> <span style="color: #ff0000">Height</span>=<span style="color: #0000ff">"Auto"</span> <span style="color: #ff0000">FontSize</span>=<span style="color: #0000ff">"30"</span><span style="color: #0000ff">&gt;</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">ItemsControl</span><span style="color: #0000ff">&gt;</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        <span style="color: #0000ff">&lt;/</span><span style="color: #800000">Border</span><span style="color: #0000ff">&gt;</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #0000ff">&lt;/</span><span style="color: #800000">StackPanel</span><span style="color: #0000ff">&gt;</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">&lt;/</span><span style="color: #800000">UserControl</span><span style="color: #0000ff">&gt;</span></pre>
</pre>
<h2>Step 3. Find and show the widgets &ndash; Importing many</h2>
<p>Our dashboard is supposed to populate itself with widgets. The first thing we need to think about is what exactly is a widget <img src='http://codebetter.com/glennblock/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' />  In MEF when we have the concept of a contract. A c<em>ontract</em> represents something that will either be provided (exported) or consumed (imported). The easiest way to think about it for now is what type is the extension. In the case of our dashboard let&rsquo;s just assume each widget is a UserControl. We could create a new base type or an interface, but we don&rsquo;t need to. UserControl will do just fine. </p>
<p>So now we need to tell MEF we need a collection of UserControl, that is we want to import many UserControls. And for that we have the ImportMany attribute.</p>
<p>First add a reference to System.ComponentModel.Composition, and System.ComponentModel.Composition.Initialization.dll. To find them you&rsquo;ll need to browse to your Silverlight SDK directory (C:\Program Files\Microsoft SDKs\Silverlight\v4.0\Libraries\Client). Next go into the code-behind of MainPage.xaml.cs and overwrite the class with the following. </p>
<pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">using</span> System;
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">using</span> System.Windows.Controls;
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">using</span> System.ComponentModel.Composition;
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">namespace</span> HelloMEF
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">{
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #0000ff">public</span> partial <span style="color: #0000ff">class</span> MainPage : UserControl
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    {
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        <span style="color: #0000ff">public</span> MainPage()
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        {
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">            InitializeComponent();
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        }
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        [ImportMany]
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        <span style="color: #0000ff">public</span> UserControl[] Widgets { <span style="color: #0000ff">get</span>; <span style="color: #0000ff">set</span>; }
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    }
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">}
</pre>
</pre>
<p>Basically we&rsquo;re saying &ldquo;MEF, give me the widgets&rdquo;</p>
<p>Once we have the widgets, we need to show them on the screen. For now, let&rsquo;s assume all widgets will go in the same ItemsControl. Let&rsquo;s add the logic to the constructor.</p>
<pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">using</span> System;
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">using</span> System.Windows.Controls;
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">using</span> System.ComponentModel.Composition;
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">namespace</span> HelloMEF
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">{
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #0000ff">public</span> partial <span style="color: #0000ff">class</span> MainPage : UserControl
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    {
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        <span style="color: #0000ff">public</span> MainPage()
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        {
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">            InitializeComponent();
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">            <span style="color: #0000ff">foreach</span> (var widget <span style="color: #0000ff">in</span> Widgets)
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">                TopWidgets.Items.Add(widget);
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        }
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        [ImportMany]
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        <span style="color: #0000ff">public</span> UserControl[] Widgets { <span style="color: #0000ff">get</span>; <span style="color: #0000ff">set</span>; }
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    }
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">}
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"></pre>
</pre>
<h2>Step 4: Create a widget &ndash; Export</h2>
<p>Now that we&rsquo;ve got our basic Dashboard setup, let&rsquo;s create a widget. Right click on the &ldquo;HelloMEF&rdquo; project and add a new Silverlight UserControl specifying Widget1 for the name.</p>
<p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/glenn.block/image_5F00_5D128735.png"><img height="334" width="521" src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/glenn/block/image_thumb_029C0497.png?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1920566610&amp;Signature=ueyW5Juf0wNVP%2f%2f5fs8yaq5pJlg%3d" alt="image" border="0" style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" /></a> </p>
<p>Our widget is also going to be dead simple, and simply be a button. Go into Widget1.xaml and paste the following.</p>
<pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">UserControl</span> <span style="color: #ff0000">x</span>:<span style="color: #ff0000">Class</span>=<span style="color: #0000ff">"HelloMEF.Widget1"</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #ff0000">xmlns</span>=<span style="color: #0000ff">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #ff0000">xmlns</span>:<span style="color: #ff0000">x</span>=<span style="color: #0000ff">"http://schemas.microsoft.com/winfx/2006/xaml"</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #ff0000">xmlns</span>:<span style="color: #ff0000">d</span>=<span style="color: #0000ff">"http://schemas.microsoft.com/expression/blend/2008"</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #ff0000">xmlns</span>:<span style="color: #ff0000">mc</span>=<span style="color: #0000ff">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #ff0000">mc</span>:<span style="color: #ff0000">Ignorable</span>=<span style="color: #0000ff">"d"</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #ff0000">d</span>:<span style="color: #ff0000">DesignHeight</span>=<span style="color: #0000ff">"300"</span> <span style="color: #ff0000">d</span>:<span style="color: #ff0000">DesignWidth</span>=<span style="color: #0000ff">"400"</span><span style="color: #0000ff">&gt;</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">Grid</span> <span style="color: #ff0000">x</span>:<span style="color: #ff0000">Name</span>=<span style="color: #0000ff">"LayoutRoot"</span> <span style="color: #ff0000">Height</span>=<span style="color: #0000ff">"Auto"</span><span style="color: #0000ff">&gt;</span></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        <span style="color: #0000ff">&lt;</span><span style="color: #800000">Button</span> <span style="color: #ff0000">x</span>:<span style="color: #ff0000">Name</span>=<span style="color: #0000ff">"Button"</span> <span style="color: #ff0000">Content</span>=<span style="color: #0000ff">"Hello MEF!"</span> <span style="color: #ff0000">Width</span>=<span style="color: #0000ff">"300"</span> <span style="color: #ff0000">Height</span>=<span style="color: #0000ff">"100"</span><span style="color: #0000ff">&gt;</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">Button</span><span style="color: #0000ff">&gt;</span></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #0000ff">&lt;/</span><span style="color: #800000">Grid</span><span style="color: #0000ff">&gt;</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">&lt;/</span><span style="color: #800000">UserControl</span><span style="color: #0000ff">&gt;</span>
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"></pre>
</pre>
<p>Now we need to tell MEF that we want to provide our widget to importers of UserControl. To do this we will Export it. Go into HelloMEF.Widget1.cs and paste the following:</p>
<pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">using</span> System;
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">using</span> System.ComponentModel.Composition;
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">using</span> System.Windows.Controls;
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">using</span> System.Windows;
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">namespace</span> HelloMEF
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">{
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    [Export(<span style="color: #0000ff">typeof</span>(UserControl))]
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #0000ff">public</span> partial <span style="color: #0000ff">class</span> Widget1 : UserControl
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    {
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        <span style="color: #0000ff">public</span> Widget1()
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        {
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">            InitializeComponent();
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        }
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    }
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">}
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"></pre>
</pre>
<p>Notice above we added an Export attribute and specified UserControl as the type. If we did not pass the type, then MEF would have just exported Widget1 as itself, which would not be of much use as the dashboard will never find it! That being said there are times when it does make sense to use the concrete type, but this is not one of them <img src='http://codebetter.com/glennblock/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> </p>
<h2>Step 5 &ndash; Compose the dashboard</h2>
<p>OK, we&rsquo;ve implemented our Dashboard, specified our imports, and created our widget. That means if we run the app, we&rsquo;ll see widgets right? Wrong <img src='http://codebetter.com/glennblock/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' />  Try running and you&rsquo;ll see this nasty exception.</p>
<p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/glenn.block/image_5F00_1A533BFD.png"><img height="313" width="486" src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/glenn/block/image_thumb_26E0E919.png?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1920566610&amp;Signature=vdPZkRvJIaNcaF1GKOgR60DENgc%3d" alt="image" border="0" style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" /></a>&nbsp;&nbsp; <br />What happened? Our Widgets property is null, but why? The reason is because we never told MEF to do anything with it? Yes we put an ImportMany attribute, but MEF needs to somehow our MainPage in order to know it needs to provide anything. Which brings us to our last concept, <em>composition</em>. </p>
<p>In MEF there are basically 3 things you need to do. First two, declare your exports and imports which we did already. Third, tell MEF to actually go and compose, that is satisfy all imports. The places to do this (you can do it more than once) are where there are 1 or more imports and no exports. In this case our MainPage is the place where we import Widgets so that is the place. </p>
<p><em>Note: We won&rsquo;t put it in the widgets themselves as they export themselves. Why not? Because when MEF pulls on an export, it automatically satisfies any of the imports on the thing it pulls. There is an exception to this, but we&rsquo;ll cover it later.</em></p>
<p>In general whenever you have user controls that are created in XAML, you&rsquo;ll use this technique. Telling MEF to compose in Silverlight takes only about 12 lines of code. It&rsquo;s really easy code and 12 lines that are well worth it. </p>
<p>Kidding <img src='http://codebetter.com/glennblock/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> </p>
<p>To tell MEF to compose you invoke a single call, PartInitializer.SatisfyImports(this). In MEF, anything that has imports or exports we consider a Part, which is why the name. Below is the code added in MainPage.cs</p>
<pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">using</span> System;
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">using</span> System.Windows.Controls;
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">using</span> System.ComponentModel.Composition;
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"><span style="color: #0000ff">namespace</span> HelloMEF
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">{
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    <span style="color: #0000ff">public</span> partial <span style="color: #0000ff">class</span> MainPage : UserControl
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    {
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        <span style="color: #0000ff">public</span> MainPage()
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        {
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">            InitializeComponent();
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">            PartInitializer.SatisfyImports(<span style="color: #0000ff">this</span>);
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">            <span style="color: #0000ff">foreach</span> (var widget <span style="color: #0000ff">in</span> Widgets)
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">                TopWidgets.Items.Add(widget);
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        }
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        [ImportMany]
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">        <span style="color: #0000ff">public</span> UserControl[] Widgets { <span style="color: #0000ff">get</span>; <span style="color: #0000ff">set</span>; }
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">    }
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 10px">}
</pre>
</pre>
<p>Now when we Run, we see our first widget show up.&nbsp; </p>
<p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/glenn.block/image_5F00_5793F0C4.png"><img height="268" width="484" src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/glenn/block/image_thumb_64219DE0.png?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1920566610&amp;Signature=EfTFK4BOWo%2fR1RibZ3YMxy%2fXTYA%3d" alt="image" border="0" style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" /></a></p>
<h2>&nbsp;</h2>
<h2>Summary</h2>
<p>OK, it&rsquo;s 2:17 am, time to go to bed. I guess this will run several posts after all. <img src='http://codebetter.com/glennblock/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> </p>
<p>In this post we&rsquo;ve seen the basics of exporting, importing and composition in MEF. We&rsquo;ve also touched on the concept of contracts and parts, which we will delve further into the future.</p>
<p>In the next post we&rsquo;ll cover the following</p>
<ul>
<li>Providing / Accessing export metadata</li>
<li>Other ways to import and a deeper look at contracts</li>
<li>Providing custom exports</li>
</ul>
<p>PS: This is not my normal style of posting. I am following in the lead of my mentor, guru and overall awesome guy <a href="http://blogs.msdn.com/brada">Brad Abrams</a>. Please feel free to give feedback on how I can improve. I am looking forward to taking this trip with you.</p>
<p><strong>Code is attached</strong></p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/glennblock/category/hellomef/" title="View all posts in HelloMEF" rel="category tag">HelloMEF</a>, <a href="http://codebetter.com/glennblock/category/mef/" title="View all posts in MEF" rel="category tag">MEF</a>, <a href="http://codebetter.com/glennblock/category/silverlight/" title="View all posts in silverlight" rel="category tag">silverlight</a>, <a href="http://codebetter.com/glennblock/category/sl4/" title="View all posts in SL4" rel="category tag">SL4</a>. Bookmark the <a href="http://codebetter.com/glennblock/2009/11/30/building-the-hello-mef-dashboard-in-silverlight-4-part-i/" title="Permalink to Building the Hello MEF dashboard in Silverlight 4 &#8211; Part I" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/glennblock/2009/11/30/building-the-hello-mef-dashboard-in-silverlight-4-part-i/feed/" title="Comments RSS to Building the Hello MEF dashboard in Silverlight 4 &#8211; Part I" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-105 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/glennblock/2009/11/29/mef-has-landed-in-silverlight-4-we-come-in-the-name-of-extensibility/" rel="prev"><span class="meta-nav">&larr;</span> MEF has landed in Silverlight 4. We come in the name of extensibility.</a></div>
					<div class="nav-next"><a href="http://codebetter.com/glennblock/2009/12/02/mef-refresh-of-preview-8-for-silverlight/" rel="next">MEF Refresh of Preview 8 for Silverlight <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
					<div id="dsq-content">
			<ul id="dsq-comments">
					<li id="dsq-comment-440">
					<div id="dsq-comment-header-440" class="dsq-comment-header">
						<cite id="dsq-cite-440">
								<span id="dsq-author-user-440">matt herb</span>
							</cite>
					</div>
					<div id="dsq-comment-body-440" class="dsq-comment-body">
						<div id="dsq-comment-message-440" class="dsq-comment-message"><p>good!</p>
<p>first MEF article I made it to the end and totally understood what I read</p>
<p>I am still confused if I can use this instead of Prism though.. Id like to just concentrate on learning one for creating a decoupled app</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-441">
					<div id="dsq-comment-header-441" class="dsq-comment-header">
						<cite id="dsq-cite-441">
								<span id="dsq-author-user-441">Fallon Massey</span>
							</cite>
					</div>
					<div id="dsq-comment-body-441" class="dsq-comment-body">
						<div id="dsq-comment-message-441" class="dsq-comment-message"><p>I have two questions.</p>
<p>1.  Why is this called a Dashboard, and<br />
2.  Where is the project for this posting?</p>
<p>Thank You.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-442">
					<div id="dsq-comment-header-442" class="dsq-comment-header">
						<cite id="dsq-cite-442">
								<span id="dsq-author-user-442">Corrado Cavalli</span>
							</cite>
					</div>
					<div id="dsq-comment-body-442" class="dsq-comment-body">
						<div id="dsq-comment-message-442" class="dsq-comment-message"><p>Amazing post Glenn, I love this style, simple and clear please go on!</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-443">
					<div id="dsq-comment-header-443" class="dsq-comment-header">
						<cite id="dsq-cite-443">
	http://ctlabs.blogspot.com/							<span id="dsq-author-user-443">Sameer C Thiruthikad</span>
							</cite>
					</div>
					<div id="dsq-comment-body-443" class="dsq-comment-body">
						<div id="dsq-comment-message-443" class="dsq-comment-message"><p>Thanks for the great post with new style. Can you please address making a Silverlight Navigation application using MEF so that each page or set of pages are loaded dynamically from different XAP files?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-444">
					<div id="dsq-comment-header-444" class="dsq-comment-header">
						<cite id="dsq-cite-444">
	http://codebetter.com/members/gblock/default.aspx							<span id="dsq-author-user-444">Glenn Block</span>
							</cite>
					</div>
					<div id="dsq-comment-body-444" class="dsq-comment-body">
						<div id="dsq-comment-message-444" class="dsq-comment-message"><p>Thanks guys, I added the code.</p>
<p>@Fallon</p>
<p>1. It&#8217;s called a dashboard, because it represents a pluggable dashboard like one would have in a portal style app.</p>
<p>2. Attached now.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-445">
					<div id="dsq-comment-header-445" class="dsq-comment-header">
						<cite id="dsq-cite-445">
	http://joshrobb.com							<span id="dsq-author-user-445">Josh Robb</span>
							</cite>
					</div>
					<div id="dsq-comment-body-445" class="dsq-comment-body">
						<div id="dsq-comment-message-445" class="dsq-comment-message"><p>Glen &#8211; thanks for the writeup! This was _really_ helpful.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-446">
					<div id="dsq-comment-header-446" class="dsq-comment-header">
						<cite id="dsq-cite-446">
	http://johnpapa.net							<span id="dsq-author-user-446">John Papa</span>
							</cite>
					</div>
					<div id="dsq-comment-body-446" class="dsq-comment-body">
						<div id="dsq-comment-message-446" class="dsq-comment-message"><p>Nice post Glenn. I finally got around to reading through it and I am glad I did. I like to think of Import and Export as the act of a parent (MEF) putting its 2 kids in different rooms. They are told to hang loose until the count of 3. When the parent (MEF again) says counts down and says &#8220;Go&#8221; (aka Composition), the 2 kids race towards each other to play. OK, not a great analogy, but seriously, I like that import and export don;t just know about each other. No automagic composition.</p>
<p>Good stuff.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-447">
					<div id="dsq-comment-header-447" class="dsq-comment-header">
						<cite id="dsq-cite-447">
	http://codebetter.com/members/gblock/default.aspx							<span id="dsq-author-user-447">Glenn Block</span>
							</cite>
					</div>
					<div id="dsq-comment-body-447" class="dsq-comment-body">
						<div id="dsq-comment-message-447" class="dsq-comment-message"><p>@John I love that. <img src='http://codebetter.com/glennblock/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' />  </p>
<p>Kathleen Dollard uses a different analogy of kids in a Kindergarten. One kid (the importer) says &#8220;I need a fire-engine&#8221;. Another kid on the other side of the room says &#8220;I have a fire engine&#8221;. The teacher than brings the two kids together.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-448">
					<div id="dsq-comment-header-448" class="dsq-comment-header">
						<cite id="dsq-cite-448">
	http://www.custom-training-courses.co.uk/Bespoke/UK/Silverlight/Course.aspx							<span id="dsq-author-user-448">Silverlight Trainer</span>
							</cite>
					</div>
					<div id="dsq-comment-body-448" class="dsq-comment-body">
						<div id="dsq-comment-message-448" class="dsq-comment-message"><p>This makes building silverlight dashboards soooo simple. Do you imaging Microsoft will include a dashboard usercontrol template in the future so all the developer need do is write the widgets?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-449">
					<div id="dsq-comment-header-449" class="dsq-comment-header">
						<cite id="dsq-cite-449">
	http://codebetter.com/members/gblock/default.aspx							<span id="dsq-author-user-449">Glenn Block</span>
							</cite>
					</div>
					<div id="dsq-comment-body-449" class="dsq-comment-body">
						<div id="dsq-comment-message-449" class="dsq-comment-message"><p>@SilverlightTrainer It&#8217;s entirely possible though I don&#8217;t think anyone is looking at that yet. We&#8217;re certainly always pushing <img src='http://codebetter.com/glennblock/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> </p>
</div>
					</div>
				</li>
					<li id="dsq-comment-450">
					<div id="dsq-comment-header-450" class="dsq-comment-header">
						<cite id="dsq-cite-450">
	http://codebetter.com/members/gblock/default.aspx							<span id="dsq-author-user-450">Glenn Block</span>
							</cite>
					</div>
					<div id="dsq-comment-body-450" class="dsq-comment-body">
						<div id="dsq-comment-message-450" class="dsq-comment-message"><p>@Matt Herb you might want to check out my Prism/MEF post. Short answer, like all things &#8220;It depends&#8221; <img src='http://codebetter.com/glennblock/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> </p>
</div>
					</div>
				</li>
					<li id="dsq-comment-451">
					<div id="dsq-comment-header-451" class="dsq-comment-header">
						<cite id="dsq-cite-451">
	http://codebetter.com/members/gblock/default.aspx							<span id="dsq-author-user-451">Glenn Block</span>
							</cite>
					</div>
					<div id="dsq-comment-body-451" class="dsq-comment-body">
						<div id="dsq-comment-message-451" class="dsq-comment-message"><p>@Corrado, thanks and i will <img src='http://codebetter.com/glennblock/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> </p>
</div>
					</div>
				</li>
					<li id="dsq-comment-452">
					<div id="dsq-comment-header-452" class="dsq-comment-header">
						<cite id="dsq-cite-452">
	http://blogger.forgottenskies.com							<span id="dsq-author-user-452">Steve</span>
							</cite>
					</div>
					<div id="dsq-comment-body-452" class="dsq-comment-body">
						<div id="dsq-comment-message-452" class="dsq-comment-message"><p>Glenn,</p>
<p>Could you discuss how is this different than using an IOC container and injecting the correct usercontrol vs. using MEF  ?</p>
<p>Thank you</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-453">
					<div id="dsq-comment-header-453" class="dsq-comment-header">
						<cite id="dsq-cite-453">
	http://blogger.forgottenskies.com							<span id="dsq-author-user-453">Steve</span>
							</cite>
					</div>
					<div id="dsq-comment-body-453" class="dsq-comment-body">
						<div id="dsq-comment-message-453" class="dsq-comment-message"><p>Nevermind, I just went and read this  &#8230; <a href="http://codebetter.com/blogs/glenn.block/archive/2009/11/29/mef-has-landed-in-silverlight-4-we-come-in-the-name-of-extensibility.aspx" rel="nofollow">http://codebetter.com/blogs/glenn.block/archive/2009/11/29/mef-has-landed-in-silverlight-4-we-come-in-the-name-of-extensibility.aspx</a></p>
</div>
					</div>
				</li>
					<li id="dsq-comment-454">
					<div id="dsq-comment-header-454" class="dsq-comment-header">
						<cite id="dsq-cite-454">
	http://codebetter.com/members/gblock/default.aspx							<span id="dsq-author-user-454">Glenn Block</span>
							</cite>
					</div>
					<div id="dsq-comment-body-454" class="dsq-comment-body">
						<div id="dsq-comment-message-454" class="dsq-comment-message"><p>@Josh thanks, glad you like it.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-455">
					<div id="dsq-comment-header-455" class="dsq-comment-header">
						<cite id="dsq-cite-455">
								<span id="dsq-author-user-455">Adriaan Davel</span>
							</cite>
					</div>
					<div id="dsq-comment-body-455" class="dsq-comment-body">
						<div id="dsq-comment-message-455" class="dsq-comment-message"><p>Hi Glenn,<br />
Thanks for the post, I&#8217;m considering this for allowing people to &#8220;upload&#8221; new technology to my applications (implemented by an interface), is this the correct technology for this? How will I store the uploads, and re-publish them to clients? (Storing is probably easy)<br />
If you already answered this, sorry <img src='http://codebetter.com/glennblock/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
</div>
					</div>
				</li>
					<li id="dsq-comment-456">
					<div id="dsq-comment-header-456" class="dsq-comment-header">
						<cite id="dsq-cite-456">
								<span id="dsq-author-user-456">Josh Gough</span>
							</cite>
					</div>
					<div id="dsq-comment-body-456" class="dsq-comment-body">
						<div id="dsq-comment-message-456" class="dsq-comment-message"><p>Thanks Glenn, this is helping me a lot.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-457">
					<div id="dsq-comment-header-457" class="dsq-comment-header">
						<cite id="dsq-cite-457">
								<span id="dsq-author-user-457">Richard Waddell</span>
							</cite>
					</div>
					<div id="dsq-comment-body-457" class="dsq-comment-body">
						<div id="dsq-comment-message-457" class="dsq-comment-message"><p>PartInitializer has apparently been renamed to CompositionInitializer.</p>
<p>Thanks for the post, really easy to understand. Love the designer humor &#8211; I feel the same, except when I read an article by an actual designer who did take the time to REALLY try &#8211; I&#8217;m deeply humbled. : > )</p>
</div>
					</div>
				</li>
				</ul>
		</div>
	</div>

<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript">
/* <![CDATA[ */
	var disqus_url = 'http://codebetter.com/glennblock/2009/11/30/building-the-hello-mef-dashboard-in-silverlight-4-part-i/ ';
	var disqus_identifier = '105 /blogs/glenn.block/archive/2009/11/30/building-the-hello-mef-dashboard-in-silverlight-4-part-i.aspx';
	var disqus_container_id = 'disqus_thread';
	var disqus_domain = 'disqus.com';
	var disqus_shortname = 'mytechnobabble';
	var disqus_title = "Building the Hello MEF dashboard in Silverlight 4 &#8211; Part I";
		var disqus_config = function () {
	    var config = this; // Access to the config object

	    /* 
	       All currently supported events:
	        * preData  fires just before we request for initial data
	        * preInit - fires after we get initial data but before we load any dependencies
	        * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
	        * afterRender - fires when template is rendered but before we show it
	        * onReady - everything is done
	     */

		config.callbacks.preData.push(function() {
			// clear out the container (its filled for SEO/legacy purposes)
			document.getElementById(disqus_container_id).innerHTML = '';
		});
				config.callbacks.onReady.push(function() {
			// sync comments in the background so we don't block the page
			DISQUS.request.get('?cf_action=sync_comments&post_id=105');
		});
					};
	var facebookXdReceiverPath = 'http://codebetter.com/glennblock/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
	var DsqLocal = {
		'trackbacks': [
		],
		'trackback_url': "http:\/\/codebetter.com\/glennblock\/2009\/11\/30\/building-the-hello-mef-dashboard-in-silverlight-4-part-i\/trackback\/"	};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript';
	dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.61';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
									</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter//third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.316 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-18 16:02:16 -->
<!-- super cache -->