<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Why use Event Sourcing? | Greg Young</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/gregyoung/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/gregyoung/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/gregyoung/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/gregyoung/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/gregyoung/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Greg Young' href='http://codebetter.com/gregyoung/' />
<link rel='start' title='Howdy and Viewing Unmanaged Code in VS.NET' href='http://codebetter.com/gregyoung/2006/06/09/howdy-and-viewing-unmanaged-code-in-vs-net/' />
<link rel='prev' title='CQRS and CAP Theorem' href='http://codebetter.com/gregyoung/2010/02/20/cqrs-and-cap-theorem/' />
<link rel='next' title='State Pattern Misuse' href='http://codebetter.com/gregyoung/2010/03/09/state-pattern-misuse/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/' />
<link rel='shortlink' href='http://codebetter.com/gregyoung/?p=138' />
<link rel="stylesheet" href="http://codebetter.com/gregyoung/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/gregyoung/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-138" class="post-138 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Why use Event Sourcing?</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/gregyoung/author/gregyoung/" title="View all posts by gregyoung">gregyoung</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/" title="8:06 pm" rel="bookmark"><span class="entry-date">February 20, 2010</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/gregyoung/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/gregyoung/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/gregyoung/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p>Udi and I agree on probably 95% of what we talk about, one of the places that we have differing opinions is in the use of Event Sourcing <em>I use the term as described previously to mean the rebuilding of objects based on events, not the definition that is currently on the bliki.</em> To me this is an important distinction and I figured it would be worthwhile to write a post on <strong>why </strong>I feel the way I do, I explained parts of it in the previous post about CQRS and Event Sourcing but I wanted to talk not just about how the patterns are symbiotic but also some of the other reasons I use event sourcing.</p>
<p>&#160;</p>
<h3>Using a RDBMS</h3>
<p>To start with let’s go through the alternative architecture, that is to rebuild objects from something that saves current state on the write side. I say <strong>something </strong>because that something could be many things; bigtable, mongodb, a relational database, xml files, photos of the objects that are then scanned in … It really doesn’t matter for the sake of this discussion, what matters is the storing of current state. For the sake of discussion let’s imagine that it is a relational database which Udi generally recommends here is the slide he generally uses to talk about it.</p>
<p>&#160;</p>
<p><a href="http://codebetter.com/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/gregyoung/cqrs_5F00_73072920.png"><img style="border-bottom: 0px;border-left: 0px;float: none;margin-left: auto;border-top: 0px;margin-right: auto;border-right: 0px" border="0" alt="cqrs" src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/gregyoung/cqrs_thumb_42FCD79F.png?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1920566612&amp;Signature=YSA65FPZwMha0k8NuTESBkNjH04%3d" width="244" height="157" /></a> </p>
<p>&#160;</p>
<p>Data is stored, as normal in the relational database and the domain is instrumented to send events as well which can then be used with read model. There are some really good things about this architecture that I would like to go through before I talk about some of the issues I have run into with it in the past.</p>
<p>&#160;</p>
<p>First of all this architecture is highly applicable to legacy systems that would like to move to a separated read model for some of their data (it is important to note that you may not move <strong>all </strong>of your data to a separated read model). it is also very familiar to development teams, operations, and management. We are well aware of how to deal with such a system, never underestimate the value of familiarity.</p>
<p>&#160;</p>
<p>There are however some issues that exist with using something that is storing a snapshot of current state. The largest issue revolves around the fact that you have introduced two models to your data. You have an event model and a model representing current state. If you look in the above diagram you will see there are two operations, write and publish.</p>
<p>&#160;</p>
<p>Any time that you represent things in more than one model you have to worry about keeping those two models in sync and this situation does not escape that. As an example, how do you rationalize that the data you saved to your database actually matches up with the events that you sent out? One can write unit tests to help try to keep things synchronized but they will eventually fall out of sync with each other and when they do, you have a problem.</p>
<p>&#160;</p>
<p>Another problem with the having of two models is that it is necessarily more work. One must create the code to save the current state of the objects and one must write the code to generate and publish the events. No matter how go about doing these things it cannot possibly be easier than only publishing events, even if you had something that made storing current state completely trivial to say a document storage, there is still the effort of bringing that into the project.</p>
<p>&#160;</p>
<p>Beyond all of that for me, the focus tends to be on the current state based model when the system is really <strong>event </strong>centric. This may sound like a nitpicky issue but I find teams doing this look at events with less importance than those who use events as storage as well as the latter <strong>only </strong>use events they are extremely event centric.</p>
<p>&#160;</p>
<h3>Using Event Sourcing</h3>
<p>Using Event Sourcing does not change the architecture above much, the primary difference is that we have an Event Store holding the events to rebuild an object behind the domain as opposed to something storing the current state. There are however many interesting differences between the two architectures.</p>
<p>&#160;</p>
<p>The first major difference is that it solves the problem of having two models. It removes the cost of having to deal with synchronization between the two and most importantly it removes the possibility that the two diverge. Having models diverge could be very bad as we use the event model as our integration model so others can create parallel models of our model. If we have a synchronization issue, they will have bad data while we have correct data, ouch. With Event Sourcing we only save the event (that can even be called “publishing it”)</p>
<p>&#160;</p>
<p>There are however other benefits to using Event Sourcing as opposed to storing current state. I went through some of them briefly in <a href="http://codebetter.com/blogs/gregyoung/archive/2010/02/13/cqrs-and-event-sourcing.aspx">another post.</a> One of those benefits is that we can avoid having to use a 2pc transaction between the data model and the message queue (if we are using one)… the reason for this is that the event storage itself is also a queue, we could be trailing the event storage to place the items on the queue (or directly use the event storage as a queue).</p>
<p>&#160;</p>
<p>Testing however is a big win with Event Sourcing, since all of your state changes are done through events you can simply test the events coming out the other side. This is particularly interesting when one considers that with events since you are being explicit about what is changing you are also testing <strong>what is not happening</strong>. Very few people write tests to show what doesn’t happen on behaviors (also a prime place where models can lose sync) eg: I am calling ScheduleAppointment on an object, do you check to make sure the address hasn’t changed? Since I in testing would assert that I only received an AppointmentScheduledEvent. Beyond that since we <strong>only </strong>deal with events on the other side we can view (and test) our domain as being a rather complex finite state machine which offers some very cool possibilities.</p>
<p>&#160;</p>
<p>Of course we have left out what I think is one of the key values of Event Sourcing, we actually have the changes. Let’s say I get a concurrency violation (request is from version 5 while the current data is at version 12). With Event Sourcing I can ask for all of those events in between and see if any of those actually conflict with the command that I want to run (I will write a post on more about this works soon). In other words we provide intelligent merging…</p>
<p>&#160;</p>
<p>You will note that I have not talked about any of the general benefits of Event Sourcing, such as the business value of the events, the value of having a log, the fact that the Event Store is additive only. I am leaving these out because many of these can exist in both systems. In the former you can save all of your events historically as well.</p>
<p>&#160;</p>
<p>I hope this explains a bit about the differences between the models. I want to provide people as well a quick list of some of the pros and cons of each.</p>
<p>&#160;</p>
<h3>Current State Backing</h3>
<blockquote><h4><strong>Pros</strong></h4>
<p>Easier to retrofit on a legacy project</p>
<p>Well known technology/tools/skill sets</p>
<p>Easier sell for an organization</p>
<h4><strong>Cons</strong></h4>
<p>Dual models cost more and contain risk</p>
<p>Non-Event Centric</p>
</blockquote>
<h3>Event Storage Backing</h3>
<blockquote><h4><strong>Pros</strong></h4>
<p>Single Event Centric Model</p>
<p>Simplified/Better Testing</p>
<p>Conflict Management</p>
<h4><strong>Cons</strong></h4>
<p>Harder to sell to an organization</p>
<p>Less known tools/technologies (though you can implement the Event Store in a RDBMS which kind of mitigates this)</p>
<p>Very difficult to migrate a legacy app to</p>
<p>&#160;</p>
</blockquote>
<p>Hope this helps people.</p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/gregyoung/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/" title="Permalink to Why use Event Sourcing?" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/feed/" title="Comments RSS to Why use Event Sourcing?" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-138 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/gregyoung/2010/02/20/cqrs-and-cap-theorem/" rel="prev"><span class="meta-nav">&larr;</span> CQRS and CAP Theorem</a></div>
					<div class="nav-next"><a href="http://codebetter.com/gregyoung/2010/03/09/state-pattern-misuse/" rel="next">State Pattern Misuse <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

							<div id="comments">


			<h3 id="comments-title">23 Responses to <em>Why use Event Sourcing?</em> </h3>


			<ol class="commentlist">
						<li class="comment even thread-even depth-1" id="li-comment-2909">
		<div id="comment-2909">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/members/Greg/default.aspx' rel='external nofollow' class='url'>Greg</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2909">September 3, 2010 at 3:15 pm</a></div>

		<div class="comment-body"><p><a href="http://dl.dropbox.com/u/9355756/course.zip" rel="nofollow">http://dl.dropbox.com/u/9355756/course.zip</a> feel free to put any commentary on it on the dddcqrs google group.</p>
<p>Cheers,</p>
<p>Greg</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2908">
		<div id="comment-2908">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Roy Oliver</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2908">September 2, 2010 at 5:55 pm</a></div>

		<div class="comment-body"><p>That&#8217;s great, Greg.</p>
<p>Where is this material?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2907">
		<div id="comment-2907">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/members/Greg/default.aspx' rel='external nofollow' class='url'>Greg</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2907">September 2, 2010 at 1:15 pm</a></div>

		<div class="comment-body"><p>@Roy </p>
<p>Writing an event store takes all of about an afternoon. I have already put out about 35 pages of material (free) showing in depth how to do it. Not sure what more you want.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2906">
		<div id="comment-2906">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Roy Oliver</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2906">September 1, 2010 at 7:20 pm</a></div>

		<div class="comment-body"><p>Ok, I&#8217;m a fan of Event Sourcing coupled with CQRS now. Let me tell ya&#8230; setting up the intial plumbing is no fun, but once you have a structure in place that works for you, the skeleton is highly reusable for other projects.</p>
<p>Event Sourcing coupled with CQRS is amazing and worth implementing. The read model is highly scalable. My system doesn&#8217;t need to use query joins any more and the 100% accurate audit trail is a plus.</p>
<p>Perhaps when you&#8217;re done making money off those highly desirable training classes, you&#8217;ll share your setup (with code) for Event Sourcing w/ CQRS.</p>
<p>Thanks Greg.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2905">
		<div id="comment-2905">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Aaron Navarro</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2905">August 27, 2010 at 7:48 am</a></div>

		<div class="comment-body"><p>Regarding refactoring of legacy systems, especially ones with active record style architectures (assuming that is not the right choice);<br />
as a first step it seems to me that in many cases you should be able to to take your existing database and turn it into the reporting database, keeping your data access layer calls that read data and maybe turning your dumb entities into viewmodels. </p>
<p>Now with the query side done, you can build a real domain model and stuff the event store behind it. </p>
<p>You may even be able to use some of your old data access write methods as event handlers (to update the reporting db) for the domain events raised by your new domain.   </p>
<p>Just a thought really, I haven&#8217;t actually tried it <img src='http://codebetter.com/gregyoung/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2904">
		<div id="comment-2904">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Edvard Pitka</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2904">July 14, 2010 at 5:20 pm</a></div>

		<div class="comment-body"><p>For those asking for the example maybe this might help.  <a href="http://www.google.com/reader/view/?hl=en&#038;tab=wy#stream/feed%2Fhttp%3A%2F%2Ffeeds.feedburner.com%2FFohjin" rel="nofollow">http://www.google.com/reader/view/?hl=en&#038;tab=wy#stream/feed%2Fhttp%3A%2F%2Ffeeds.feedburner.com%2FFohjin</a></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2903">
		<div id="comment-2903">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/members/Greg/default.aspx' rel='external nofollow' class='url'>Greg</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2903">June 15, 2010 at 6:33 am</a></div>

		<div class="comment-body"><p>I would suggest serializing objects to your database. What you suggest will be a disaster and offer no benefit in any way.</p>
<p>Greg</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2902">
		<div id="comment-2902">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Roy Oliver</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2902">May 24, 2010 at 8:25 pm</a></div>

		<div class="comment-body"><p>I do not like the idea of storing serialized objects in a database. If I were going to use Event Sourcing for with a RDMS, what setup would you suggest?</p>
<p>The best setup I can think of is creating an Event Store with tables named after the events they collect. So I would have a table named CustomerChangedAddress.</p>
<p>Is that weird &#8211; what do you think ?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2901">
		<div id="comment-2901">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.ukdocumentstorage.com/' rel='external nofollow' class='url'>document storage</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2901">May 13, 2010 at 9:36 am</a></div>

		<div class="comment-body"><p>I would be keen to hear of any OSS projects that show how event sourcing can be used. Certainly more used to a situation where everything is live in the database. Interesting stuff.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2900">
		<div id="comment-2900">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/members/Greg/default.aspx' rel='external nofollow' class='url'>Greg</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2900">April 11, 2010 at 11:17 am</a></div>

		<div class="comment-body"><p>@Rikard no Prevlayer would not be a good option. Note that the events have domain meaning. Prevlayer and other tools such as it lose the intent of what was happening.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2899">
		<div id="comment-2899">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.alltomjava.se' rel='external nofollow' class='url'>Rikard Qvarforth</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2899">April 6, 2010 at 9:46 pm</a></div>

		<div class="comment-body"><p>Sounds like the old project Prevayler could take the driver seat for the event sourcing <img src='http://codebetter.com/gregyoung/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>Nice post but we need to find some comon strategies on how to apply this onto a legacy system.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2898">
		<div id="comment-2898">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codetemple.blogspot.com/' rel='external nofollow' class='url'>Tomas Bartkus</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2898">March 29, 2010 at 8:00 pm</a></div>

		<div class="comment-body"><p>Very nice post, but Leonardo question is good one. If there are 100000000 events that restores state of my object, how do you optimize loading process ? How do you do that if you are not storing snapshots ? </p>
<p>@Leonardo: For my current system we are creating snapshots of our objects and later when restoring state, first we load snapshot then we are applying all the rest events that occurred after snapshot was created</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2897">
		<div id="comment-2897">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://sdf' rel='external nofollow' class='url'>sdf</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2897">March 16, 2010 at 6:54 am</a></div>

		<div class="comment-body"><p>df</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2896">
		<div id="comment-2896">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://simon-says-architecture.com/' rel='external nofollow' class='url'>Szymon Pobiega</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2896">February 24, 2010 at 7:48 am</a></div>

		<div class="comment-body"><p>How about data that is only needed for reporting? Suppose I have a shipping domain where my cargo has a &#8216;delivery status&#8217; which describes its current location, estimated arrival date and so on. I don&#8217;t need this data when processing transactions, I only display it to users.</p>
<p>In CQRS with current state backing I would create a &#8216;Delivery&#8217; object in my domain and publish it as part of state change notification. I wouldn&#8217;t have to persist it in the domain state. It would be only persisted at reporting side.</p>
<p>When using event sourcing &#8216;Delivery&#8217; is part of my event and, as such, is persisted both in the domain event store and in reporting database. </p>
<p>Is this behavior correct? I am not telling that it is wrong, I only want to make sure I am not missing something obvious. It would be tempting to calculate &#8216;Delivery&#8217; object when restoring state from events but, as far as I understand, restoring state shouldn&#8217;t involve any business logic, right?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2895">
		<div id="comment-2895">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Leonardo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2895">February 22, 2010 at 11:23 pm</a></div>

		<div class="comment-body"><p>How would you build an entity from the domain model with a huge list of events? I can&#8217;t accept the fact of rebuilding every time the entities when retrieving them for a command process. </p>
<p>How would you implement event sourcing in a real application?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2894">
		<div id="comment-2894">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://historicmodeling.com/book' rel='external nofollow' class='url'>Michael L Perry</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2894">February 22, 2010 at 9:24 pm</a></div>

		<div class="comment-body"><p>I&#8217;ve found it necessary to define a partial ordering among the events. This makes it easy to query the event store directly, rather than applying the events to state-based storage. I&#8217;ve documented a series of patterns for doing this on <a href="http://historicmodeling.com" rel="nofollow">http://historicmodeling.com</a>.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2893">
		<div id="comment-2893">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">amir</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2893">February 22, 2010 at 3:58 am</a></div>

		<div class="comment-body"><p>can we have something like introduction in code from the very simple thing? Ex: One domain Person and the event PersonCreated how event sourcing help us simplified our live..I&#8217;m still don&#8217;t get the way to use EventSourcing even though I&#8217;m very interested, because the community still don&#8217;t have  so called the easiest way to implement the simple thing.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2892">
		<div id="comment-2892">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Chris</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2892">February 21, 2010 at 3:30 pm</a></div>

		<div class="comment-body"><p>Thanks for this.  Can you recommend any OSS projects to read that demonstrate the use of event sourcing, and particularly that illustrate the rebuilding of an object for the query model. </p>
<p>As someone who thinks in terms of a legacy app and applying this, I find it hard to break strongly enough away from the comfortable model that I&#8217;m used to &#8211; namely of having everything live in the DB.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2891">
		<div id="comment-2891">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">@seagile</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2891">February 21, 2010 at 9:43 am</a></div>

		<div class="comment-body"><p>Come to think of it the domain model is a statemachine and you guys are just arguing whether to store state or transitions. It&#8217;s true, you can compute the state from replaying the transitions, but that&#8217;s just an implementation detail. If you store both, there is no need to think of it as two models. Store both in the same state/event store and you can forgo several problems. I think storing both is something that should be explored and not dismissed because of personal preference.</p>
<p>But, as is always the case, one should asses when its better to apply the one or the other.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2890">
		<div id="comment-2890">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://jonathan-oliver.blogspot.com/' rel='external nofollow' class='url'>Jonathan</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2890">February 21, 2010 at 1:44 am</a></div>

		<div class="comment-body"><p>It may be worthwhile to define well-named pattern for your flavor of event sourcing rather than  having to distinguish between yours and Martin&#8217;s, much the same way you did with CQS and CQRS, something like event replay/rebuild/hydration, etc.</p>
<p>Also, I think Udi&#8217;s warming up to event sourcing.  He talked about it for a few minutes at his SOA course in Austin, TX when I was there.  At the same time, virtually all of what Udi does is help people migrate their legacy systems to these newer patterns as fast as the respective client organizations can accept the changes in thinking.  Event sourcing is a pretty big pill to swallow for an organization with a massive legacy codebase, so it&#8217;s no wonder that he&#8217;s not preaching it.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2889">
		<div id="comment-2889">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://mikenichols.devlicio.us' rel='external nofollow' class='url'>Mike</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2889">February 21, 2010 at 12:13 am</a></div>

		<div class="comment-body"><p>Great stuff!<br />
You mention the difficulty of migrating a legacy app to use Event Sourcing.<br />
To ease that on my current project, I initially adopted the state storage backend, effectively making the model event driven. From there, it was easier to port the whole thing to use Event storage backend.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2888">
		<div id="comment-2888">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/members/Ian-Cooper/default.aspx' rel='external nofollow' class='url'>Ian Cooper</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2888">February 20, 2010 at 10:50 pm</a></div>

		<div class="comment-body"><p>@Greg I think that you and Udi may be even closer than you think. I have just come back from Udi&#8217;s course and the idea of the write just persisting the command (i.e. the causal event) was raised, as was the idea that an RDBMS might not be needed as a Db here.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2887">
		<div id="comment-2887">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://fallengamer.livejournal.com/' rel='external nofollow' class='url'>Alexander Kostikov</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/#comment-2887">February 20, 2010 at 10:48 pm</a></div>

		<div class="comment-body"><p>Very interesting set of articles, Greg. I haven&#8217;t used Event Sourcing and there are many questions that concern me. I know that answers are domain dependant but some general hints would really help me to understand.</p>
<p>1) How often should write and read sides be synchronized ?<br />
2) How to transfer changes from write side to read side? If synch period is long enough one should make a DB lock or enlist to a very long transaction. If there are many read sides workload can be redistributed. But what if currently there is only one read data store?</p>
<p>3) What is event data format? Is it fully customizable XML that one needs to parse to transfer data to the read side? Or there is one event -> one message mapping so that for every data field (group of fields) there should be a distinct message?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
			</ol>



								<div id="respond">
				<h3 id="reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/gregyoung/2010/02/20/why-use-event-sourcing/#respond" style="display:none;">Cancel reply</a></small></h3>
									<p class="must-log-in">You must be <a href="http://codebetter.com/gregyoung/wp-login.php?redirect_to=http%3A%2F%2Fcodebetter.com%2Fgregyoung%2F2010%2F02%2F20%2Fwhy-use-event-sourcing%2F">logged in</a> to post a comment.</p>												</div><!-- #respond -->
						
</div><!-- #comments -->

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
									</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.270 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-27 09:10:27 -->
<!-- super cache -->