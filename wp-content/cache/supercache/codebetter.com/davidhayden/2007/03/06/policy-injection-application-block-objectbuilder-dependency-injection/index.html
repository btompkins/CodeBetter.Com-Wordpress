<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Policy Injection Application Block &#8211; ObjectBuilder &#8211; Dependency Injection | David Hayden</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/davidhayden/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/davidhayden/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Enterprise Library 3.0 February 2007 CTP Released' href='http://codebetter.com/davidhayden/2007/03/01/enterprise-library-3-0-february-2007-ctp-released/' />
<link rel='next' title='Windsor AOP &#8211; Policy Injection Application Block &#8211; Best Way to Use Windsor AOP?' href='http://codebetter.com/davidhayden/2007/03/12/windsor-aop-policy-injection-application-block-best-way-to-use-windsor-aop/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/davidhayden/?p=172' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,190] -->
<link rel="canonical" href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-172" class="post-172 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Policy Injection Application Block &#8211; ObjectBuilder &#8211; Dependency Injection</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/davidhayden/author/davidhayden/" title="View all posts by davidhayden">davidhayden</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/" title="1:01 am" rel="bookmark"><span class="entry-date">March 6, 2007</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/davidhayden/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/davidhayden/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><h1>Policy Injection Application Block &#8211; ObjectBuilder &#8211; Dependency Injection</h1>
<p>by <a href="http://www.davidhayden.com/" title="Florida .NET C# SQL Server Developer">David Hayden</a>, Filed: <a href="http://davidhayden.com/blog/dave/category/60.aspx?Show=All" title="Enterprise Library 3.0 Tutorials and Samples">Enterprise Library 3.0</a></p>
<p>&nbsp;</p>
<p>As I mentioned earlier, the <a href="http://www.codeplex.com/entlib/Release/ProjectReleases.aspx?ReleaseId=2081">February 2007 CTP</a> of Enterprise Library 3.0 was released on Feb 28 and it introduces a new application block, the <strong>Policy Injection Application Block</strong> ( PIAB ).</p>
<p>As I understand it, the <a href="http://davidhayden.com/blog/dave/archive/2007/03/03/PolicyInjectionApplicationBlockSample.aspx" title="Policy Injection Application Block Sample">Policy Injection Application Block</a> introduces AOP-like functionality into your winform and web applications by intercepting normal method calls and running handlers before and after method execution as defined by you through configuration. It does this by handing you a proxy class during factory creation that represents the class you asked for:</p>
<p>&nbsp;</p>
<pre><span style="color: #000000">IOrder order </span><span style="color: #000000">=</span><span style="color: #000000"> PolicyInjection.Create</span><span style="color: #000000">&lt;</span><span style="color: #000000">Order, IOrder</span><span style="color: #000000">&gt;</span><span style="color: #000000">();</span></pre>
<p>&nbsp;</p>
<p>If there are policies defined in the configuration file that specify certain methods be intercepted on the Order Class, the statement above will return&nbsp;a proxy&nbsp;class that does method interception, otherwise it returns an instance of the&nbsp;Order Class.</p>
<p>The policy configuration information can be located in any configuration file and looks like this:</p>
<p>&nbsp;</p>
<pre><span style="color: #000000">&lt;</span><span style="color: #000000">policyInjection</span><span style="color: #000000">&gt;</span><span style="color: #000000">
    </span><span style="color: #000000">&lt;</span><span style="color: #000000">policies</span><span style="color: #000000">&gt;</span><span style="color: #000000">
        </span><span style="color: #000000">&lt;</span><span style="color: #000000">add name</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">Policy1</span><span style="color: #000000">&quot;</span><span style="color: #000000">&gt;</span><span style="color: #000000">
            </span><span style="color: #000000">&lt;</span><span style="color: #000000">matchingRules</span><span style="color: #000000">&gt;</span><span style="color: #000000">
                </span><span style="color: #000000">&lt;</span><span style="color: #000000">add name</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">MatchingRule1</span><span style="color: #000000">&quot;</span><span style="color: #000000"> ... </span><span style="color: #000000">/&gt;</span><span style="color: #000000">
                </span><span style="color: #000000">&lt;</span><span style="color: #000000">add name</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">MatchingRule2</span><span style="color: #000000">&quot;</span><span style="color: #000000"> ... </span><span style="color: #000000">/&gt;</span><span style="color: #000000">
            </span><span style="color: #000000">&lt;/</span><span style="color: #000000">matchingRules</span><span style="color: #000000">&gt;</span><span style="color: #000000">
            </span><span style="color: #000000">&lt;</span><span style="color: #000000">handlers</span><span style="color: #000000">&gt;</span><span style="color: #000000">
                </span><span style="color: #000000">&lt;</span><span style="color: #000000">add name</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">Handler1</span><span style="color: #000000">&quot;</span><span style="color: #000000"> ... </span><span style="color: #000000">/&gt;</span><span style="color: #000000">
                </span><span style="color: #000000">&lt;</span><span style="color: #000000">add name</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">Handler2</span><span style="color: #000000">&quot;</span><span style="color: #000000"> ... </span><span style="color: #000000">/&gt;</span><span style="color: #000000">
            </span><span style="color: #000000">&lt;/</span><span style="color: #000000">handlers</span><span style="color: #000000">&gt;</span><span style="color: #000000">
        </span><span style="color: #000000">&lt;/</span><span style="color: #000000">add</span><span style="color: #000000">&gt;</span><span style="color: #000000">
    </span><span style="color: #000000">&lt;/</span><span style="color: #000000">policies</span><span style="color: #000000">&gt;</span><span style="color: #000000">
</span><span style="color: #000000">&lt;/</span><span style="color: #000000">policyInjection</span><span style="color: #000000">&gt;</span></pre>
<p>&nbsp;</p>
<p><strong>Matching Rules</strong> tell the Policy Injection Application Block what methods to intercept and the <strong>handlers</strong> specify what happens before and / or&nbsp;after interception.</p>
<p>&nbsp;</p>
<p><strong>Example</strong></p>
<p>Let&#039;s say we have a policy&nbsp;for our&nbsp;store&nbsp;that whenever an order is returned it must be logged along with the reason it was returned. For simplification, here are my classes:</p>
<p>&nbsp;</p>
<pre><span style="color: #0000ff">public</span><span style="color: #000000"> </span><span style="color: #0000ff">class</span><span style="color: #000000"> Order : IOrder
{
    </span><span style="color: #0000ff">public</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> Return(</span><span style="color: #0000ff">string</span><span style="color: #000000"> reason)
    {
        </span><span style="color: #008000">//</span><span style="color: #008000"> Do something...</span><span style="color: #008000">
</span><span style="color: #000000">    }
}

</span><span style="color: #0000ff">public</span><span style="color: #000000"> </span><span style="color: #0000ff">interface</span><span style="color: #000000"> IOrder
{
    </span><span style="color: #0000ff">void</span><span style="color: #000000"> Return(</span><span style="color: #0000ff">string</span><span style="color: #000000"> reason);
}</span></pre>
<p>&nbsp;</p>
<p>One option is to use the Enterprise Library <a href="http://davidhayden.com/blog/dave/archive/2006/02/19/2806.aspx" title="Logging Application Block - Enterprise Library">Logging Application Block</a> directly and somewhere during the Return Process just make a call that logs the information:</p>
<p>&nbsp;</p>
<pre><span style="color: #000000">LogEntry logEntry </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #0000ff">new</span><span style="color: #000000"> LogEntry();
logEntry.Message </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">&quot;</span><span style="color: #008080">...</span><span style="color: #000000">&quot;</span><span style="color: #000000">
logEntry.Categories.Add(</span><span style="color: #000000">&quot;</span><span style="color: #008080">...</span><span style="color: #000000">&quot;</span><span style="color: #000000">);

</span><span style="color: #008000">//</span><span style="color: #008000"> ...</span><span style="color: #008000">
</span><span style="color: #000000">
Logger.Write(logEntry);</span></pre>
<p>&nbsp;</p>
<p>With the Policy Injection Application Block, however,&nbsp;we can <u>avoid</u> this extra code by defining a policy that whenever a call is made to the <strong>Return</strong> Method on <strong>IOrder</strong> we should log a message.</p>
<p>There are numerous ways to match policies to methods, but in this case I am going to use the <strong>TagMatchingRule</strong> which means I just have to add a tag attribute to the <strong>Return</strong> Method on the Interface. Hence rather than writing all the LogEntry code above and explicitly calling the logging application block, I will just add the following to the IOrder Interface:</p>
<p>&nbsp;</p>
<pre><span style="color: #0000ff">public</span><span style="color: #000000"> </span><span style="color: #0000ff">interface</span><span style="color: #000000"> IOrder
{
    [Tag(</span><span style="color: #000000">&quot;</span><span style="color: #008080">Log</span><span style="color: #000000">&quot;</span><span style="color: #000000">)]
    </span><span style="color: #0000ff">void</span><span style="color: #000000"> Return(</span><span style="color: #0000ff">string</span><span style="color: #000000"> reason);
}</span></pre>
<p>&nbsp;</p>
<p>I then <strong>define a Policy</strong> in my configuration file that says whenever <strong>[Tag(&quot;Log&quot;)]</strong>&nbsp;is on a method in my application ( as defined via my IOrder interface ), intercept the call and log information to the logging provider defined by the Logging Application Block:</p>
<p>&nbsp;</p>
<pre><span style="color: #000000">&lt;</span><span style="color: #000000">policyInjection</span><span style="color: #000000">&gt;</span><span style="color: #000000">
    </span><span style="color: #000000">&lt;</span><span style="color: #000000">policies</span><span style="color: #000000">&gt;</span><span style="color: #000000">
        </span><span style="color: #000000">&lt;</span><span style="color: #000000">add name</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">Logging</span><span style="color: #000000">&quot;</span><span style="color: #000000">&gt;</span><span style="color: #000000">
            </span><span style="color: #000000">&lt;</span><span style="color: #000000">matchingRules</span><span style="color: #000000">&gt;</span><span style="color: #000000">
                </span><span style="color: #000000">&lt;</span><span style="color: #000000">add type</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">Microsoft.Practices.EnterpriseLibrary.PolicyInjection.MatchingRules.TagAttributeMatchingRule,<br />
                       Microsoft.Practices.EnterpriseLibrary.PolicyInjection, Version=2.9.9.2, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a</span><span style="color: #000000">&quot;<br />
                      </span><span style="color: #000000">name</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">Tag Matching Rule</span><span style="color: #000000">&quot;</span><span style="color: #000000"> match</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">Log</span><span style="color: #000000">&quot;</span><span style="color: #000000"> ignoreCase</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">true</span><span style="color: #000000">&quot;</span><span style="color: #000000"> </span><span style="color: #000000">/&gt;</span><span style="color: #000000">
            </span><span style="color: #000000">&lt;/</span><span style="color: #000000">matchingRules</span><span style="color: #000000">&gt;</span><span style="color: #000000">
            </span><span style="color: #000000">&lt;</span><span style="color: #000000">handlers</span><span style="color: #000000">&gt;</span><span style="color: #000000">
                </span><span style="color: #000000">&lt;</span><span style="color: #000000">add name</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">Logging Handler</span><span style="color: #000000">&quot;</span><span style="color: #000000"> type</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers.LogCallHandler,<br />
                        Microsoft.Practices.EnterpriseLibrary.PolicyInjection.CallHandlers, Version=2.9.9.2, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a</span><span style="color: #000000">&quot;<br />
                        </span><span style="color: #000000">logBehavior</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">Before</span><span style="color: #000000">&quot;</span><span style="color: #000000"> beforeMessage</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">Before</span><span style="color: #000000">&quot;</span><span style="color: #000000"> includeParameterValues</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">true</span><span style="color: #000000">&quot;</span><span style="color: #000000"> includeCallTime</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">true</span><span style="color: #000000">&quot;</span><span style="color: #000000"> includeCallStack</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">false</span><span style="color: #000000">&quot;</span><span style="color: #000000"> severity</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">Information</span><span style="color: #000000">&quot;</span><span style="color: #000000">&gt;</span><span style="color: #000000">
                    </span><span style="color: #000000">&lt;</span><span style="color: #000000">categories</span><span style="color: #000000">&gt;</span><span style="color: #000000">
                        </span><span style="color: #000000">&lt;</span><span style="color: #000000">add name</span><span style="color: #000000">=</span><span style="color: #000000">&quot;</span><span style="color: #008080">General</span><span style="color: #000000">&quot;</span><span style="color: #000000"> </span><span style="color: #000000">/&gt;</span><span style="color: #000000">
                    </span><span style="color: #000000">&lt;/</span><span style="color: #000000">categories</span><span style="color: #000000">&gt;</span><span style="color: #000000">
                </span><span style="color: #000000">&lt;/</span><span style="color: #000000">add</span><span style="color: #000000">&gt;</span><span style="color: #000000">
            </span><span style="color: #000000">&lt;/</span><span style="color: #000000">handlers</span><span style="color: #000000">&gt;</span><span style="color: #000000">
        </span><span style="color: #000000">&lt;/</span><span style="color: #000000">add</span><span style="color: #000000">&gt;</span><span style="color: #000000">
    </span><span style="color: #000000">&lt;/</span><span style="color: #000000">policies</span><span style="color: #000000">&gt;</span><span style="color: #000000">
</span><span style="color: #000000">&lt;/</span><span style="color: #000000">policyInjection</span><span style="color: #000000">&gt;</span></pre>
<p>&nbsp;</p>
<p>There is a decent amount of configuration in there, but you won&#039;t normally have to look at it because you will be using the Graphical Configuration Tool that is integrated into Visual Studio for managing your Enterprise Library configurations.</p>
<p>&nbsp;</p>
<p>So when the following happens in my application:</p>
<p>&nbsp;</p>
<pre><span style="color: #000000">IOrder order </span><span style="color: #000000">=</span><span style="color: #000000"> PolicyInjection.Create</span><span style="color: #000000">&lt;</span><span style="color: #000000">Order, IOrder</span><span style="color: #000000">&gt;</span><span style="color: #000000">();
order.Return(</span><span style="color: #000000">&quot;</span><span style="color: #008080">No change in size.</span><span style="color: #000000">&quot;</span><span style="color: #000000">);</span></pre>
<p>&nbsp;</p>
<p>The Policy Injection Application Block&nbsp;<em>substitutes a proxy class</em> for my Order Class because a policy is defined on the IOrder Interface: [Tag(&quot;Log&quot;)].</p>
<p>When the Return Method is called, the proxy class intercepts the call and runs the handlers in the order as defined in my configuration before and after calling the Return Method associated with the Order Class. In this case, it runs the <strong>LogCallHandler</strong> which logs information in the <strong>EventLog</strong> as I defined in the Logging Application Block Section ( but didn&#039;t show here for brevity ).&nbsp; What ends up in my EventLog is similar to the following but would realistically provide more useful information and be logged somewhere else:</p>
<p>&nbsp;</p>
<pre><span style="color: #000000">Timestamp: </span><span style="color: #ff0000">3</span><span style="color: #000000">/</span><span style="color: #ff0000">5</span><span style="color: #000000">/</span><span style="color: #ff0000">2007</span><span style="color: #000000"> </span><span style="color: #ff0000">9</span><span style="color: #000000">:</span><span style="color: #ff0000">12</span><span style="color: #000000">:</span><span style="color: #ff0000">17</span><span style="color: #000000"> PM
Message: Before
Category: General
Priority: </span><span style="color: #ff0000">0</span><span style="color: #000000">
EventId: </span><span style="color: #ff0000">1</span><span style="color: #000000">
Severity: Information
Extended Properties: reason </span><span style="color: #000000">-</span><span style="color: #000000"> No change </span><span style="color: #0000ff">in</span><span style="color: #000000"> size.</span></pre>
<p>&nbsp;</p>
<p>&nbsp;Again, the code to do this logging is defined in policy and matched by an attribute. Here is all the&nbsp;code:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<pre><span style="color: #0000ff">namespace</span><span style="color: #000000"> LogMe
{
    </span><span style="color: #0000ff">class</span><span style="color: #000000"> Program
    {
        </span><span style="color: #0000ff">static</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> Main(</span><span style="color: #0000ff">string</span><span style="color: #000000">[] args)
        {
            IOrder order </span><span style="color: #000000">=</span><span style="color: #000000"> PolicyInjection.Create</span><span style="color: #000000">&lt;</span><span style="color: #000000">Order, IOrder</span><span style="color: #000000">&gt;</span><span style="color: #000000">();
            order.Return(</span><span style="color: #000000">&quot;</span><span style="color: #008080">No change in size.</span><span style="color: #000000">&quot;</span><span style="color: #000000">);
        }
    }

    </span><span style="color: #0000ff">public</span><span style="color: #000000"> </span><span style="color: #0000ff">class</span><span style="color: #000000"> Order : IOrder
    {
        </span><span style="color: #0000ff">public</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> Return(</span><span style="color: #0000ff">string</span><span style="color: #000000"> reason)
        {
            </span><span style="color: #008000">//</span><span style="color: #008000"> Do something...</span><span style="color: #008000">
</span><span style="color: #000000">        }
    }

    </span><span style="color: #0000ff">public</span><span style="color: #000000"> </span><span style="color: #0000ff">interface</span><span style="color: #000000"> IOrder
    {
        [Tag(</span><span style="color: #000000">&quot;</span><span style="color: #008080">Log</span><span style="color: #000000">&quot;</span><span style="color: #000000">)]
        </span><span style="color: #0000ff">void</span><span style="color: #000000"> Return(</span><span style="color: #0000ff">string</span><span style="color: #000000"> reason);
    }
}</span></pre>
<p>&nbsp;</p>
<p>A restriction worth mentioning is that&nbsp;in order&nbsp;for a method to be intercepted, the class in question must either inherit from <strong>MarshalByRefObject</strong> or implement an&nbsp;<strong>Interface</strong>.&nbsp;</p>
<p>As you can see, the Policy Injection Application Block is definitely cool and a nice addition to the Application Blocks.</p>
<p>&nbsp;</p>
<p><strong>But Where&#039;s My Dependency Injection?</strong></p>
<p>I love the new block, but have a bit of a concern. One of my concerns about the code above is this statement:</p>
<p>&nbsp;</p>
<pre><span style="color: #000000">IOrder order </span><span style="color: #000000">=</span><span style="color: #000000"> PolicyInjection.Create</span><span style="color: #000000">&lt;</span><span style="color: #000000">Order, IOrder</span><span style="color: #000000">&gt;</span><span style="color: #000000">();</span></pre>
<p>&nbsp;</p>
<p>Notice that I have to specify the concrete name of the class as well as the interface it implements. I would like to have a Create Method like this:</p>
<p>&nbsp;</p>
<pre><span style="color: #000000">IOrder order </span><span style="color: #000000">=</span><span style="color: #000000"> PolicyInjection.Create</span><span style="color: #000000">&lt;</span><span style="color: #000000">IOrder</span><span style="color: #000000">&gt;</span><span style="color: #000000">();</span></pre>
<p>&nbsp;</p>
<p>and via some <strong>Dependency Injection Container</strong> or better yet, <strong>Dependency Injection Application Block</strong> ( DIAB ), the Policy Injection Application Block just <u>locate</u> the concrete class ( or service really ) that goes with the interface.</p>
<p>I mentioned this disappointment about no DI Container for use with ObjectBuilder in another post:</p>
<p>&nbsp;<a href="/blogs/david.hayden/archive/2007/01/17/ObjectBuilder-Dependency-Injection-Framework-_2D00_-Poor-Undocumented-Little-Soul-_3A002900_.aspx">ObjectBuilder Dependency Injection Framework &#8211; Poor Undocumented Little Soul <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </a></p>
<p>&nbsp;So now as I mentioned in this CodePlex Discussion in the Enterprise Library Forums:</p>
<p>&nbsp;<a href="http://www.codeplex.com/entlib/Thread/View.aspx?ThreadId=7807">http://www.codeplex.com/entlib/Thread/View.aspx?ThreadId=7807</a></p>
<p>I have to use a <strong>Dependency Injection Tool</strong> <em>alongside</em> the Policy Injection Application Block even though ObjectBuilder plays a huge role in Enterprise Library.</p>
<p>And, of course, most of the software factories, like the <a href="http://davidhayden.com/blog/dave/category/57.aspx?Show=All" title="Web Client Software Factory">Web Client Software Factory</a> that I have been giving presentations on at various Florida Code Camps,&nbsp;use their own containers, too, so I have to coordinate them with the PIAB.</p>
<p>I am hoping if I keep harping on this I will either get what I want or somebody will educate me why Enterprise Library ( or Object Builder ) doesn&#039;t come with a Dependency Injection Application Block so all the applications that use Enterprise Library ( including ones built with the software factories ) don&#039;t have to use their own version.</p>
<p>The Policy Injection Application Block could then hook into the Dependency Injection Application Block and give us wonderful capabilities.</p>
<p><strong>Conclusion</strong></p>
<p>Putting the Dependency Injection aside, I really love the possibilities of the new Policy Injection Application Block. The Patterns and Practices Team is doing one helluva job on Enterprise Library and all the Software Factories.</p>
<p>Kudos to <a href="http://blogs.msdn.com/tomholl/">Tom Hollander</a>, the Project Manager for Enterprise Library. He is very visible and proactive about providing information about what is happening with Enterprise Library in both the forums and his blog.</p>
<p>by <a href="http://www.davidhayden.com/" title="Florida .NET C# SQL Server Developer">David Hayden</a>, Filed: <a href="http://davidhayden.com/blog/dave/category/60.aspx?Show=All" title="Enterprise Library 3.0 Tutorials and Samples">Enterprise Library 3.0</a></p>
<p>&nbsp;</p>
<div class="shr-publisher-172"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/davidhayden/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/" title="Permalink to Policy Injection Application Block &#8211; ObjectBuilder &#8211; Dependency Injection" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/feed/" title="Comments RSS to Policy Injection Application Block &#8211; ObjectBuilder &#8211; Dependency Injection" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-172 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/davidhayden/2007/03/01/enterprise-library-3-0-february-2007-ctp-released/" rel="prev"><span class="meta-nav">&larr;</span> Enterprise Library 3.0 February 2007 CTP Released</a></div>
					<div class="nav-next"><a href="http://codebetter.com/davidhayden/2007/03/12/windsor-aop-policy-injection-application-block-best-way-to-use-windsor-aop/" rel="next">Windsor AOP &#8211; Policy Injection Application Block &#8211; Best Way to Use Windsor AOP? <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

							<div id="comments">


			<h3 id="comments-title">12 Responses to <em>Policy Injection Application Block &#8211; ObjectBuilder &#8211; Dependency Injection</em> </h3>


			<ol class="commentlist">
						<li class="comment even thread-even depth-1" id="li-comment-510">
		<div id="comment-510">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://davidhayden.com/blog/dave/' rel='external nofollow' class='url'>dhayden</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/#comment-510">March 7, 2007 at 1:50 am</a></div>

		<div class="comment-body"><p>Ed,</p>
<p>I love the Wrap<>() functionality and that is what I was using along with Windsor when trying the combination. I think decoupling responsibilities is a great idea and you have provided the ability to do DI and Policy Injection separate, but&#8230;</p>
<p>We definitely need to do it together, too <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>Unless I am totally misreading all the blog posts, forum messages, and developer conversations, the community is sorely missing a standalone container for Dependency Injection using ObjectBuilder ( call it the Dependency Injection Application Block ).</p>
<p>In addition, the Policy Injection Application Block NEEDS to have seemless optional integration with this new Dependency Injection Application Block so that I can ask for a service without specifying the concrete class.</p>
<p>If you want to provide an API so that other DI Tools can provide services to the PIAB, fantastic! However, I don&#8217;t want to have to use Windsor. I want it to be an option.</p>
<p>I think everyone and their brothers wants something in EntLib 3.0 based on ObjectBuilder to help with DI and integrate with the PIAB.</p>
<p>Can you guys deliver it?</p>
<p>Regards,</p>
<p>Dave</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-509">
		<div id="comment-509">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://blogs.msdn.com/edjez' rel='external nofollow' class='url'>Edward Jezierski</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/#comment-509">March 7, 2007 at 1:00 am</a></div>

		<div class="comment-body"><p>DI + Policy injection are both cool, separate and together.<br />
The approach here is to use OB as your builder with a policy injection strategy at the end doing Wrap<>() calls on the outgoing object. One of the reasons we decoupled these 2 things is so that you can use PI in whatever other builder you have, or use Aspect# or other similar mechanism in the context of object builder (or none, for that matter).<br />
In our software factories (Smart Client, Web Client, etc) we are using ObjectBuilder as the factory for your business logic objects. This allows you to plug in things like Aspect# or PIAB or &#8230; into them as well, without affecting the rest too much.<br />
One thing we haven&#8217;t done is to wrap an easy to use facade over ObjectBuilder so it&#8217;s nice and easy to use as a standalone app container, with default strategies like PI. </p>
<p>And if someone does a customization of PIAB to use the windsor proxying mechanism, please let us know how it goes on codeplex, as variability in the interception approach is something we want to support well; and I always hear good things about the windsor proxies.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-508">
		<div id="comment-508">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://davidhayden.com/blog/dave/' rel='external nofollow' class='url'>dhayden</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/#comment-508">March 7, 2007 at 12:52 am</a></div>

		<div class="comment-body"><p>Leonid,</p>
<p>You can download the source code at:</p>
<p><a href="http://davidhayden.com/davidhayden/downloads.aspx" rel="nofollow">http://davidhayden.com/davidhayden/downloads.aspx</a></p>
<p>It should work fine with Feb 2007 CTP.</p>
<p>Regards,</p>
<p>Dave</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-507">
		<div id="comment-507">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://hammett.castleproject.org' rel='external nofollow' class='url'>hammett</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/#comment-507">March 6, 2007 at 11:56 pm</a></div>

		<div class="comment-body"><p>Worth mention that with Windsor you can chain interceptors, and that what usually happens. You can have a logging interceptor, a transaction management interceptor and a whatnot interceptor. Each of them working side by side. And we dont have a restriction upon MarshalByRef, however, for concrete classes (no interfaces) we require the use of virtual for the methods you want to intercept.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-506">
		<div id="comment-506">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Leonid Shirmanov</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/#comment-506">March 6, 2007 at 9:36 pm</a></div>

		<div class="comment-body"><p>David -</p>
<p>I tried a sample you provided in this post and run into a configuration exception from PIAB &#8211; it didn&#8217;t understand <categories> tag in Logging Handler.</p>
<p>I tried without this tag in config and the handler logged an entry correctly &#8211; I guess because Special Sources were configured in Logging AB.</p>
<p>Does it mean that </categories><categories> is not supported yet in Feb CTP?</p>
<p>Thanks.<br />
</categories></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-505">
		<div id="comment-505">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.ayende.com/Blog' rel='external nofollow' class='url'>Ayende Rahien</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/#comment-505">March 6, 2007 at 9:08 pm</a></div>

		<div class="comment-body"><p><a href="http://www.ayende.com/Blog/archive/2007/03/07/Building-the-Policy-Injection-in-40-Minutes-with-Windsor.aspx" rel="nofollow">http://www.ayende.com/Blog/archive/2007/03/07/Building-the-Policy-Injection-in-40-Minutes-with-Windsor.aspx</a></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-504">
		<div id="comment-504">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.ayende.com/Blog' rel='external nofollow' class='url'>Ayende Rahien</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/#comment-504">March 6, 2007 at 8:44 pm</a></div>

		<div class="comment-body"><p>David,<br />
Yes, it has all of those capabilities.<br />
You can use it either via Aspect# (not really recommended, it is not under active development anymore) or by specifying interceptors for you components.<br />
Windsor will automatically generate a proxy for you and will send the call to your interceptor.<br />
I&#8217;ll post about it shortly.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-503">
		<div id="comment-503">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://davidhayden.com/blog/dave/' rel='external nofollow' class='url'>dhayden</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/#comment-503">March 6, 2007 at 1:28 pm</a></div>

		<div class="comment-body"><p>@Rob,</p>
<p>I have some customers that either use Enterprise Library, don&#8217;t like OSS, and/or don&#8217;t like to release anything into production designated as Release Candidate.</p>
<p>Enterprise Library isn&#8217;t that scary, however. I enjoy using it and the EntLib 3.0 package has a lot of nice improvements.</p>
<p>@Ayende,</p>
<p>I have only used Windsor for Dependency Injection. Are you saying it has AOP-like functionality as well? I noticed the Aspect# facilities in the Castle Project but haven&#8217;t looked at it. Does it have the capabilities of the PIAB?</p>
<p>I know Monorail is next on my list of things to learn now that I know the Web Client Software Factory.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-502">
		<div id="comment-502">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://davidhayden.com/blog/dave/' rel='external nofollow' class='url'>dhayden</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/#comment-502">March 6, 2007 at 12:59 pm</a></div>

		<div class="comment-body"><p>Scott,</p>
<p>I give P&#038;P props, because I think Enterprise Library and the Software Factories are great tools as a whole that help developers be more productive as well as implement proven practices. P&#038;P has really become more attuned to developer challenges and delivering tools to help developers with those challenges. They are also more visible and proactive about getting information and examples into our hands earlier as well as responding and acting on feedback. All of this in my mind deserves big kudos.</p>
<p>The Policy Injection Application Block is not complete in the Feb 2007 CTP. It won&#8217;t be complete for another month when EntLib 3.0 is released. I expect big changes and a few wonderful surprises in its final release.</p>
<p>My only concern thus far is the Dependency Injection piece which I think would make a fantastic addition for use with the Policy Injection Application Block. They may be working on it or taking my idea into consideration as we speak. I hope they are, because I think it will help Enterprise Library and the current Software Factories as a whole.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-501">
		<div id="comment-501">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.ayende.com/Blog' rel='external nofollow' class='url'>Ayende Rahien</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/#comment-501">March 6, 2007 at 3:55 am</a></div>

		<div class="comment-body"><p>David,<br />
you mention that you are using Windsor + the PolicyInjection block.<br />
Is there a reason for this?<br />
Windsor already has very strong support for this type of things.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-500">
		<div id="comment-500">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://devlicio.us/blogs/rob_eisenberg/default.aspx' rel='external nofollow' class='url'>Rob Eisenberg</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/#comment-500">March 6, 2007 at 3:19 am</a></div>

		<div class="comment-body"><p>I agree with Scott.  Also, why not just use Castle?  It has everything you are looking for; plus it is more full featured and has a better implementation than what MS is releasing.  The stuff Castle does excites me; the P&#038;P stuff scares me a little&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-499">
		<div id="comment-499">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.bellware.net' rel='external nofollow' class='url'>ScottBellware</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/#comment-499">March 6, 2007 at 2:52 am</a></div>

		<div class="comment-body"><p>I don&#8217;t get it&#8230; you seem to be giving P&#038;P props for a tool that you suggest isn&#8217;t complete&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
			</ol>



								<div id="respond">
				<h3 id="reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/davidhayden/2007/03/06/policy-injection-application-block-objectbuilder-dependency-injection/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://codebetter.com/davidhayden/wp-comments-post.php" method="post" id="commentform">
																			<p class="comment-notes">Your email address will not be published. Required fields are marked <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Name</label> <span class="required">*</span><input id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">Email</label> <span class="required">*</span><input id="email" name="email" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">Website</label><input id="url" name="url" type="text" value="" size="30" /></p>
												<p class="comment-form-comment"><label for="comment">Comment</label><textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='172' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="0789d5b371" /></p>					</form>
							</div><!-- #respond -->
						
</div><!-- #comments -->

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
									</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.629 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 18:30:43 -->
<!-- super cache -->