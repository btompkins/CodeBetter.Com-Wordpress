<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Compressing JS files as part of your build process | Karl Seguin</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/karlseguin/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/karlseguin/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='new Repository&lt;T&gt;().DoMagic()' href='http://codebetter.com/karlseguin/2008/12/22/new-repository-lt-t-gt-domagic/' />
<link rel='next' title='Why aren&#8217;t I an MVP?' href='http://codebetter.com/karlseguin/2009/02/03/why-aren-t-i-an-mvp/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/karlseguin/?p=155' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,154] -->
<link rel="canonical" href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-155" class="post-155 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Compressing JS files as part of your build process</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/karlseguin/author/karlseguin/" title="View all posts by karlseguin">karlseguin</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/" title="4:14 pm" rel="bookmark"><span class="entry-date">December 29, 2008</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/karlseguin/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/karlseguin/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p><P>We love jQuery – many things are now easier/cleaner/more testable using JavaScript rather than ASP.NET (that statement blows my mind, but it&#8217;s true!). Because of that, we have a lot of JavaScript code. Ideally, we want to develop using readable JavaScript files (even 3rd party files) and deploy compressed/obfuscated code. Our solution has simply been to apply a post-build task to our project. Here&#8217;s what we did.</P><br />
<P>First, we use the .NET port of Yahoo&#8217;s YUI Compressor, <A href="http://www.codeplex.com/YUICompressor">freely available on CodePlex.</A> (note, the YUICompressor comes with an MSBuild Task, which you can use in addition (or as an alternative) to my approach).</P><br />
<P>We took the library and wrapped it into a simple console application which takes 2 inputs – the input directory containing the debug javascript files, and the target output directory to place the compressed files in:</P><PRE>using System;<br />
using System.IO;<br />
using Yahoo.Yui.Compressor;</p>
<p>public class Program<br />
{<br />
   public static void Main(string[] args)<br />
   {<br />
      var input = args[0];<br />
      var output = args[1];</p>
<p>      if (!Directory.Exists(output))<br />
      {<br />
         throw new ArgumentException(string.Format(&#8220;The output directory &#8216;{0}&#8217; doesn&#8217;t exist&#8221;, output));<br />
      }<br />
      if (Directory.Exists(input))<br />
      {<br />
         CompressDirectory(input, output);<br />
      }<br />
      else if (File.Exists(input))<br />
      {<br />
         CompressFile(input, output);<br />
      }<br />
      else<br />
      {<br />
         throw new ArgumentException(string.Format(&#8220;{0} isn&#8217;t a known directory or file&#8221;, input));<br />
      }<br />
   }<br />
   public static void CompressDirectory(string root, string outputDirectory)<br />
   {<br />
      Console.WriteLine(&#8220;Compressing all .js files within: &#8221; + root);<br />
      foreach (var file in Directory.GetFiles(root, &#8220;*.js&#8221;))<br />
      {<br />
         CompressFile(file, outputDirectory);<br />
      }<br />
      foreach (var directory in Directory.GetDirectories(root))<br />
      {<br />
         //skip .svn folders and what not<br />
         if ((new DirectoryInfo(directory).Attributes &amp; FileAttributes.Hidden) != FileAttributes.Hidden)<br />
         {<br />
            var newOuputDirectory = outputDirectory + directory.Substring(root.Length) + &#8220;\\&#8221;;<br />
            CompressDirectory(directory, newOuputDirectory);<br />
         }<br />
      }<br />
   }<br />
   public static void CompressFile(string file, string outputDirectory)<br />
   {<br />
      var name = Path.GetFileName(file);<br />
      Console.WriteLine(&#8220;Compressing file: &#8221; + name);<br />
      using (var sw = new StreamWriter(outputDirectory + name))<br />
      using (var sr = new StreamReader(file))<br />
      {<br />
         var compressed = JavaScriptCompressor.Compress(sr.ReadToEnd(), false);<br />
         sw.Write(compressed);<br />
      }<br />
   }<br />
}</PRE><br />
<P>We compile our console application and place the .exe somewhere relative to our main solution. Next, we open our project&#8217;s properties, go into the Build Events tab, and enter the following into the &#8220;Post-build event command line&#8221; box:</P><PRE>$(SolutionDir)..\Tools\YUICompressor\YUICompressor.exe $(ProjectDir)\content\js\debug\ $(ProjectDir)\content\js\release\</PRE><br />
<P>Now, whenever we build, all of our .js files within <EM>content/js/debug/</EM> get compressed and moved to <EM>content/js/release/</EM>.</P><br />
<P>The last step is to use an HtmlHelper expression method to include our javascript file:</P><PRE>public static string IncludeJs(this HtmlHelper helper, string javascriptFile)<br />
{<br />
#if DEBUG<br />
   var subfolder = &#8220;debug&#8221;;<br />
#else<br />
   var subfolder = &#8220;release&#8221;;<br />
#endif<br />
   var path = string.Format(&#8220;{0}/Content/js/{1}/{2}.js&#8221;,  _applicationPath, subfolder, javascriptFile);<br />
   return string.Format(&#8220;&lt;script type=\&#8221;text/javascript\&#8221; src=\&#8221;{0}\&#8221;&gt;&lt;/script&gt;&#8221;, path);<br />
}</PRE><br />
<P>Which can simply be used like:</P><PRE>&lt;%= Html.IncludeJs(&#8220;jquery&#8221;) %&gt;<br />
&lt;%= Html.IncludeJs(&#8220;main&#8221;) %&gt;<br />
&lt;%= Html.IncludeJs(&#8220;jquery_validate&#8221;) %&gt;</PRE></p>
<div class="shr-publisher-155"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/karlseguin/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/" title="Permalink to Compressing JS files as part of your build process" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/feed/" title="Comments RSS to Compressing JS files as part of your build process" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-155 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/karlseguin/2008/12/22/new-repository-lt-t-gt-domagic/" rel="prev"><span class="meta-nav">&larr;</span> new Repository&lt;T&gt;().DoMagic()</a></div>
					<div class="nav-next"><a href="http://codebetter.com/karlseguin/2009/02/03/why-aren-t-i-an-mvp/" rel="next">Why aren&#8217;t I an MVP? <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

							<div id="comments">


			<h3 id="comments-title">11 Responses to <em>Compressing JS files as part of your build process</em> </h3>


			<ol class="commentlist">
						<li class="comment even thread-even depth-1" id="li-comment-1555">
		<div id="comment-1555">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://blogs.microsoft.co.il/blogs/shay' rel='external nofollow' class='url'>Shay Jacoby</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/#comment-1555">March 4, 2009 at 11:15 pm</a></div>

		<div class="comment-body"><p>Thanks for the lib, I was 1 step before installing java jvm in order to use the yahoo original java jar.</p>
<p>In you console application code above the directories are not created as they should.<br />
It must create automatically target folders if not exists, I modified the code to:</p>
<p>using System;<br />
using System.IO;<br />
using Yahoo.Yui.Compressor;</p>
<p>namespace YuiCompressor<br />
{</p>
<p>    public class Program<br />
    {</p>
<p>       ///<br />
<summary>
       /// $(SolutionDir)Tools\YUICompressor\bin\Debug\YUICompressor.exe $(ProjectDir)Scripts\ $(ProjectDir)Scripts\release\<br />
       /// </summary>
<p>       ///
<param name="args"></param>
       /// <exception cref="ArgumentException"><c>ArgumentException</c>.</exception><br />
        public static void Main(string[] args)<br />
        {<br />
            /*<br />
            args = new string[2];<br />
            args[0] = @&#8221;D:\www\Framework\vr\Scripts\&#8221;;<br />
            args[1] = @&#8221;D:\www\Framework\vr\Scripts.Publish\&#8221;;<br />
             */<br />
            var input = args[0];<br />
            var output = args[1];</p>
<p>            if (!Directory.Exists(output))<br />
            {<br />
                //throw new ArgumentException(string.Format(&#8220;The output directory &#8216;{0}&#8217; doesn&#8217;t exist&#8221;, output));<br />
                Console.WriteLine(&#8220;Create Directory: &#8221; + output);<br />
                Directory.CreateDirectory(output);<br />
            }<br />
            if (Directory.Exists(input))<br />
            {<br />
                CompressDirectory(input, output);<br />
            }<br />
            else if (File.Exists(input))<br />
            {<br />
                CompressFile(input, output);<br />
            }<br />
            else<br />
            {<br />
                throw new ArgumentException(string.Format(&#8220;{0} isn&#8217;t a known directory or file&#8221;, input));<br />
            }</p>
<p>            Console.WriteLine(&#8220;Finished to compress all .js files.&#8221;);</p>
<p>        }<br />
        public static void CompressDirectory(string root, string outputDirectory)<br />
        {<br />
            if (!Directory.Exists(outputDirectory))<br />
            {<br />
                //throw new ArgumentException(string.Format(&#8220;The output directory &#8216;{0}&#8217; doesn&#8217;t exist&#8221;, output));<br />
                Console.WriteLine(&#8220;Create Directory: &#8221; + outputDirectory);<br />
                Directory.CreateDirectory(outputDirectory);<br />
            }</p>
<p>            Console.WriteLine(&#8220;Compressing all .js files within: &#8221; + root);<br />
            foreach (var file in Directory.GetFiles(root, &#8220;*.js&#8221;))<br />
            {<br />
                CompressFile(file, outputDirectory);<br />
            }<br />
            foreach (var directory in Directory.GetDirectories(root))<br />
            {<br />
                //skip .svn folders and what not<br />
                if ((new DirectoryInfo(directory).Attributes &#038; FileAttributes.Hidden) == FileAttributes.Hidden)<br />
                    continue;<br />
                var newOuputDirectory = outputDirectory + directory.Substring(root.Length) + &#8220;\\&#8221;;<br />
                CompressDirectory(directory, newOuputDirectory);<br />
            }<br />
        }<br />
        public static void CompressFile(string file, string outputDirectory)<br />
        {<br />
            var name = Path.GetFileName(file);<br />
            Console.WriteLine(&#8220;Compressing file: &#8221; + name);<br />
            using (var sw = new StreamWriter(outputDirectory + name))<br />
            using (var sr = new StreamReader(file))<br />
            {<br />
                var compressed = JavaScriptCompressor.Compress(sr.ReadToEnd(), false);<br />
                sw.Write(compressed);<br />
            }<br />
        }</p>
<p>        /*<br />
        public static string IncludeJs(this HtmlHelper helper, string javascriptFile)<br />
{<br />
#if DEBUG<br />
   var subfolder = &#8220;debug&#8221;;<br />
#else<br />
   var subfolder = &#8220;release&#8221;;<br />
#endif<br />
   var path = string.Format(&#8220;{0}/Content/js/{1}/{2}.js&#8221;,  _applicationPath, subfolder, javascriptFile);<br />
   return string.Format(&#8220;<script type=\"text/javascript\" src=\"{0}\"></script>&#8220;, path);<br />
}<br />
< %= Html.IncludeJs("jquery") %><br />
< %= Html.IncludeJs("main") %><br />
< %= Html.IncludeJs("jquery_validate") %><br />
        */</p>
<p>    }</p>
<p>}</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1554">
		<div id="comment-1554">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Pure Krome</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/#comment-1554">January 22, 2009 at 4:25 am</a></div>

		<div class="comment-body"><p>@Karl: Kewl <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' />  I&#8217;m stoked that you like (and are even using) the port i did! I was so surprised that no one had any .NET code or even a port of something existing! I found that lots of people just installed Java and integrated that into their build process. EEEEK!!! I couldn&#8217;t think of anything worse! Anyways, that&#8217;s the reason why i did it and dropping 12 or so js files down to one, as well as minifying them was a great speed improvement to our site.</p>
<p>@ Timothy : exactly dude. I couldn&#8217;t agree more, regardless if you use my port or the original or someone elses. </p>
<p>Keep smiling <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-1553">
		<div id="comment-1553">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.duzodesign.com' rel='external nofollow' class='url'>Timothy</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/#comment-1553">December 31, 2008 at 3:25 pm</a></div>

		<div class="comment-body"><p>I&#8217;m not much of a fan of JQuery (MooTools all the way! Or at least Prototype&#8230;). But, yea, YUICompressor should be used in every project.</p>
<p>In fact, everyone should get the YSlow extension for Firebug to see what can be done to improve performance.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1552">
		<div id="comment-1552">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://neverrunwithscissors.com/blog/' rel='external nofollow' class='url'>Peter Mounce</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/#comment-1552">December 30, 2008 at 11:36 pm</a></div>

		<div class="comment-body"><p>Your Html.IncludeJs registers a single script-block per file?  You&#8217;ll get significantly better performance (both in terms of number of requests going down, and in terms of compression efficiency) if you, in release mode, include one set of javascripts minified and globbed together into a single file.   See <a href="http://www.julienlecomte.net/blog/2007/08/13/" rel="nofollow">http://www.julienlecomte.net/blog/2007/08/13/</a> and compar your approach as now to a one-minified-file approach with Firebug/YSlow.</p>
<p>You can do the one-minified-file approach by changing the helper to add the path to a set (as in, set-semantics list), and then (I&#8217;m coming from MonoRail, not MS-MVC) write out the script includes as an after-rendering filter &#8211; in debug mode, write out one include per file, linking against the debug copies; in release mode, write out a single include that links against the set of scripts, minified.</p>
<p>Except you can&#8217;t do that (well, you _can_, but&#8230; <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' />   ) with a build-time task, because it would need to know all of the possible combinations of script-includes that your app uses.  I think in this case if you care enough to be compressing in the first place (ie, you need to scale / want responsive UI), you can probably eat the production-CPU-cycles and be better off doing this at run-time, not build-time.</p>
<p>For interest, there is a most-of-the-way-there patch to MonoRail that creates a ViewComponent that does most of this &#8211; it lacks a debug-mode switch, currently.  You can see that at <a href="http://support.castleproject.org/projects/MR/issues/view/MR-ISSUE-457" rel="nofollow">http://support.castleproject.org/projects/MR/issues/view/MR-ISSUE-457</a>.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-1551">
		<div id="comment-1551">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.smallsharptools.com/Projects/Packer/' rel='external nofollow' class='url'>Brennan Stehling</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/#comment-1551">December 30, 2008 at 10:10 pm</a></div>

		<div class="comment-body"><p>Have you seen Packer for .NET? </p>
<p>It provides MSBuild tasks and can compress with Packer or JSMin modes. Recently I got a contribution of CSSMinify to the project so you can compress CSS as well now. You can either do it at build time or use the assembly to do it at runtime.</p>
<p><a href="http://www.smallsharptools.com/Projects/Packer/" rel="nofollow">http://www.smallsharptools.com/Projects/Packer/</a></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1550">
		<div id="comment-1550">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/#comment-1550">December 30, 2008 at 4:16 pm</a></div>

		<div class="comment-body"><p>@jerry:<br />
Nope, didn&#8217;t know about it. I don&#8217;t use VS.NET for JS editing, find it crappy. Plain text editor for me. But should be easy to change anything around to fit your particular set-up.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-1549">
		<div id="comment-1549">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Jerry</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/#comment-1549">December 30, 2008 at 3:42 pm</a></div>

		<div class="comment-body"><p>Nice post.</p>
<p>Did you look into incorporating the -vsdoc.js/.debug.js hotfix (<a href="http://blogs.msdn.com/webdevtools/archive/2008/11/07/hotfix-to-enable-vsdoc-js-intellisense-doc-files-is-now-available.aspx" rel="nofollow">http://blogs.msdn.com/webdevtools/archive/2008/11/07/hotfix-to-enable-vsdoc-js-intellisense-doc-files-is-now-available.aspx</a>)?</p>
<p>I&#8217;d want to name my files that I edit foo.debug.js then compress them to foo.js.  Then the hotfix takes over and includes the right file.  Added advantage is that this can also be used in html files.</p>
<p>Then you could get rid of your IncludeJS helper.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1548">
		<div id="comment-1548">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Johan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/#comment-1548">December 30, 2008 at 12:19 pm</a></div>

		<div class="comment-body"><p>Truly great, thanks.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-1547">
		<div id="comment-1547">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Paco</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/#comment-1547">December 29, 2008 at 7:45 pm</a></div>

		<div class="comment-body"><p>I wish you posted this last week! I didn&#8217;t know about the .Net port and I spent a too much time figuring out how to integrate the Java version&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1546">
		<div id="comment-1546">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.codesqueeze.com' rel='external nofollow' class='url'>Max Pool</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/#comment-1546">December 29, 2008 at 7:38 pm</a></div>

		<div class="comment-body"><p>Well done &#8211; I need the exact same thing and have been putting it off for awhile.  Guess I have no excuse now but to get to work.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-1545">
		<div id="comment-1545">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Stephen</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2008/12/29/compressing-js-files-as-part-of-your-build-process/#comment-1545">December 29, 2008 at 4:48 pm</a></div>

		<div class="comment-body"><p>Great idea, I think its nice to show people just how simple some things are to achieve.. sometimes we can forget that being software developers means we can .. write software to help ourselves.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
			</ol>



								
</div><!-- #comments -->

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
									</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.428 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 18:32:24 -->
<!-- super cache -->