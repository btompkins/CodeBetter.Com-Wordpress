<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>HttpHandlers – Learn Them. Use Them. | Karl Seguin</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/karlseguin/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/karlseguin/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Have I inherited a disaster?' href='http://codebetter.com/karlseguin/2006/05/18/have-i-inherited-a-disaster/' />
<link rel='next' title='Communities and Fragmentation' href='http://codebetter.com/karlseguin/2006/05/29/communities-and-fragmentation/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/karlseguin/?p=28' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,142] -->
<link rel="canonical" href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-28" class="post-28 post type-post status-publish format-standard hentry category-grab-a-coffee-before-reading">
					<h1 class="entry-title">HttpHandlers – Learn Them. Use Them.</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/karlseguin/author/karlseguin/" title="View all posts by karlseguin">karlseguin</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/" title="1:56 am" rel="bookmark"><span class="entry-date">May 25, 2006</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/karlseguin/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/karlseguin/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>My first blog post from Word 2007 – let’s see how this goes.
</p>
</p>
<h1>Introduction<br />
</h1>
</p>
<p>There are many features in ASP.NET that are unfortunately underused. Sometimes a feature gets looked over because it’s too complicated. Other times, like in the case of HttpHandlers, it’s because they are poorly understood. For the longest time I understood the concept and implementation of HttpHandlers, but I just couldn’t figure out under what circumstances I’d use them.
</p>
<p>Googling <em>HttpHandlers</em> it’s obvious to me that bad tech writers are squarely to blame. A shameful amount of examples are nothing more than “hello world.” The problem with such a limited example is that it leaves the reader thinking “so? I can do that with an aspx page!” Without understanding what problem space HttpHandlers are meant for, it’s impossible to get developers to use them.
</p>
<p>As an ASP.NET developer, HttpHandlers are important because they are the earliest possible point where you have access to requests. When a request is made to IIS for an ASP.NET resource (.aspx, .config, .asmx), the ASP.NET worker process internally creates an instance of the right HttpHandler for the request in question and effectively hands off the task of responding to the request. How does ASP.NET know which is the right HttpHandler for a given request? Simple, via configuration files, paths are mapped to http handlers. For example, if you open your machine.config file you’ll see a list of default mapping. For example:
</p>
<p><span style="font-family: Courier New;font-size: 9px">&lt;add verb=&#8221;<span>*</span>&#8221; path=&#8221;<span>*.aspx</span>&#8221; type=&#8221;<span>System.Web.UI.PageHandlerFactory</span>&#8221; /&gt;<br />&lt;add verb=&#8221;<span>*</span>&#8221; path=&#8221;<span>*.config</span>&#8221; type=&#8221;<span>System.Web.HttpForbiddenHandler</span>&#8221; /&gt;<br />&lt;add verb=&#8221;<span>*</span>&#8221; path=&#8221;<span>*.asmx</span>&#8221; type=&#8221;<span>System.Web.Services.Protocols.WebServiceHandlerFactory</span>&#8221; /&gt;<br />
</span></p>
<p>So every time any .aspx page is requested, the PageHandlerFactory is left to fulfill the request. HttpHandlers can also be added or changed for specific sites in the web.config. Handlers aren’t just mapped to extensions, your own handler can be mapped to “HandlePingback.aspx”, in which case it, not the PageHandlerFactory, will be called upon.
</p>
<p>An HttpHandler is actually any class that implements the System.Web.IHttpHandler interface. To be of any use it needs to be mapped to a path. (I lie, PageHandlerFactory doesn’t implement IHttpHandler. Instead, it implements IHttpHandlerFactory. IHttpHandlerFactory defines a method named GetHandler which returns an IHttpHandler. We won’t cover IHttpHandlerFactories here, but it’s basically a layer between the internal ASP.NET process and the handoff to the HttpHandler. Either way, in the end you end up with a class that implements IHttpHandler). The IHttpHandler interfaces defines the very important and aptly named ProcessRequest. Basically, this is ASP.NET saying “hey you! Process this request!”
</p>
</p>
<h1>Built-in Handlers<br />
</h1>
</p>
<p>If we look at the most important HttpHandler, the System.Web.UI.Page class (yes, the same one that all your pages inherit from), we really start to get a good feel for what an HttpHandler is responsible for. Looking at the internals of the Page class and starting from the ProcessRequest function, we quickly get to a ProcessRequestMain function which really starts to interact with stuff you do on a daily basis. Look at some of the stuff that happens in ProcessRequestMain:</p>
<p><font face="Courier New" size="2">&#8230;<br /><font color="#0000ff">base</font>.InitRecursive(<font color="#0000ff">null</font>);<br /><font color="#0000ff">if </font>(context1.TraceIsEnabled)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">this</font>.Trace.Write(&#8220;<font color="#a52a2a">aspx.page</font>&#8220;, &#8220;<font color="#a52a2a">End Init</font>&#8220;);<br />}<br /><font color="#0000ff">if </font>(<font color="#0000ff">this</font>.IsPostBack)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">if </font>(context1.TraceIsEnabled)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">this</font>.Trace.Write(&#8220;<font color="#a52a2a">aspx.page</font>&#8220;, &#8220;<font color="#a52a2a">Begin LoadViewState</font>&#8220;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">this</font>.LoadPageViewState();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">if </font>(context1.TraceIsEnabled)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">this.</font>Trace.Write(&#8220;<font color="#a52a2a">aspx.page</font>&#8220;, &#8220;<font color="#a52a2a">End LoadViewState</font>&#8220;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">this</font>.Trace.Write(&#8220;<font color="#a52a2a">aspx.page</font>&#8220;, &#8220;<font color="#ff0000">Begin ProcessPostData</font>&#8220;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">this</font>.ProcessPostData(<font color="#0000ff">this</font>._requestValueCollection, <font color="#0000ff">true</font>);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">if </font>(context1.TraceIsEnabled)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">this</font>.Trace.Write(&#8220;<font color="#a52a2a">aspx.page</font>&#8220;, &#8220;<font color="#a52a2a">End ProcessPostData</font>&#8220;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />}<br /><font color="#0000ff">base</font>.LoadRecursive();<br />&#8230;</font></p>
<p>As you can see, it’s this method that’s responsible for causing all those ASPX events, such as OnInit and OnLoad, to be raised. In essence, the Page class does what it’s supposed to do: it’s handling the request.
</p>
<p>Another handler we saw listed above is the HttpForbiddenHandler (which is a straight handler as opposed to a HandlerFactory). A number of paths are mapped to this handler – generally files that might compromise a security risk if left publically accessible (like .config, .cs, .vb, .dll, …). The ProcessRequest for this handler is to the point:</p>
<p><font face="Courier New" size="2"><font color="#0000ff">public void </font>ProcessRequest(HttpContext context)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PerfCounters.IncrementCounter(AppPerfCounter.REQUESTS_NOT_FOUND);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">throw new</font> HttpException(0&#215;193, HttpRuntime.FormatResourceString(&#8220;<font color="#a52a2a">Path_forbidden</font>&#8220;, context.Request.Path));<br />}<br /></font>
</p>
<h1>Why use a handler?<br />
</h1>
<p>There are likely few times where you <strong>have</strong> to use a handler. Almost anything you can do in a handler, you could simply create an aspx page to take care of. So why bother? There are two main reasons. First and foremost, HttpHandlers are far more reusable/portable than pages.  Since there’s no visual element to an HttpHandler (no .aspx), they can easily be placed into their own assembly and reused from project to project or even sold as is. Secondly, the Page handler is relatively expensive. Going with the “Hello World” examples, if you do that in a page you’ll end up raising a number of events (onInit, onLoad, onPreRender, onUnload, …) and make use of a number of ASP.NET features such as viewstate and postback. In most cases, the performance hit is negligible, but it nonetheless highlights that you’re using the page framework when you have no need to.
</p>
</p>
<h1>Real Examples<br />
</h1>
</p>
<p>The first example to look at is the TrackbackHandler than’s part of CommunityServer 1.1. If you go to <a href="http://code.communityserver.org/">http://code.communityserver.org/</a> and open 1.1/Blogs/Components/TrackbackHandler.cs you’ll see the relevant source code. The purpose of this handler is to track pingbacks made to blog entries. Most blog engines will automatically send a pingback to any linked posts. This means that blog engines must also have a way to capture these pingbacks and record them. There’s more or less a standard between how the communication is supposed to happen, but each blog engine is really on its own as far as implementation. Without spending too much time in the code, we can see that the handler looks for a number of POST parameters and creates the trackback based on what’s passed in.
</p>
<p>There’s absolutely no reason why all of this couldn’t be done using an ASPX page. But as I’ve already mentioned, that would force the entire ASPX page framework to be invoked. Additionally, this handler doesn’t even have a visual element – so a page doesn’t make too much sense.
</p>
<p>(you can look at the web.config to see how the handler’s added).
</p>
<p>Another example is my <a HREF="/blogs/karlseguin/archive/2006/04/13/142770.aspx">open source AMF.NET project</a> which makes it possible for a Flash application to communicate with server-side ASP.NET code. The AmfGetwayHandler  deserializes the AMF input (AMF is a proprietary binary protocol used by Flash), executes the right server side .NET function and returns a serialized response. Again, a single ASP.NET page could be used to accomplish the same thing, but then it would be impossible to package AMF.NET as a single assembly.
</p>
<p>Another common example you’ll run across is using HttpHandlers to generate RSS feeds. Many applications will map “Rss.aspx” to an HttpHandler which generates a XML feed.
</p>
</p>
<h1>Why not to use HttpHandlers<br />
</h1>
</p>
<p>The biggest and very significant drawback of HttpHandlers is that they can only be used for extensions that are mapped to ASP.NET in IIS. It might be great to create a file download counter for your .zip files using an HttpHandler, but since IIS doesn’t go through ASP.NET to serve .zip files, it isn’t going to work. One solution is to map those extra extension to ASP.NET, but that might have undesirable side effects and might not even be possible for you (many developers don’t have direct access to IIS). In this case, the only solution is to create an ISAPI filter which is much more difficult. IIS 7 promises to let us write ISAPI filters in .NET (or extend HttpHandlers beyond the ASP.NET pipeline depending on how you look at it), but that’s still a ways away.</p>
<div class="shr-publisher-28"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/karlseguin/category/grab-a-coffee-before-reading/" title="View all posts in Grab a coffee before reading" rel="category tag">Grab a coffee before reading</a>. Bookmark the <a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/" title="Permalink to HttpHandlers – Learn Them. Use Them." rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/feed/" title="Comments RSS to HttpHandlers – Learn Them. Use Them." rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-28 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/karlseguin/2006/05/18/have-i-inherited-a-disaster/" rel="prev"><span class="meta-nav">&larr;</span> Have I inherited a disaster?</a></div>
					<div class="nav-next"><a href="http://codebetter.com/karlseguin/2006/05/29/communities-and-fragmentation/" rel="next">Communities and Fragmentation <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

							<div id="comments">


			<h3 id="comments-title">69 Responses to <em>HttpHandlers – Learn Them. Use Them.</em> </h3>

			<div class="navigation">
				<div class="nav-previous"></div>
				<div class="nav-next"></div>
			</div>

			<ol class="commentlist">
						<li class="comment even thread-even depth-1" id="li-comment-355">
		<div id="comment-355">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Nabeel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-355">February 11, 2009 at 7:12 am</a></div>

		<div class="comment-body"><p>Thanks a lot for publishing it. God bless you.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-354">
		<div id="comment-354">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Nitin</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-354">January 23, 2009 at 9:35 am</a></div>

		<div class="comment-body"><p>Hi All,</p>
<p>I m using Asp.net 2.0 to develop my web app.<br />
i m using Webhandler (.ashx) pages to wrrite some html from backend..<br />
the code is work finr for IE but it is not work for mozilla,safari..<br />
here is the code..<br />
In Javascript i write:-</p>
<p>var xmlhttp = null;</p>
<p>         if (window.XMLHttpRequest) { // if Mozilla, Safari etc<br />
        xmlhttp = new XMLHttpRequest();</p>
<p>    }<br />
    else if (window.ActiveXObject) { // if IE<br />
        try {<br />
            xmlhttp = new ActiveXObject(&#8220;Msxml2.XMLHTTP&#8221;);</p>
<p>        } catch (e) {<br />
            try {<br />
                xmlhttp = new ActiveXObject(&#8220;Microsoft.XMLHTTP&#8221;);</p>
<p>            } catch (e) {}<br />
        }<br />
    }     </p>
<p> if (xmlhttp)<br />
    {<br />
        xmlhttp.open(&#8220;POST&#8221;, &#8220;./htask_getDevicesGroupWise.ashx&#8221;, true); //varAsynx = true<br />
        xmlhttp.onreadystatechange = function()<br />
                            {<br />
                                if (xmlhttp.readystate ==4) //4 is a success<br />
                                {<br />
                                    try{<br />
                                        var result = xmlhttp.responseText;<br />
                                        eval(result);<br />
                                         LoadingHide();<br />
                                    }<br />
                                    catch(e)<br />
                                    {<br />
                                      //alert(e.message)<br />
                                      //throwError(e.message,&#8217;fn_runHandler&#8217;,'Common Handler&#8217;,'ve.js&#8217;);<br />
                                    }<br />
                                }<br />
                            }<br />
        xmlhttp.send(null);<br />
    }</p>
<p>And in Handler page i just write</p>
<p> Public Sub ProcessRequest(ByVal context As HttpContext) Implements IHttpHandler.ProcessRequest<br />
 context.Response.Write(&#8220;alert(&#8216;sfs&#8217;);&#8221;)<br />
End Sub</p>
<p>alert message is not showing on mozilla,safari but it is working in IE.<br />
so i think context.Response.Write is not working ..<br />
Why?</p>
<p>Please help!!!<br />
Thanks in advance<br />
Nitin</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-353">
		<div id="comment-353">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Nitin</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-353">January 23, 2009 at 9:34 am</a></div>

		<div class="comment-body"><p>Hi All,</p>
<p>I m using Asp.net 2.0 to develop my web app.<br />
i m using Webhandler (.ashx) pages to wrrite some html from backend..<br />
the code is work finr for IE but it is not work for mozilla,safari..<br />
here is the code..</p>
<p>In Javascript i write:-</p>
<p>var xmlhttp = null;</p>
<p>         if (window.XMLHttpRequest) { // if Mozilla, Safari etc<br />
        xmlhttp = new XMLHttpRequest();</p>
<p>    }<br />
    else if (window.ActiveXObject) { // if IE<br />
        try {<br />
            xmlhttp = new ActiveXObject(&#8220;Msxml2.XMLHTTP&#8221;);</p>
<p>        } catch (e) {<br />
            try {<br />
                xmlhttp = new ActiveXObject(&#8220;Microsoft.XMLHTTP&#8221;);</p>
<p>            } catch (e) {}<br />
        }<br />
    }     </p>
<p> if (xmlhttp)<br />
    {<br />
        xmlhttp.open(&#8220;POST&#8221;, &#8220;./htask_getDevicesGroupWise.ashx&#8221;, true); //varAsynx = true<br />
        xmlhttp.onreadystatechange = function()<br />
                            {<br />
                                if (xmlhttp.readystate ==4) //4 is a success<br />
                                {<br />
                                    try{<br />
                                        var result = xmlhttp.responseText;<br />
                                        eval(result);<br />
                                         LoadingHide();<br />
                                    }<br />
                                    catch(e)<br />
                                    {<br />
                                      //alert(e.message)<br />
                                      //throwError(e.message,&#8217;fn_runHandler&#8217;,'Common Handler&#8217;,'ve.js&#8217;);<br />
                                    }<br />
                                }<br />
                            }<br />
        xmlhttp.send(null);<br />
    }</p>
<p>And in Handler page i just write</p>
<p> Public Sub ProcessRequest(ByVal context As HttpContext) Implements IHttpHandler.ProcessRequest<br />
 context.Response.Write(&#8220;alert(&#8216;sfs&#8217;);&#8221;)<br />
End Sub</p>
<p>alert message is not showing on mozilla,safari but it is working in IE.<br />
so i think context.Response.Write is not working ..<br />
Why?</p>
<p>Please help!!!<br />
Thanks in advance<br />
Nitin</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-352">
		<div id="comment-352">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">DevMan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-352">January 2, 2009 at 10:52 pm</a></div>

		<div class="comment-body"><p>Still pretty foggy on the advantages and uses of an http handler.</p>
<p>I&#8217;d say this article falls into the &#8220;bad tech writers are squarely to blame&#8221; catagorie.</p>
<p>You&#8217;ve jumped from hello world to proprietary binary serialization.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-351">
		<div id="comment-351">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://kruegers.net' rel='external nofollow' class='url'>Seo</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-351">November 12, 2008 at 12:27 am</a></div>

		<div class="comment-body"><p>Very helpful infos about HttpHandlers. Thanks a lot for publishing it. <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-350">
		<div id="comment-350">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.seo-imagine.de' rel='external nofollow' class='url'>SEO Texter</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-350">October 21, 2008 at 9:57 pm</a></div>

		<div class="comment-body"><p>Great article. Thanks for the information.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-349">
		<div id="comment-349">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.e-zest.net/dotnet_Web_Applications_Desktop.html' rel='external nofollow' class='url'>ASP Net Web Development</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-349">September 1, 2008 at 5:19 am</a></div>

		<div class="comment-body"><p>Nice stuff&#8230; thanks for sharing&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-348">
		<div id="comment-348">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.bakilerparke.com' rel='external nofollow' class='url'>parke</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-348">August 30, 2008 at 12:01 pm</a></div>

		<div class="comment-body"><p>Thank Youuu</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-347">
		<div id="comment-347">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Sucharitha</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-347">November 2, 2007 at 6:35 am</a></div>

		<div class="comment-body"><p>plzz check my client code also&#8230;.if client sends a string server is recieveing (NameValuePair) but if it sends a file it is not recieving&#8230;</p>
<p> File input = new File(&#8220;XMLFile1.xml&#8221;);<br />
            RequestEntity entity = new FileRequestEntity(input);<br />
           PostMethod post = new PostMethod(url);<br />
            post.setRequestEntity(entity);<br />
            HttpClient httpclient = new HttpClient();</p>
<p>            try<br />
            {<br />
                int result = httpclient.executeMethod(post);<br />
                if (result >=200 &#038;&#038; result <=210 ) {<br />
                System.out.println(&#8220;Request Timed out&#8221;);<br />
                     System.err.println(&#8220;Method Failed:&#8221;post.getStatusLine()+ post.getStatusText());}<br />
                System.out.println(&#8220;Response status code: &#8220;+result);<br />
                System.out.println(post.getResponseBodyAsString());<br />
            }<br />
            catch(Exception e)<br />
            {<br />
                System.out.println(&#8220;Response body: &#8220;);<br />
            }<br />
            finally<br />
            {<br />
                post.releaseConnection();<br />
            }</p>
<p>I&#8217;m getting the response code as 200. but no files are uploaded at the server. i checked all permissions they are fine and firewall is turned on.</p>
<p>plzz help out with this&#8230;&#8230;..</p>
<p>thanq in advance</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-346">
		<div id="comment-346">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-346">October 9, 2007 at 1:22 pm</a></div>

		<div class="comment-body"><p>Sucharitha:<br />
Your code works fine for me.  Have you been able to step through the code and check for any exceptions? The only thing I can really think of is a filepermission error. Maybe you can try to save the file directly in the root of the website (for now), and see if that works.</p>
<p>You might want to try using FileMon (google &#8220;FileMon&#8221;, it&#8217;s free) and seeing if there&#8217;s a permission problem.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-345">
		<div id="comment-345">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">sucharitha</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-345">October 8, 2007 at 5:04 am</a></div>

		<div class="comment-body"><p>hey,</p>
<p>please answer any question its very important to me.<br />
how server will save a file which is posted to it by the client in asp.net.?</p>
<p>please do reply</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-344">
		<div id="comment-344">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">sucharitha</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-344">October 1, 2007 at 5:21 am</a></div>

		<div class="comment-body"><p>my other question is </p>
<p>i wanted to send a file to server. i used post method to do so.  the server should save that file.<br />
but this is not happening.</p>
<p>i posted the file sucessfully.  i got the response code as 200 but the file is not saved in specified directory.<br />
at server.</p>
<p>in webform  page_load event i wrote: </p>
<p>Dim f As String</p>
<p>Dim file</p>
<p>For Each f In Request.Files.AllKeys</p>
<p>file = Request.Files(f)</p>
<p>file.SaveAs(&#8220;c:\test2\&#8221; &#038; file.FileName)</p>
<p>Next f</p>
<p>but this code is not working. how can i save the incomming file?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-343">
		<div id="comment-343">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-343">September 28, 2007 at 2:16 am</a></div>

		<div class="comment-body"><p>They go in<br />
  <system .web><br />
   <httphandlers><br />
           &#8230;.<br />
   </httphandlers><br />
</system></p>
<p>You can only have 1 httphandler per type, so if you specify your own handler for .aspx files, the default handler will no longer process the page normally (which I can&#8217;t imagine is what you actually want).</p>
<p>Not sure about your other question with respect to file uploads.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-342">
		<div id="comment-342">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">sucharitha</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-342">September 27, 2007 at 1:59 pm</a></div>

		<div class="comment-body"><p>I&#8217;m sorry&#8230;that some sentences are incomplete in my previous post.</p>
<p>Actually I wanted to create a my own handler to process requests for .aspx pages.</p>
<p>my doubt is<br />
where should i add<br />
<add verb ="post" path=".aspx" type="handler"/><br />
in web.config file?<br />
where i want in <system .web>?or is there any particular location?<br />
because  i&#8217;m getting an exception whenever a request is sent from client.</p>
<p>&#038; the other question is about  whether i can save files sent by  client with default Handler in pageFactoryHandler.</p>
<p>if so, could you please tell me how a server will handle such type of requests.</p>
<p></system></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-341">
		<div id="comment-341">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">sucharitha</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-341">September 27, 2007 at 1:42 pm</a></div>

		<div class="comment-body"><p>i have doubt regarding where to add<br />
<add verb="post"............../><br />
in web.config file.</p>
<p>i want to create a new handler for .aspx pages.</p>
<p>&#038; one more question about default handler in PageFactoryHandler saves the files to the specified directory sent by client.</p>
<p>if so, could you please how server will handle such type of requests?</p>
<p>thanku in advance</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-340">
		<div id="comment-340">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Banjo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-340">July 5, 2007 at 9:48 am</a></div>

		<div class="comment-body"><p>I tried following mapping in webconfig-file inside system.web:</p>
<p><urlmappings><br />
         <add url="~/Doc.aspx" mappedUrl="~/Doc.ashx" /><br />
</urlmappings>  </p>
<p>..and it works for me!  </p>
<p>/ Banjo</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-339">
		<div id="comment-339">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Banjo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-339">July 5, 2007 at 8:33 am</a></div>

		<div class="comment-body"><p>Good article. </p>
<p>How can I &#8216;redirect&#8217; (url rewrite) <a href="http://myhostname.org/Doc.aspx?id=12345&#038;extension=pdf&#038;filename=myfile.pdf" rel="nofollow">http://myhostname.org/Doc.aspx?id=12345&#038;extension=pdf&#038;filename=myfile.pdf</a> request for the httphandler <a href="http://myhostname.org/Doc.ashx?id=12345&#038;extension=pdf&#038;filename=myfile.pdf" rel="nofollow">http://myhostname.org/Doc.ashx?id=12345&#038;extension=pdf&#038;filename=myfile.pdf</a> ?</p>
<p>Is it possible to do that url rewrite in webconfig file? How about those request querystring parameters which are not static?</p>
<p>Thanks, Banjo</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-338">
		<div id="comment-338">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://mahmoudraad@hotmail.com' rel='external nofollow' class='url'>Mahmoud Raad</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-338">June 22, 2007 at 12:05 pm</a></div>

		<div class="comment-body"><p>i didn&#8217;t like your comments maybe i am idiot <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_biggrin.gif' alt=':D' class='wp-smiley' /> </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-337">
		<div id="comment-337">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-337">April 19, 2007 at 10:49 am</a></div>

		<div class="comment-body"><p>Stephen:<br />
Sounds right. It&#8217;s pretty much being used as a soap-less webservice at that point, which is fine. You end up having a custom service sitting on top of a very powerful multi threaded server (Windows 2003/IIS).</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-336">
		<div id="comment-336">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Stephen</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-336">April 19, 2007 at 4:35 am</a></div>

		<div class="comment-body"><p>Great article.</p>
<p>I&#8217;ve been asked to write a web service that serves up multipart MIME messages &#8211; it&#8217;ll be consumed by a Java client that expects SwA attachments.  I&#8217;m thinking that I could use a HTTP Handler to construct and return the multipart MIME response.  Is this an appropriate use of HTTP Handlers?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-335">
		<div id="comment-335">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-335">April 10, 2007 at 10:32 pm</a></div>

		<div class="comment-body"><p>Richard:<br />
I can&#8217;t help but think a socket server would be better off handling this type of task. I even see something UDP based as being highly efficient and scalable and capable of circumventing firewalls.</p>
<p>You might want to check out:<br />
<a href="http://www.pluralsight.com/blogs/fritz/archive/2006/04/11/21480.aspx" rel="nofollow">http://www.pluralsight.com/blogs/fritz/archive/2006/04/11/21480.aspx</a></p>
<p>along with the comments (especially Josh Twist&#8217;s post with the links).</p>
<p>I&#8217;m pretty sure that ThreadPool in ASP.NET is per site/app domain&#8230;HttpHandlers are well below this &#8211; so yes, they would all share the same one.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-334">
		<div id="comment-334">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Brian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-334">April 2, 2007 at 4:02 pm</a></div>

		<div class="comment-body"><p>Nice article.  But the problem I find with the ProcessRequest is that it fires more than once.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-333">
		<div id="comment-333">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Richard Norris</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-333">March 24, 2007 at 4:53 pm</a></div>

		<div class="comment-body"><p>Hi Karl,</p>
<p>Great article.  I&#8217;ve got a particular problem that I hope HTTPHandlers can help me to achieve.  I want to mimic the Exchange 2003 SP2 Push Email feature for mobile devices.  </p>
<p>My research has led me to discover that MS do this with a ISAPI extension.  Basically the WM device makes a HTTP/HTTPS call to this extension.  The time-out of this request is set high.  The extension then holds on to the request through-out this period until it finds that an email is available.  If it does it just responds to the client.  Otherwise it returns nothing before the time-out expires.</p>
<p>Doing this is kind of resource intensive and bad news for ASP.NET.  I&#8217;m not a ASP.NET developer but when I started to look at doing this with ASP.NET everything told me not to play with the thread-pool.  This means I am restricted to 20 threads and that is no good for this app.  Obviously I could increase the pool but I&#8217;m worried that performance will  be severly effected.</p>
<p>Ok, so the performance issue is never going to really go away, but are HTTPHandlers limited to the same thread-pool (My first guess is yes).  I hope I&#8217;m wrong.  Am I looking in the right place for this solution?</p>
<p>TIA</p>
<p>Richard</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-332">
		<div id="comment-332">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Ankit Goel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-332">February 21, 2007 at 5:58 am</a></div>

		<div class="comment-body"><p>hi karl<br />
this article was very helpful to me in understanding HTTPHandler</p>
<p>Thanks<br />
Ankit</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-331">
		<div id="comment-331">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-331">January 23, 2007 at 11:08 pm</a></div>

		<div class="comment-body"><p>Dennis: no. Handlers are meant to handle specific requests. What you&#8217;d be more interested in is an HttpModule. Except that&#8217;s only fed into the pipeline of files being served by the ASP.NET module (via extension mapping in IIS) &#8211; which may very well be good enough for you. If that&#8217;s what you want, then use an HttpModule and hook into the BeginRequest event&#8230;I&#8217;ve blogged about HttpModules as well.</p>
<p>Until IIS 7.0 comes out, the only solution to filter ALL requests (images, .js, .css,&#8230;) is to use an ISAPI filter written in C++.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-330">
		<div id="comment-330">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Dennis</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-330">January 23, 2007 at 4:51 pm</a></div>

		<div class="comment-body"><p>Is it possible to intercept all http requests to an IIS site and determine the client browser with an HTTPHandler?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-329">
		<div id="comment-329">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-329">December 22, 2006 at 1:07 am</a></div>

		<div class="comment-body"><p>Jack, not sure.</p>
<p>You should get a IHttpHandler instance out of that (which is actually a page), which you should be able to call ProcessRequest on, which expects the HttpContext.</p>
<p>If you&#8217;re handler is using GetCompiledPageInstance, why not just use the normal page framework? Without knowing more, it seems like you are using HttpHandlers for the wrong reasons.</p>
<p>Also, from the MSDN documentation:<br />
&#8220;This method supports the .NET Framework infrastructure and is not intended to be used directly from your code.&#8221;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-328">
		<div id="comment-328">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Jack</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-328">December 21, 2006 at 10:25 pm</a></div>

		<div class="comment-body"><p>I have PageParser.GetCompiledPageInstance. The result is that it returns a blank page? Why is that? </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-327">
		<div id="comment-327">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">naybet</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-327">December 7, 2006 at 11:12 am</a></div>

		<div class="comment-body"><p>how can i use HttpHandler in dot net nuke</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-326">
		<div id="comment-326">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-326">October 26, 2006 at 10:46 am</a></div>

		<div class="comment-body"><p>Seems to me that you you are trying to POST to a file that has a handler set up for GET only. From your explanation, I figured you were opening directly to a .doc file, so something like:</p>
<p><script>
window.open("agenda.doc");
</script></p>
<p>By default .doc files aren&#8217;t handled by ASP.NET. Did you add a handler in your web.config or your machine.config? Are you using a different extension? What subfolder are your .doc files in?</p>
<p>Even if I&#8217;m on the right track, it&#8217;s very odd because window.open(&#8220;xxx&#8221;) should be doing a GET&#8230;so I don&#8217;t see why you&#8217;d be getting back a POST.</p>
<p>I&#8217;d love to see an example&#8230;you can zip something up and mail it to kseguin   FuelIndustries   . com</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-325">
		<div id="comment-325">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">rajdev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-325">October 26, 2006 at 4:10 am</a></div>

		<div class="comment-body"><p>Karl, the codebehind here means the .vb file of the aspx page. Currently I am not having any httphandler. The error is &#8220;Path &#8216;POST&#8217; is forbidden&#8221;. I believe that this occurs because of trying to open a word document. If it is a html document i am not getting any error.   I believe that you will be clear on the error..</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-324">
		<div id="comment-324">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-324">October 25, 2006 at 9:33 pm</a></div>

		<div class="comment-body"><p>Rajdev&#8230;I&#8217;m not reallly clear&#8230;you say you are doing this in codebehind&#8230;but I take it you mean within your httphandler/ What error are you getting specifically?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-323">
		<div id="comment-323">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">rajdev</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-323">October 25, 2006 at 11:02 am</a></div>

		<div class="comment-body"><p>Hi,<br />
  I am trying to open a word document from code behind file. I am using Response.Write(&#8220;<script language='javascript'> window.open(filename) </script>&#8220;. But i am getting http handler error. Is there any way to solve the problem?<br />
  It seems that we have to write our own handler. Is there any alternative method available?<br />
  Thanks in advance</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-322">
		<div id="comment-322">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.sumago.de' rel='external nofollow' class='url'>Yankee</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-322">October 7, 2006 at 2:36 pm</a></div>

		<div class="comment-body"><p>Nice Comments</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-321">
		<div id="comment-321">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-321">September 17, 2006 at 9:13 pm</a></div>

		<div class="comment-body"><p>Stefe:<br />
You normally set up your handler to handle a very specific request, say &#8220;rss.axd&#8221; or &#8220;imageGenerator.aspx&#8221;.  At most you might map it to a full subfolder, like &#8220;ajax/*&#8221;.</p>
<p>I&#8217;m not sure exactly when the HttpHandler is invoked with respect to the HttpModule. It&#8217;s possible that in BeginRequest the HttpHandler hasn&#8217;t been invoked yet (it&#8217;d be fairly easy to find out), so yes, you could circumvent it, but then your module will fire for every hit..so if you stop the httphandler chain, your .aspx handlers (PageFactoryHandler) will never fire and you&#8217;ll cripple your asp.net. yes, there might be ways around this (like checking the page url in BeginRequest and doing different stuff)..but why?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-320">
		<div id="comment-320">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Stefe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-320">September 17, 2006 at 1:19 pm</a></div>

		<div class="comment-body"><p>Well, also with handlers you tipycally end up serving all requests &#8230; I mean, you typically register your handler to serve all aspx requests ending up obtaining the same result as for modules.<br />
What you say about having each request being finally served by a handler is generally true but not necessarily true. Suppose I have a module that on a request responds doing something and then rising the EndRequest event. That would end the request. And no handler has been invoked. Am I right?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-319">
		<div id="comment-319">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-319">September 16, 2006 at 12:49 pm</a></div>

		<div class="comment-body"><p>Steve,<br />
There is some similarity between the two. The main difference though is that IHttpHandlers handle specific requests, IHttpModules service all application requests. It&#8217;s probably possible to do everything in an HttpModule -but the request will still use an HttpHandler, so you still want to take advantage of a custom handler in some situation (i.e., you don&#8217;t necessarily always want to inherit all the stuff the default handler does).</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-318">
		<div id="comment-318">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Steve</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-318">September 15, 2006 at 11:18 pm</a></div>

		<div class="comment-body"><p>I&#8217;m kind of confused as to when use modules and when use handlers &#8230; by using module you should be able to do all that you can do with handlers, right???</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-317">
		<div id="comment-317">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-317">July 26, 2006 at 8:33 pm</a></div>

		<div class="comment-body"><p>Chris:<br />
You can remap .HTML files to be processed by ASP.NET. I&#8217;d then use an HttpHandler to URL Rewrite to an aspx page (static.aspx) which has your master page. Before URL Rewriting, store the actual requested page in the Context.Items collection, which you can retrieve from static.aspx to fetch the right file to drop inside the content placeholder.</p>
<p>The only problem with this approach is that it&#8217;ll apply this change to all .html files. Maybe you can rename them to ashx? Or use .htm so that you can still use .html&#8230; </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-316">
		<div id="comment-316">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Chris W</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-316">July 26, 2006 at 5:06 pm</a></div>

		<div class="comment-body"><p>Great Article. I had one question that somewhat relates to Stuart&#8217;s question. I want to go about creating a custom handler that will take *.html (i do have access to IIS), find the existing .html static page, place the master page on it and then feed it to the user. </p>
<p>The reason i want to do this is i am currently in the process of converting a static .html website to dynamic asp.net. However, not all pages will be static (most won&#8217;t be at the start) and they will feel more comfortable continuing to generate static pages in the future. My hope was i could create this handler so that they could continue to generate static, plain, html pages that will inherit the MasterPage automatically. They won&#8217;t even need to use Visual Studio this way.</p>
<p>Please let me know if you think i am going about this wrong.</p>
<p>Any help would be appreciated.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-315">
		<div id="comment-315">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-315">July 18, 2006 at 10:19 pm</a></div>

		<div class="comment-body"><p>Zidane:<br />
It sounds like you want to read in an RSS Feed into .NET. Take a look at<br />
<a href="http://www.rssdotnet.com/" rel="nofollow">http://www.rssdotnet.com/</a></p>
<p>and</p>
<p><a href="http://scottonwriting.net/sowBlog/RssFeed.htm" rel="nofollow">http://scottonwriting.net/sowBlog/RssFeed.htm</a></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-314">
		<div id="comment-314">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Zidane</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-314">July 18, 2006 at 12:04 pm</a></div>

		<div class="comment-body"><p> i want to access RSS xml generated successfully from .net code.<br />
when i acces it from xmlreader<br />
it give me some qouate error however file hav not any sysntax error as it is working when placed on local path.</p>
<p>i try to use the application configuration in iss to mapp .aspx to .rss extension and Httphandlers<br />
i didnt get how to do this </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-313">
		<div id="comment-313">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://weblogs.asp.net/kdente' rel='external nofollow' class='url'>Kevin Dente</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-313">July 12, 2006 at 4:26 pm</a></div>

		<div class="comment-body"><p>Another limitation of HttpHandlers is that they don&#8217;t support the ASPCompat page attribute, which is key when interacting with legacy COM components.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-312">
		<div id="comment-312">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Meysam</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-312">June 25, 2006 at 5:20 pm</a></div>

		<div class="comment-body"><p>a newbie ? &#8211; problem with WebResource.axd >> maybe not entirely related to this post. anyway i don&#8217;t know why the server (on LOCAL (Development Server [internal VS2005 server] because after installing FrameWork2 my IIS5.1 doesn&#8217;t parse .aspx pages anymore!!) &#038; tested on some free asp.net2 hosts) doesn&#8217;t inject the client scripts to the page needed to run functions like &#8220;WebForm_DoPostBackWithOptions&#8221; (but it injects Pictures like Minus &#038; Plus used controls like TreeView). i googled &#038; found that alot of people have the &#8220;no script injection by WebResource.axd&#8221; problem but no solution! any clue here ?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-311">
		<div id="comment-311">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-311">June 19, 2006 at 1:08 am</a></div>

		<div class="comment-body"><p>Stuart: Not that I know of. It doesn&#8217;t make sense to do that anyways. The point of the HttpHandler is to be handle requests outside of the page framework. Master Pages are a part of the page framework &#8211; if you need them, you should just be using the default page handler.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-310">
		<div id="comment-310">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Stuart Snaddon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-310">June 18, 2006 at 8:23 am</a></div>

		<div class="comment-body"><p>I&#8217;ve written an HTTPHandler that ouputs some HTML content, just a few links and some contact details.<br />
Is it possible to use a MasterPage.master with the resulting HTML? </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-309">
		<div id="comment-309">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.bryancave.com' rel='external nofollow' class='url'>John Kaiser </a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-309">June 15, 2006 at 7:36 pm</a></div>

		<div class="comment-body"><p>Nice article.</p>
<p>ELMAH rocks we have our own flavor that is used in every application and has proven so valuable we have created our own entlib application block with modules and handlers at the base.</p>
<p>Another unused 2.0 feature: HEALTH MONITORING</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-308">
		<div id="comment-308">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-308">June 9, 2006 at 12:29 pm</a></div>

		<div class="comment-body"><p>Paul, not 100% sure. I&#8217;ve given it a quick try on a simplified form and everything works aok&#8230;</p>
<p>You should take a look at:<br />
<a href="http://codebetter.com/blogs/jeffrey.palermo/archive/2005/08/10/130532.aspx" rel="nofollow">http://codebetter.com/blogs/jeffrey.palermo/archive/2005/08/10/130532.aspx</a></p>
<p>Also, is this converted from a 2003 project? Have you looked at the source code to see what javascript IS being generated by asp.net? Have you tried without cross-page posting (if you aren&#8217;t cross page posting, then you likely ARE converting from 2003 &#8216;cuz that can happen&#8230;)</p>
<p>I&#8217;m still not sure I like the idea of using HttpHandlers for url rewriting. HttpModules seems better able to handle that&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-307">
		<div id="comment-307">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.waterwijkers.nl/bip' rel='external nofollow' class='url'>Wesley Bakker</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-307">June 9, 2006 at 6:44 am</a></div>

		<div class="comment-body"><p>I was just wondering if this neat trick in ASP.Net 2.0:</p>
<p><httphandlers><br />
      <add path="/Admin/Documents/" verb="GET,HEAD,POST" type="System.Web.DefaultHttpHandler" validate="True"/><br />
    </httphandlers></p>
<p>To force all documents to pass the authentication doesn&#8217;t also make it possible to let zip-files being passed through IIS and thus you own HttpHandler&#8230;</p>
<p>Cheers,<br />
Wes</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-306">
		<div id="comment-306">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Paul</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-306">June 9, 2006 at 5:54 am</a></div>

		<div class="comment-body"><p>The other thing I should mention is that the following javascript is missing from the form tag through the httpheader, but is present when going directly to the page:</p>
<p>onsubmit=&#8221;javascript:return WebForm_OnSubmit();&#8221;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-305">
		<div id="comment-305">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Paul</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-305">June 9, 2006 at 5:40 am</a></div>

		<div class="comment-body"><p>I am in the process of trying to get a httphandler working for the purposes of URL re-writing.  I have it to the point that it is successfully processing an aspx page and returning the html correctly, but not the scripts for postbacks.  When viewing the headers using the ieHTTPHeaders utility, I find that when I view the target page directly, I see several headers such as the following that refer to WebResource.axd, but when looking at the source after re-writing through the httphandler, these are missing.</p>
<p>GET /BrokerExtranet/WebResource.axd?d=PdBB8Jr4AQt4rLgwO2gTUA2&#038;t=632737057228488874 HTTP/1.1<br />
Accept: */*<br />
Referer: <a href="http://test.pncs.com.au/BrokerExtranet/ExtranetLogin.aspx?PageId=87801FDC-9668-4d59-85D7-4D21A58ABE1F" rel="nofollow">http://test.pncs.com.au/BrokerExtranet/ExtranetLogin.aspx?PageId=87801FDC-9668-4d59-85D7-4D21A58ABE1F</a><br />
Accept-Language: en-au<br />
Accept-Encoding: gzip, deflate<br />
User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0; .NET CLR 1.1.4322; .NET CLR 2.0.50727)<br />
Host: test.pncs.com.au<br />
Connection: Keep-Alive<br />
Cookie: ASP.NET_SessionId=pozkme45kr1pob454owdjyis</p>
<p>The end result is that trying to click my submit button I get the following error:</p>
<p>Microsoft JScript runtime error: &#8216;WebForm_PostBackOptions&#8217; is undefined</p>
<p>with the code for my button:</p>
<p>onclick=&#8221;javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;loginButton&quot;, &quot;&quot;, true, &quot;&quot;, &quot;&quot;, false, false))&#8221;</p>
<p>I have scoured the net and there are several references to this error being related to WebResource.axd, but none on how to solve the problem within a httphandler.  Any help would be much appreciated!</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-304">
		<div id="comment-304">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-304">June 9, 2006 at 12:32 am</a></div>

		<div class="comment-body"><p>Travis:<br />
I probably gotta put HttpHandlers at, or very near, the top of the list. Quickly, others that come to mind (all of which I plan on blogging/writing about at some point) would be:</p>
<p>-HttpModules<br />
-Custom Server Controls (we could lump in a lot of other OO features into that one)<br />
-Configuration sections<br />
-Event driven communication between pages/user controls<br />
-OnItemDataBound (less and less of an issue)<br />
-HttpContext.Current.Items</p>
<p>I&#8217;m sure I could come up with some other big ones&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-303">
		<div id="comment-303">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Travis D. Falls</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-303">June 8, 2006 at 4:50 pm</a></div>

		<div class="comment-body"><p>&#8220;There are many features in ASP.NET that are unfortunately underused. Sometimes a feature gets looked over because it’s too complicated. Other times, like in the case of HttpHandlers, it’s because they are poorly understood.&#8221;</p>
<p>What other features are you speaking of besides HTTPHandlers?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-302">
		<div id="comment-302">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-302">June 6, 2006 at 3:14 pm</a></div>

		<div class="comment-body"><p>Lee:<br />
If your challenge is unruly querystring&#8217;s, I think your best bet might be to use url rewriting in an HttpModule. Check out:<br />
<a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnaspp/html/urlrewriting.asp" rel="nofollow">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnaspp/html/urlrewriting.asp</a></p>
<p>for more details.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-301">
		<div id="comment-301">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.rakebackdeals.co.uk' rel='external nofollow' class='url'>LeeB</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-301">June 6, 2006 at 1:48 pm</a></div>

		<div class="comment-body"><p>Hi, all very interesting this&#8230;and mind blowing at times for somebody new like me! Here&#8217;s my question&#8230;</p>
<p>I&#8217;m trying to optimise my dynamic (.aspx) site for search engines and know there is a way on Apache servers of configuring the HTACCESS file to run one file type as another. This example I&#8217;ve been given is for processing PHP extensions as HTML&#8230;</p>
<p>AddType application/x-httpd-php .htm<br />
AddType application/x-httpd-php .html</p>
<p>I&#8217;ve read about how the web.config file and http handlers can be configured to map any file extension to the appropriate handler.</p>
<p>My site has lots of query strings and dynamically called content which is bad for search engine rankings. If I can implement a solution to ensure search engine spiders see my pages as static html pages, it will give me great advantages. But I need to keep my dynamic methods.</p>
<p>So my question is &#8211; can ASP.NET on IIS be configured to effectively process .ASPX pages as though they are .HTML?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-300">
		<div id="comment-300">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://blogs.ugidotnet.org/simone%20busoli' rel='external nofollow' class='url'>simone_b</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-300">June 1, 2006 at 12:58 pm</a></div>

		<div class="comment-body"><p>In my opinion using the Transfer method to switch the execution to a custom handler doesn&#8217;t make much sense. If you&#8217;re trying to implement a sort of url mapping then use url rewriting. Otherwise don&#8217;t do a Transfer but just make a new request either using a Redirect or a ChildRequest from the code.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-299">
		<div id="comment-299">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-299">June 1, 2006 at 11:52 am</a></div>

		<div class="comment-body"><p>I was under the impression that you couldn&#8217;t Server.Transfer from one type of handler to another. Check out <a href="http://groups.google.com/group/microsoft.public.dotnet.framework.aspnet/browse_frm/thread/713c768ad308c73/60038717822374d2?lnk=st&amp;q=server.Transfer+to+a+different+handler&amp;rnum=5&amp;hl=en#60038717822374d2">this link</a> for some more insight on this.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-298">
		<div id="comment-298">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Manpreet</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-298">June 1, 2006 at 4:44 am</a></div>

		<div class="comment-body"><p>OK.</p>
<p>My Original web.config file had </p>
<p>      <add verb="POST,GET"<br />
       path="ajax/*.ashx"<br />
       type="Ajax.PageHandlerFactory, Ajax" /></p>
<p>however when i was trying to use Server.Transfer it gave me error: &#8220;Error executing child request&#8221;. Which then  made me add the other handler </p>
<p>       <add verb="*"<br />
       path="*/Reports/*.aspx"<br />
       type="System.Web.UI.PageHandlerFactory" /></p>
<p>this made the Server.Transfer to work however it broke up something that was using the ajax handler..</p>
<p>how can i get both to work.?</p>
<p>please help.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-297">
		<div id="comment-297">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://blogs.ugidotnet.org/simone%20busoli' rel='external nofollow' class='url'>simone_b</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-297">June 1, 2006 at 1:06 am</a></div>

		<div class="comment-body"><p>Manpreet, I think I can&#8217;t understand what you&#8217;re trying to achieve&#8230; .aspx files are already mapped to the PageHandlerFactory class, why are you trying to remap them?</p>
<p>&#8220;when i remove the first one then my reports does not work as the page uses Server.Transfer and gives me an error &#8211; Error executing child request&#8221;</p>
<p>What does this mean?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-296">
		<div id="comment-296">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Manpreet</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-296">June 1, 2006 at 12:42 am</a></div>

		<div class="comment-body"><p>Hi Karl,</p>
<p>I am trying to use http handlers but am really confused&#8230;</p>
<p>i have put this in the web.config</p>
<p>       <add verb="*"<br />
        path="*/Reports/*.aspx"<br />
        type="System.Web.UI.PageHandlerFactory" /></p>
<p>       <add verb="POST,GET"<br />
        path="ajax/*.ashx"<br />
        type="Ajax.PageHandlerFactory, Ajax" /></p>
<p>when this is the case my Ajax handler does not work&#8230;..<br />
when i remove the first one then my reports does not work as the page uses Server.Transfer and gives me an error &#8211; Error executing child request.</p>
<p>how can i get both to work?<br />
any help would be greatly appreciated&#8230;.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-295">
		<div id="comment-295">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.raboof.com' rel='external nofollow' class='url'>Atif Aziz</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-295">May 29, 2006 at 5:18 pm</a></div>

		<div class="comment-body"><p>Regarding your closing comment&#8230;</p>
<p>&gt;&gt;<br />
<br />The biggest and very significant drawback of HttpHandlers is that they can only be used for extensions that are mapped to ASP.NET in IIS. It might be great to create a file download counter for your .zip files using an HttpHandler, but since IIS doesn’t go through ASP.NET to serve .zip files, it isn’t going to work. One solution is to map those extra extension to ASP.NET, but that might have undesirable side effects and might not even be possible for you (many developers don’t have direct access to IIS). In this case, the only solution is to create an ISAPI filter which is much more difficult.<br />
<br />&lt;&lt;</p>
<p>There&#8217;s an old trick that can really help in getting around this problem entirely and that is to rely on Request.PathInfo (a.k.a PATH_INFO server variable). What you need to do is generate a URL where your handler&#8217;s ASHX reference appears somewhere *before* the last component of the path. In other words, something like this:</p>
<p><a rel="nofollow" target="_new" href="http://www.example.com/myhandler.ashx/report.zip">http://www.example.com/myhandler.ashx/report.zip</a></p>
<p>That&#8217;s a perfectly valid URL. When it gets cracked on the server, however, your HTTP handler that is mapped to the path &quot;myhandler.ashx&quot; will get called back and Request.PathInfo will contain &quot;/report.zip&quot; as the remainder path. Now you can do what you like in your handler, such as make that counter bump up, do authorization checks or what have you. Once you&#8217;re ready to send down the ZIP file, just call Response.TransmitFile and IIS will take care of the rest. You could alternatively stream the resource down from a database if that&#8217;s where it resides. To finish up, your handler should also set two response headers, namely &quot;Content-Type&quot; and &quot;Content-Disposition&quot;. Taking the URL example above, these would read &quot;application/zip&quot; and &quot;attachment; file=report.zip&quot; respectively. The second header tells the user-agent/browser that the response entity is like an e-mail attachment and, if saved to disk, should be given the file name report.zip. So it’s like doing a rename on the client file system from the server-side. That&#8217;s it. Hope this helps.</p>
<p>BTW, Scott Mitchell and I wrote an MSDN article [1] some time ago on the same essence as your piece here. There&#8217;s even a complete sample in there called ELMAH [2] that demonstrates adding error logging to a running ASP.NET application using modules and handlers and a binary deployment model only. The idea of ELMAH was to provide a fairly real-world example rather than, as you put it so finely <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> , yet another shameful “hello world” one. You&#8217;ll also see a usage of Request.PathInfo in there (see ErrorLogPageFactory.cs if you&#8217;re interested) though not exactly in the same context as outlined above.</p>
<p>[1] <a rel="nofollow" target="_new" href="http://msdn.microsoft.com/library/en-us/dnaspp/html/elmah.asp">http://msdn.microsoft.com/library/en-us/dnaspp/html/elmah.asp</a><br />
<br />[2] <a rel="nofollow" target="_new" href="http://www.raboof.com/Projects/ELMAH/">http://www.raboof.com/Projects/ELMAH/</a><br /></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-294">
		<div id="comment-294">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://blogs.ugidotnet.org/simone%20busoli' rel='external nofollow' class='url'>simone_b</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-294">May 27, 2006 at 12:34 am</a></div>

		<div class="comment-body"><p>They are good for retrieving embedded resources too, especially when you have to do some work on them before to send them back through the pipeline, because the new ASP.NET 2.0 WebResource feature is not as flexible.</p>
<p>I used this approach when building a web control library, to embed many Javascript scripts in one shot. The request is in the form: </p>
<p>GET MyHandler.axd?q=script1.js$script2.js$scriptN.js</p>
<p>This way I have been able to manage on the server-side the content to return, instead of writing a thousand times RegisterClientScriptResource, which in turn performs that thousand number of requests to the server (ok, it caches them&#8230;)</p>
<p>In general, they are useful whenever you need to apply some personalization to the response sent to the client.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-293">
		<div id="comment-293">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">btompkins</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-293">May 25, 2006 at 2:03 pm</a></div>

		<div class="comment-body"><p>Great post!  I use handlers all the time.  Very handy when working with non-html output. </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-292">
		<div id="comment-292">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://flimflan.com/blog' rel='external nofollow' class='url'>Joshua Flanagan</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-292">May 25, 2006 at 1:26 pm</a></div>

		<div class="comment-body"><p>Good post. The lack of use of HttpHandlers (when appropriate) has always frustrated me. The Page class (.aspx) should only be used when you need the functionality it supplies (just like any class). Too many people do not know what is in their toolbox, so they use the same tool for every job. When you are just spitting out xml, or some binary data, or anything else that does not involve a tree of controls w/events/postback behavior, you should choose an HttpHandler over a Page.<br />
Finding Response.Write in a Page derived class is a good sign you should be using an HttpHandler instead (or studying up on ASP.NET&#8217;s use of Controls).</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-291">
		<div id="comment-291">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Alfred Hitchcock</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-291">May 25, 2006 at 9:17 am</a></div>

		<div class="comment-body"><p>We use them to prevent unauthorised access to the attachments on our site.  I would have used an ISAPI filter but lifes a bit too short for that sort of thing <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-290">
		<div id="comment-290">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://weblogs.asp.net/jgonzalez' rel='external nofollow' class='url'>Jeff Gonzalez</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-290">May 25, 2006 at 3:35 am</a></div>

		<div class="comment-body"><p>We have a system that serves up different pages and one thing that we also did was create our own PageHandlerFactory that uses the PageParser.GetCompiledPageInstance which allows us to have different page instances based on particular master pages.  What you basically end up with is a completely blank instance of the Page class and you can add a bunch of content controls to the Controls collection.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-289">
		<div id="comment-289">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-289">May 25, 2006 at 3:18 am</a></div>

		<div class="comment-body"><p>Thanks for the example Jeff.</p>
<p>I forgot the &#8220;IsReusable&#8221; property of the IHttpHandler&#8230;This tells ASP.NET whether an instance can be reused for another request. To be honest, I&#8217;m not 100% sure what determines whether you should return true or false. I&#8217;ve always read that you can generally return true. I assume you should only return false (like the Page class does) if you&#8217;re instance is pretty much becomes garbage after a single execution (an example that pops in my mind is if you also implement IDisposable or something)</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-288">
		<div id="comment-288">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://weblogs.asp.net/jgonzalez' rel='external nofollow' class='url'>Jeff Gonzalez</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-288">May 25, 2006 at 3:09 am</a></div>

		<div class="comment-body"><p>If you use the .ashx extension you are not required to register a new extension to asp.net.  We use this extensively for our graphics such as .gif/.png/.jpg. </p>
<p>Whenever we render a link to a graphic we append .ashx to the file path of the image.  This allows us to do things like pass in a width and do a dynamic resize on that image.</p>
<p>You just need to create an ashx file with the following at the top:</p>
<p>< %@ WebHandler Language="C#" Class="StyleSheetHandler" %></p>
<p>Then just add a class like this:</p>
<p>public class StyleSheetHandler : IHttpHandler<br />
{</p>
<p>    public void ProcessRequest(HttpContext context)<br />
    {<br />
        context.Response.Write(&#8220;Test&#8221;)<br />
    }</p>
<p>    public bool IsReusable<br />
    {<br />
        get { return true; }<br />
    }</p>
<p>}</p>
<p>This allows you to get around the pesky &#8220;extension register&#8221; on my hosts.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-287">
		<div id="comment-287">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/05/25/httphandlers-%e2%80%93-learn-them-use-them/#comment-287">May 25, 2006 at 2:05 am</a></div>

		<div class="comment-body"><p>uhhmm&#8230;not sure if I expected my formatted code to show up perfectly or not&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
			</ol>



								
</div><!-- #comments -->

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
									</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.593 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 19:19:17 -->
<!-- super cache -->