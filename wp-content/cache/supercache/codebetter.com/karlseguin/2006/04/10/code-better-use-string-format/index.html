<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>code better &#8211; use string.format | Karl Seguin</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/karlseguin/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/karlseguin/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Understanding and Using Exceptions' href='http://codebetter.com/karlseguin/2006/04/05/understanding-and-using-exceptions/' />
<link rel='next' title='Consuming .NET with Flash' href='http://codebetter.com/karlseguin/2006/04/13/consuming-net-with-flash/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/karlseguin/?p=12' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,141] -->
<link rel="canonical" href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-12" class="post-12 post type-post status-publish format-standard hentry category-short-outbursts">
					<h1 class="entry-title">code better &#8211; use string.format</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/karlseguin/author/karlseguin/" title="View all posts by karlseguin">karlseguin</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/" title="7:01 pm" rel="bookmark"><span class="entry-date">April 10, 2006</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/karlseguin/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/karlseguin/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p><a HREF="/blogs/karlseguin/archive/2006/04/05/142355.aspx">Poorly handled exceptions</a> might speak volumes about someone&#8217;s coding abilities, but it&#8217;s string concatenation that&#8217;s a sure bet to kill a programs readability (thus maintainability). Everyone knows that they should use StringBuilder&#8217;s for better performance when concatenating a lot, but to improve maintainability, string.format is king!</p>
<p>On the topic of performance though, you&#8217;ll be glad to know that there&#8217;s also an AppendFormat method to the stringbuilder class &#8211; so readability and performance aren&#8217;t exclusive concepts!</p>
<p>Surely, I can&#8217;t be the only one that has a hard time writing and maintaining code like:<br /><font face="Courier New" size="2">document.SelectSingleNode(&#8220;<font color="#a52a2a">/graph/data[name='</font>" + name + "<font color="#a52a2a">']</font>&#8220;);</font></p>
<p>When I do write code like the above, I almost always forget my closing quote or square bracket! And as things get more complicated, it becomes a flat out nightmare.</p>
<p>The solution is to make heavy use of string.Format. You&#8217;ll never EVER see me use + (or &amp; in VB.NET) to concatenate something to a string, and there&#8217;s no reason you should either. To write the above code better, try:<br /><font face="Courier New" size="2">document.SelectSingleNode(<font color="#0000ff">string</font>.Format(&#8220;<font color="#a52a2a">/graph/data[name='{0}'</font><font color="#a52a2a">]</font>&#8220;, name));</font></p>
<p>Personally, even though it&#8217;s a simple example, I find it a lot better &#8211; and as things get more complicated you&#8217;ll be laughing as you code. But wait, there&#8217;s more!&nbsp; string.Format uses string formatting &#8211; so you have a lot of control over how objects are turned into strings. So you coul do <br /><font color="#000000" face="Courier New" size="2"><font color="#0000ff">string</font>.Format(&#8220;<font color="#a52a2a">Your score is {0:p}</font>&#8220;, student.FinalExam.Score);</font><font color="#000000">&nbsp; </font><br />which would format the float score into a percentage.</p>
<p>Understanding .NET String formatting is important because (a) it&#8217;ll make it so you never ask a question about how to get a date in a certain format, (b) how to get a number in a certain format and (c) it&#8217;s used all over in .NET.&nbsp; For example, that DataBinder.Eval() method actually accepts a 3rd parameter which is the string formatter to use.</p>
<p>Now, like I said earlier, you can also use AppendFormat of the StringBuilder class</p>
<p>StringBuilder sb = new StringBuilder();<br />sb.Append(&#8220;&lt;books&gt;&#8221;);<br />foreach(Book book in author.Books)<br />{<br />&nbsp;&nbsp; sb.AppendFormat(&#8220;&lt;book isbn=\&#8221;{0}\&#8221;&gt;{1}&lt;/book&gt;&#8221;, book.Isbn, book.Name);<br />}<br />sb.Append(&#8220;&lt;/books&gt;&#8221;);</p>
<p>A word of caution. String.format IS NOT a substitute for using command parameters. But dang, it is sweet for almost everything else!</p>
<div class="shr-publisher-12"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/karlseguin/category/short-outbursts/" title="View all posts in Short Outbursts" rel="category tag">Short Outbursts</a>. Bookmark the <a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/" title="Permalink to code better &#8211; use string.format" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/feed/" title="Comments RSS to code better &#8211; use string.format" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-12 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/karlseguin/2006/04/05/understanding-and-using-exceptions/" rel="prev"><span class="meta-nav">&larr;</span> Understanding and Using Exceptions</a></div>
					<div class="nav-next"><a href="http://codebetter.com/karlseguin/2006/04/13/consuming-net-with-flash/" rel="next">Consuming .NET with Flash <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

							<div id="comments">


			<h3 id="comments-title">40 Responses to <em>code better &#8211; use string.format</em> </h3>


			<ol class="commentlist">
						<li class="comment even thread-even depth-1" id="li-comment-157">
		<div id="comment-157">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Matthew</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-157">June 19, 2009 at 6:17 pm</a></div>

		<div class="comment-body"><p>By the way, String.Format does not have a monopoly on string formatting.  You can also specify a format for a single object to its ToString() method.  So, for instance, this:</p>
<p>            string s = &#8220;0x&#8221; + 16.ToString(&#8220;x&#8221;);</p>
<p>accomplishes the same thing as:</p>
<p>            string s = String.Format(&#8220;0x{0:x}&#8221;, 16);</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-156">
		<div id="comment-156">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Matthew</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-156">June 19, 2009 at 9:12 am</a></div>

		<div class="comment-body"><p>Really?  You love String.Format that much?  Put performance aside for a moment.  I contest that readability is not improved by String.Format, even though I am a die-hard C programmer who used to love printf().</p>
<p>The problem with these substitution routines is that they separate the symbol from the variable.  You&#8217;re stuck seeing cryptic {0}, {1}, {2}, {3}, {4}, &#8230; and then you only find out at the end of the statement which variables mean what.  Order is critical.  If you mess up that, then you can introduce some subtle bugs.</p>
<p>Really, I do think this:</p>
<p>                Console.WriteLine(<br />
                    &#8220;number: &#8221; + i.ToString() + &#8220;.&#8221; +<br />
                    &#8220;number + 1: &#8221; + (i + 1).ToString() + &#8220;.&#8221; +<br />
                    &#8220;number + 2: &#8221; + (i + 2).ToString() + &#8220;.&#8221;<br />
                );</p>
<p>is more clear than this mess:</p>
<p>                Console.WriteLine(<br />
                    String.Format(<br />
                        &#8220;number: {0}.number + 1: {1}.number + 2: {2}.&#8221;,<br />
                        i, i + 1, i + 2<br />
                    )<br />
                );</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-155">
		<div id="comment-155">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Chris</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-155">February 4, 2009 at 5:15 pm</a></div>

		<div class="comment-body"><p>OMG &#8211; if you&#8217;re really writing XML like that you need help!</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-154">
		<div id="comment-154">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://wwwanswercage.com' rel='external nofollow' class='url'>AnswerCage</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-154">September 24, 2008 at 1:07 pm</a></div>

		<div class="comment-body"><p>Thank you Brian, i&#8217;ve setup a test for the three Methods +,stringbuiler and string.format and you&#8217;re right.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-153">
		<div id="comment-153">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.bakilerparke.com' rel='external nofollow' class='url'>parke</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-153">August 30, 2008 at 10:59 am</a></div>

		<div class="comment-body"><p>Thank you&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-152">
		<div id="comment-152">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Brian Hill</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-152">July 18, 2008 at 5:44 pm</a></div>

		<div class="comment-body"><p>I know this blog is a little old, but I found it while researching some string formatting questions.  I’d hate to think that some junior developer would find this and think that String.Format had performance problems.  That’s just not true.  The truth is that String.Format performs better.</p>
<p>I&#8217;m posting here regarding Betta&#8217;s comment. The truth to this is that Betta&#8217;s example doesn&#8217;t actually test String.Format against basic string concatenation.  Here is a quote from MSDN on System.String:</p>
<p>“A String is called immutable because its value cannot be modified once it has been created. Methods that appear to modify a String actually return a new String containing the modification. If it is necessary to modify the actual contents of a string-like object, use the System.Text.StringBuilder class.”</p>
<p>This means the even doing a “some string” + someVariable has to create a new instance of the final output.  Because the example Betta used didn’t actually change the string for each iteration, the complier is smart enough to know this and only has to execute the  line (string a = &#8220;SELECT * FROM TTT WHERE UserID = &#8216;&#8221; + userID + &#8220;&#8216; ORDER BY BBB DESC LIMIT 1&#8243;;) once, instead of 5000000 times.  To really test the performance of String.Format you have to change the example to use “WHERE UserID=” + i.  This changes the string during each actual iteration.  Running that test, String.Format actually comes out quite a bit faster (on my box over ½ a second faster).  This is because String.Format is doing the same thing under the covers that StringBuilder does.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-151">
		<div id="comment-151">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-151">August 22, 2007 at 11:52 pm</a></div>

		<div class="comment-body"><p>Paul:<br />
string.Concat is useful because of it&#8217;s speed, but it isn&#8217;t much more readable than using +.</p>
<p>I use string.Concat a lot when dealing with 1 (maybe 2) variables:</p>
<p>string cacheKey = string.Concat(&#8220;userId:&#8221;, userId);</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-150">
		<div id="comment-150">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">paul</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-150">August 22, 2007 at 9:46 am</a></div>

		<div class="comment-body"><p>hi kerl,</p>
<p>what is the use of string concat</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-149">
		<div id="comment-149">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Jonas</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-149">June 29, 2007 at 4:23 am</a></div>

		<div class="comment-body"><p>I agree on all you are saying about using<br />
string.Format.</p>
<p>But I find it &#8220;ironic&#8221; that you end the post with string building XML.</p>
<p>What will happen when someone retreives the book; book.Name == &#8220;101 ? &#038; Answers&#8221;</p>
<p>Thanks for a good article<br />
/Jonas</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-148">
		<div id="comment-148">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.sharpdeveloper.net' rel='external nofollow' class='url'>Sameer Alibhai</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-148">May 31, 2007 at 3:16 pm</a></div>

		<div class="comment-body"><p>I totally agree with Karl, that String.Format is much more readable.  Here is my post on why: <a href="http://www.sharpdeveloper.net/content/archive/2007/05/25/use-string.format-instead-of-chopping-strings.aspx" rel="nofollow">http://www.sharpdeveloper.net/content/archive/2007/05/25/use-string.format-instead-of-chopping-strings.aspx</a></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-147">
		<div id="comment-147">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">psmithphil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-147">April 29, 2007 at 1:49 am</a></div>

		<div class="comment-body"><p>I just want to thank the author for an excellent article.  This has opened up a new world for strings for me.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-146">
		<div id="comment-146">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Betta Glurpse</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-146">January 16, 2007 at 9:25 am</a></div>

		<div class="comment-body"><p>Great to hear. There is nothing worse than people who categorically dismiss arguments that don&#8217;t fit with their own preference &#8211; thankfully, you don&#8217;t seem to be one of them. And yes, more readable quoting is one of the pros of using String.Format.</p>
<p>On another note, I absolutely agree my example isn&#8217;t good database programming (with vulnerability to SQL injection being just one reason), but I think it is a decent representative &#8220;format&#8221; string. Many error messages, which probably accounts for a large portion of formatted strings, are &#8220;parameterized&#8221; in a similar fashion.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-145">
		<div id="comment-145">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-145">January 15, 2007 at 1:26 pm</a></div>

		<div class="comment-body"><p>Betta:<br />
I agree that in some cases it might be worse off. But I do think that when you get into a lot of escaping, using + is a nightmare. Sticking with your not-so-good SQL example (since parameterized queries are better than both approaches)&#8230;</p>
<p>&#8220;insert into users (username, password, type) values (&#8216;&#8221; + name + &#8220;&#8216;, &#8216;&#8221; + password + &#8220;&#8216;, &#8221; + type +&#8221;)&#8221;</p>
<p>isn&#8217;t fun to write.  I forgot a couple +&#8217;s writing this out the first time and have always found it hard to read &#8220;&#8216; </p>
<p>again, the SQL query example isn&#8217;t the best though&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-144">
		<div id="comment-144">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Betta Glurpse</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-144">January 15, 2007 at 12:02 pm</a></div>

		<div class="comment-body"><p>I disagree. I admit that in your short one-argument example using quotes, the String.Format version is slightly more readable. But most often, I find that String.Format is less maintainable compared to concatenation with +. The main reason is that with ordinary concatenation, the arguments are kept where they are used, namely inside the string. This is good.</p>
<p>Consider this:</p>
<p>db.executeStatement(String.Format(&#8220;UPDATE {0} SET owner_id={1} where owner_id is null and {2}&#8221;, name, id, whereClause));</p>
<p>This is bad for two reasons:</p>
<p>1) MENTAL OVERHEAD CORRELATING PARAMETERS TO ARGUMENTS: When checking this statement, I have to remember that argument 0 is the table name, 1 is the owner id and so on until I reach the argument list and can see that there is a match. In particular, this makes it harder to decipher what poorly named variables such as &#8220;name&#8221; and &#8220;id&#8221; in the example above are being used for.</p>
<p>2) RENUMBERING OR DISORDER: If for some reason I need to set an additional column value in the example above, I have to either renumber the folowing arguments, or accept further mental overhead because the arguments are no longer used in the order they appear:</p>
<p>db.executeStatement(String.Format(&#8220;UPDATE {0} SET owner_id={1}, ttime={3} where owner_id is null and {2}&#8221;, name, id, whereClause, transactiontime));</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-143">
		<div id="comment-143">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">s</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-143">December 20, 2006 at 6:51 am</a></div>

		<div class="comment-body"><p>s</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-142">
		<div id="comment-142">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-142">October 18, 2006 at 10:37 am</a></div>

		<div class="comment-body"><p>Would you be able to post a sample project somewhere in a zip?</p>
<p>Have you tried a profiler,such as RedGate&#8217;s Ants or JetBrain&#8217;s dotTrace? I think they both have fully functional trials&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-141">
		<div id="comment-141">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Neil</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-141">October 18, 2006 at 1:56 am</a></div>

		<div class="comment-body"><p>I&#8217;m having trouble converting a long (125kb&#8230;not really that long is it?) byte array (that I read from a binary file using ReadAllBytes) to a string in under 10 minutes&#8230; I&#8217;ve tried several methods (including BitConverter), but however I do it there&#8217;s a bottleneck when building the string:/</p>
<p>As you say,  StringBuilder.Append works much faster than concantenating, but I still need to convert the stringbuilder back to a string at some point in order to use Contains and SubString  later on to process the file &#8211; at which point the StringBuilder.ToString takes ages! </p>
<p>Does anyone have any ideas?<br />
Cheers</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-140">
		<div id="comment-140">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://secretGeek.net' rel='external nofollow' class='url'>lb</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-140">October 10, 2006 at 11:51 pm</a></div>

		<div class="comment-body"><p>top article Karl!</p>
<p>i&#8217;m a fan of string.Format but when simply concatenating a small number of strings together, i prefer string.Concat</p>
<p>it&#8217;s faster under the hood than string.format because it doesn&#8217;t need to parse the string for arguments. </p>
<p>so there&#8217;s four important tools here, each with their own niche:</p>
<p>string.format<br />
string.concat<br />
stringbuilder.append<br />
stringbuilder.appendformat</p>
<p>that way you get performance/flexibility in just the right amount.</p>
<p>if you use string.format where string.Concat is more apt you do take an unwanted performance hit.</p>
<p>Always enjoy your stuff, Karl.</p>
<p>lb</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-139">
		<div id="comment-139">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.i4t.org' rel='external nofollow' class='url'>Imran Aziz</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-139">October 10, 2006 at 3:20 pm</a></div>

		<div class="comment-body"><p>nice one, I get into formating issues so many times specially while creating html in code, its nice to be reminded about using something that is already supported well by the language.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-138">
		<div id="comment-138">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Tony B</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-138">October 5, 2006 at 1:06 pm</a></div>

		<div class="comment-body"><p>A quick Google (trying to see what the real impact on perf is)</p>
<p>My favorite perf guru: <a href="http://blogs.msdn.com/ricom/archive/2004/03/12/88715.aspx" rel="nofollow">http://blogs.msdn.com/ricom/archive/2004/03/12/88715.aspx</a></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-137">
		<div id="comment-137">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">DaRage</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-137">October 5, 2006 at 12:28 pm</a></div>

		<div class="comment-body"><p>Travis, milliseconds don&#8217;t add up quickly and to believe so is mere pathetic paranoia. let the cpu do its work and let the developers to do theirs.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-136">
		<div id="comment-136">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://haacked.com/' rel='external nofollow' class='url'>Haacked</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-136">October 5, 2006 at 1:47 am</a></div>

		<div class="comment-body"><p>Right.. because I heard that string.format takes around two hours to properly format a string.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-135">
		<div id="comment-135">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Travis001</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-135">October 4, 2006 at 5:27 pm</a></div>

		<div class="comment-body"><p>I find it somewhat funny that given the extremely slow performance of the String.Format function anyone would want to use it.</p>
<p>To say that as developer it is more important that we have pretty code then to have a function that takes between 4-6 times longer is pathetic. I believe that you can have nice looking code that is also concerned about performance.</p>
<p>Just remember that if you are writing good software you actually have customers using it and those milliseconds add up quickly.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-134">
		<div id="comment-134">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Paul Chu</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-134">September 25, 2006 at 5:08 am</a></div>

		<div class="comment-body"><p>I was getting an error too with the embedded braces.</p>
<p>I added additional  parameters to insert the  braces with String.Format<br />
{0}  &#8211;> &#8220;{&#8221;<br />
{1}  &#8211;> &#8220;}&#8221;</p>
<p>function x()<br />
{0}<br />
 alert(&#8216;test&#8217;);<br />
{1}</p>
<p>Regards, Paul<br />
<a href="mailto:paulchu8@gmail.com">paulchu8@gmail.com</a></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-133">
		<div id="comment-133">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-133">June 15, 2006 at 12:23 pm</a></div>

		<div class="comment-body"><p>Brian:<br />
The problem is that you have a { at the end of your 3rd example. { is a special character in string.Format, so it&#8217;s causing it to have a hicup.</p>
<p>You should be able to escape the { with a double {{, ala:<br />
string input = &#8220;\tprivate void Q{0}_SelectedIndexChanged(object sender, System.EventArgs e) {{&#8220;; </p>
<p>but that doesn&#8217;t seem to work, and I honestly can&#8217;t put my finger on why this morning&#8230;</p>
<p>This works:<br />
string input = &#8220;\tprivate void Q{0}_SelectedIndexChanged(object sender, System.EventArgs e) {1}&#8221;;<br />
string.Format(input, 123, &#8220;{{&#8220;);</p>
<p>which is a little weird. I&#8217;ll try to look more into it.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-132">
		<div id="comment-132">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Brian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-132">June 15, 2006 at 12:01 pm</a></div>

		<div class="comment-body"><p>I originally thought there was a character limit issue that I was encountering (because my 3rd string was actually a big block of .NET code that I was trying to format. </p>
<p>But even the shortened format from my above example will fail. So I don&#8217;t know what I&#8217;m doing wrong. </p>
<p>Thanks for any and all of your help!</p>
<p>Brian</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-131">
		<div id="comment-131">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Brian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-131">June 15, 2006 at 11:58 am</a></div>

		<div class="comment-body"><p>Here&#8217;s my trouble:</p>
<p>I have a little .NET Windows Forms utility that I&#8217;m working on that helps generate my C# code-behind files for an ASP.NET application.</p>
<p>I have three different strings I&#8217;m trying to format. The first two strings work just fine, then the 3rd string gives me this System.FormatException error:<br />
         &#8220;Input string was not in a correct format.&#8221;</p>
<p>//String #1: (works ok)<br />
    string input = &#8220;\t\tprotected System.Web.UI.WebControls.CheckBoxList Q{0};&#8221;;</p>
<p>//String #2: (works ok)<br />
    string input = &#8220;this.Q{0}.SelectedIndexChanged += new System.EventHandler(this.Q{0}_SelectedIndexChanged);&#8221;;</p>
<p>//String #3: (error raised)<br />
  string input = &#8220;\tprivate void Q{0}_SelectedIndexChanged(object sender, System.EventArgs e) {&#8220;;</p>
<p>Here&#8217;s my syntax for formatting the above INPUT strings (which in my actual code are pulled out of a database into objects):</p>
<p>String.Format(input,param); </p>
<p>//the param in these cases are an Int32.ToString() which I am wanting to insert.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-130">
		<div id="comment-130">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-130">June 14, 2006 at 10:46 pm</a></div>

		<div class="comment-body"><p>Brian:<br />
I&#8217;m under the strong impressions that string&#8217;s in .NET have no real upper limit, other than what the OS (32 bits) imposes and whatever overhead .NET has (like the fact that all chars are unicode, so cut that in 1/2).</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-129">
		<div id="comment-129">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Brian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-129">June 14, 2006 at 10:23 pm</a></div>

		<div class="comment-body"><p>Is there a character limit on the target string which is being formatted? </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-128">
		<div id="comment-128">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://weblogs.asp.net/skillet' rel='external nofollow' class='url'>Scott Van Vliet</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-128">May 8, 2006 at 10:16 pm</a></div>

		<div class="comment-body"><p>I use String.Format everywhere! And infact, it uses StringBuilder under-the-hood:</p>
<p>public static string Format(IFormatProvider provider, string format, params object[] args)<br />
{<br />
      if ((format == null) || (args == null))<br />
      {<br />
            throw new ArgumentNullException((format == null) ? &#8220;format&#8221; : &#8220;args&#8221;);<br />
      }<br />
      StringBuilder builder1 = new StringBuilder(format.Length + (args.Length * 8));<br />
      builder1.AppendFormat(provider, format, args);<br />
      return builder1.ToString();<br />
}</p>
<p>Cheers.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-127">
		<div id="comment-127">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.ayende.com/Blog/' rel='external nofollow' class='url'>Ayende Rahien</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-127">April 29, 2006 at 3:35 pm</a></div>

		<div class="comment-body"><p>Pecha,<br />
Just to note, the first version doesn&#8217;t do anything, the compiler concantated in in compile time.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-126">
		<div id="comment-126">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">pecha</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-126">April 26, 2006 at 9:09 am</a></div>

		<div class="comment-body"><p>I absolutely agree with you, string.Format this is a very nice feature. I just showed small example, maybe for someone it will be interesting. </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-125">
		<div id="comment-125">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-125">April 25, 2006 at 11:25 pm</a></div>

		<div class="comment-body"><p>I did say you should never use string.Format in lieu of command parameters. Anyways, that point aside, I guess you should always take into account performance, but almost anyone should be willing to pay the price for a 6 second delay over 5 million iteration for varstly improved readability.</p>
<p>Remember, you can always use the AppendFormat method of the StringBuilder for a lot of concatenation..works just like string.Format..</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-124">
		<div id="comment-124">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">pecha</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-124">April 25, 2006 at 10:05 pm</a></div>

		<div class="comment-body"><p>Nice article! But few days ago I found that string.Format works very slow. Example with + .. + (see below) executes in 1 sec, with string.Format this is about 6 sec!! in VS 2005.</p>
<p>string userID = &quot;ccf5acf6-2d28-4077-83d4-9fa6685057d4&quot;;<br />
<br />Console.WriteLine(DateTime.Now.ToLongTimeString());<br />
<br />for (int i = 0; i &lt; 5000000; i++)<br />
<br />{<br />
<br /> &nbsp; &nbsp;string a = &quot;SELECT * FROM TTT WHERE UserID = &#8216;&quot; + userID + &quot;&#8217; ORDER BY BBB DESC LIMIT 1&quot;;<br />
<br />}<br />
<br />Console.WriteLine(DateTime.Now.ToLongTimeString());<br />
<br />Console.WriteLine(&quot;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&quot;);<br />
<br />Console.WriteLine(DateTime.Now.ToLongTimeString());<br />
<br />for (int i = 0; i &lt; 5000000; i++)<br />
<br />{<br />
<br /> &nbsp; &nbsp;string a = String.Format(&quot;SELECT * FROM TTT WHERE UserID = &#8216;{0}&#8217; ORDER BY BBB DESC LIMIT 1&quot;, userID);<br />
<br />}<br />
<br />Console.WriteLine(DateTime.Now.ToLongTimeString());</p>
<p>Console.Read();</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-123">
		<div id="comment-123">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-123">April 23, 2006 at 3:38 pm</a></div>

		<div class="comment-body"><p>GR KHAN:<br />
Using the out-of-the-box Globalization features of .NET,it&#8217;s only possible to localize currency symbol, decimal separators, and other numeric symbols. I don&#8217;t believe there&#8217;s a straightfoward way to convert a Int32 into a localized version of the # unfortunetly (though I could be wrong).</p>
<p>This is the best I could find which might help you:<br />
<a href="http://www.codeproject.com/csharp/num_to_arabic.asp" rel="nofollow">http://www.codeproject.com/csharp/num_to_arabic.asp</a></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-122">
		<div id="comment-122">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/blogs/john.papa' rel='external nofollow' class='url'>johnpapa</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-122">April 23, 2006 at 3:17 pm</a></div>

		<div class="comment-body"><p>Good post, Karl. I generally use string.Format(&#8230;) for 3 (+/-) or less concats. Otherwise I use Stringbuilder. The plus or minus is there because I use the good ol&#8217; eyeball technique to make sure it passes the readability test <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' />  </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-121">
		<div id="comment-121">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://grniazi786@yahoo.com' rel='external nofollow' class='url'>GR KHAN</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-121">April 23, 2006 at 1:40 pm</a></div>

		<div class="comment-body"><p>Please give code that how we convert numbers into arabic language.<br />
Thanks,</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-120">
		<div id="comment-120">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">programer</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-120">April 23, 2006 at 4:55 am</a></div>

		<div class="comment-body"><p>good article,study</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-119">
		<div id="comment-119">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.wiredsolutions.ca' rel='external nofollow' class='url'>Sharbel</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-119">April 21, 2006 at 9:02 pm</a></div>

		<div class="comment-body"><p>Good article</p>
<p>String.Format() is fantastic for 2-4 concats.  Also, i recall performace tests showing StringBuilders were a waste for under 5 concats, and using String.Format() is perfectly acceptable.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-118">
		<div id="comment-118">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.rajivmenon.net' rel='external nofollow' class='url'>Rajiv Menon</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/karlseguin/2006/04/10/code-better-use-string-format/#comment-118">April 11, 2006 at 4:19 am</a></div>

		<div class="comment-body"><p>Hey Karl,<br />
Here&#8217;s a cool article on string formatting from Kathy.<br />
link: <a href="http://blogs.msdn.com/kathykam/archive/2006/03/29/564426.aspx" rel="nofollow">http://blogs.msdn.com/kathykam/archive/2006/03/29/564426.aspx</a></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
			</ol>



								
</div><!-- #comments -->

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
									</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.457 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 22:01:43 -->
<!-- super cache -->