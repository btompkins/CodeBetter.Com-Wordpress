<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Keeping a long running Silverlight application alive under forms authentication | Peter van Ooijen</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/petervanooijen/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/petervanooijen/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Every picture tells a story' href='http://codebetter.com/petervanooijen/2009/04/07/every-picture-tells-a-story/' />
<link rel='next' title='A first glimpse of virtualization in Windows 7' href='http://codebetter.com/petervanooijen/2009/05/20/a-first-glimpse-of-virtualization-in-windows-7/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/petervanooijen/?p=559' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,188] -->
<link rel="canonical" href="http://codebetter.com/petervanooijen/2009/04/16/keeping-a-long-running-silverlight-application-alive-under-forms-authentication/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<meta property='og:image' content='http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/peter/van/ooijen/0904161_thumb_37D6BC97.jpg?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1919787621&amp;Signature=HLaY95Or%2bOViVGzHO%2f4zKxVGTiE%3d' />

<!-- End Shareaholic OgTags -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-559" class="post-559 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Keeping a long running Silverlight application alive under forms authentication</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/petervanooijen/author/petervanooijen/" title="View all posts by Peter van Ooijen">Peter van Ooijen</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/petervanooijen/2009/04/16/keeping-a-long-running-silverlight-application-alive-under-forms-authentication/" title="8:27 pm" rel="bookmark"><span class="entry-date">April 16, 2009</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/petervanooijen/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/petervanooijen/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>This is the scenario : we have a Silverlight application (SL app) which run is running unattended on a big screen in an office. It displays the actual positions of objects on a map. Once every 10 minutes the app queries the hosting web server for position information. The information is not public, it is using asp.net forms authentication to guard it against unauthorized eyes.</p>
<p>To get this to work as intended required some special attention. In this post I will give an overview. The site is using ajax. Also Silverlight is doing a lot of async communication. The combination of async (partial) postback and forms authentication has some quircks on itself, I wrote <a href="/blogs/peter.van.ooijen/archive/2008/12/18/ajax-and-forms-authentication.aspx">a little post</a> on that short ago. But as said, there are more quircks.</p>
<h2></h2>
<h3>The server</h3>
<p>The user sessions are running a long long time. The risk is that within a session IIS will recycle the underlying web application. When that happens the session state will be lost because, by default, session state is stored inproc.&nbsp; The first step is to store the sesssion state in sql server. This will keep the session information alive when the application is recycled. Setting up sql server is no big deal, <a href="http://faqfront.com/document/sql-server-session-state">this is a good overview</a>. The thing to watch is that now everything you store in the session has to be explicitly serializable. Which usually boils down to setting the serializable attribute and adding default constructors.</p>
<h3>The service</h3>
<p>A Silverlight application gets it&rsquo;s data from a service. Our basic service queries a repository to get specific data.</p>
<div style="border-right: 1px solid;border-top: 1px solid;font-size: 10pt;background: white;border-left: 1px solid;color: black;border-bottom: 1px solid;font-family: courier new">
<p style="margin: 0px"><span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">KaartData</span></p>
<p style="margin: 0px">{</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">static</span> <span style="color: #2b91af">List</span>&lt;<span style="color: #2b91af">Kaart</span>&gt; Kaarten(<span style="color: #2b91af">KaartSoort</span> soort, <span style="color: #2b91af">KaartPositie</span> topLeft, <span style="color: #2b91af">KaartPositie</span> bottomRight)</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #2b91af">KaartRepository</span> repository = <span style="color: #2b91af">RepositoryFactory</span>.KaartRepository();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">return</span> repository.ListKaarten(soort, topLeft, bottomRight);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">}</p>
</div>
<p><!--EndFragment--></p>
<p>This service is published in a WCF service. A SL app can easily communicate over WCF with a service which is hosted in the same web application as the SL-app itself is running in. It should be possible to host the service somewhere else but that will introduce a large amount of security settings you will have to solve.</p>
<p>In VS there is a template for such a service. </p>
<p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/peter.van.ooijen/0904161_5F00_20F7EB1B.jpg"><img border="0" width="618" src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/peter/van/ooijen/0904161_thumb_37D6BC97.jpg?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1919787621&amp;Signature=HLaY95Or%2bOViVGzHO%2f4zKxVGTiE%3d" alt="0904161" height="446" style="border-top-width: 0px;border-left-width: 0px;border-bottom-width: 0px;border-right-width: 0px" /></a> </p>
<p>The result is pretty straightforward </p>
<div style="border-right: 1px solid;border-top: 1px solid;font-size: 10pt;background: white;border-left: 1px solid;color: black;border-bottom: 1px solid;font-family: courier new">
<p style="margin: 0px">[<span style="color: #2b91af">ServiceContract</span>(Namespace = <span style="color: #a31515">"Datema"</span>)]</p>
<p style="margin: 0px">[<span style="color: #2b91af">AspNetCompatibilityRequirements</span>(RequirementsMode = <span style="color: #2b91af">AspNetCompatibilityRequirementsMode</span>.Allowed)]</p>
<p style="margin: 0px"><span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">KaartService</span></p>
<p style="margin: 0px">{</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; [<span style="color: #2b91af">OperationContract</span>]</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: #2b91af">List</span>&lt;<span style="color: #2b91af">Kaart</span>&gt; Kaarten(<span style="color: #2b91af">KaartSoort</span> soort, <span style="color: #2b91af">KaartPositie</span> topLeft, <span style="color: #2b91af">KaartPositie</span> bottomRight)</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">return</span> Datema.DatemaDirect.KaartServices.<span style="color: #2b91af">KaartData</span>.Kaarten(soort, topLeft, bottomRight);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">}</p>
</div>
<p>As the service is embedded in the website it is guarded by forms authentication. That&rsquo;s as intended, we don&rsquo;t want unauthorized people or software to consume our service. But that will hit back, as we will see later.</p>
<h3>The Silverlight Application</h3>
<p>The application itself is built around <a href="http://www.codeplex.com/deepearth">Deep Earth</a>. This is an open source project which combines the power of Silverlight with that of a geo image servers like virtual Earth, Yahoo maps, Open Street Maps and many others. </p>
<p>The xaml markup wraps up a deepearth map</p>
<div style="border-right: 1px solid;border-top: 1px solid;font-size: 10pt;background: white;border-left: 1px solid;color: black;border-bottom: 1px solid;font-family: courier new">
<p style="margin: 0px"><span style="color: blue">&lt;</span><span style="color: #a31515">UserControl</span><span style="color: blue"> </span><span style="color: red">x:Class</span><span style="color: blue">=</span>&#8220;<span style="color: blue">ChartMap.Page</span>&#8220;</p>
<p style="margin: 0px"><span style="color: blue">&nbsp;&nbsp;&nbsp; </span><span style="color: red">xmlns</span><span style="color: blue">=</span>&#8220;<span style="color: blue">http://schemas.microsoft.com/winfx/2006/xaml/presentation</span>&#8220;<span style="color: blue"> </span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp;&nbsp;&nbsp; </span><span style="color: red">xmlns:x</span><span style="color: blue">=</span>&#8220;<span style="color: blue">http://schemas.microsoft.com/winfx/2006/xaml</span>&#8220;<span style="color: blue"> </span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp;&nbsp;&nbsp; </span><span style="color: red">xmlns:DeepEarth</span><span style="color: blue">=</span>&#8220;<span style="color: blue">clr-namespace:DeepEarth;assembly=DeepEarth</span>&#8220;<span style="color: blue"> &gt;</span></p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px"><span style="color: blue">&nbsp;&nbsp;&nbsp; &lt;</span><span style="color: #a31515">Grid</span><span style="color: blue"> </span><span style="color: red">x:Name</span><span style="color: blue">=</span>&#8220;<span style="color: blue">LayoutRoot</span>&#8220;<span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span><span style="color: #a31515">DeepEarth:Map</span><span style="color: blue"> </span><span style="color: red">x:Name</span><span style="color: blue">=</span>&#8220;<span style="color: blue">Map</span>&#8220;<span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/</span><span style="color: #a31515">DeepEarth:Map</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span><span style="color: #a31515">StackPanel</span><span style="color: blue"> </span><span style="color: red">HorizontalAlignment</span><span style="color: blue">=</span>&#8220;<span style="color: blue">Left</span>&#8220;<span style="color: blue"> </span><span style="color: red">VerticalAlignment</span><span style="color: blue">=</span>&#8220;<span style="color: blue">Top</span>&#8220;<span style="color: blue">&nbsp; </span><span style="color: red">Margin</span><span style="color: blue">=</span>&#8220;<span style="color: blue">10</span>&#8220;<span style="color: blue"> &gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span><span style="color: #a31515">Slider</span><span style="color: blue"> </span><span style="color: red">x:Name</span><span style="color: blue">=</span>&#8220;<span style="color: blue">SliderZoom</span>&#8220;<span style="color: blue"> </span><span style="color: red">Orientation</span><span style="color: blue">=</span>&#8220;<span style="color: blue">Vertical</span>&#8220;<span style="color: blue"> </span><span style="color: red">Value</span><span style="color: blue">=</span>&#8220;<span style="color: blue">1</span>&#8220;<span style="color: blue"> </span><span style="color: red">Height</span><span style="color: blue">=</span>&#8220;<span style="color: blue">200</span>&#8220;<span style="color: blue"> </span><span style="color: red">Minimum</span><span style="color: blue">=</span>&#8220;<span style="color: blue">1</span>&#8220;<span style="color: blue"> </span><span style="color: red">Maximum</span><span style="color: blue">=</span>&#8220;<span style="color: blue">20</span>&#8220;<span style="color: blue">&nbsp; </span><span style="color: red">ValueChanged</span><span style="color: blue">=</span>&#8220;<span style="color: blue">Slider_ValueChanged</span>&#8220;<span style="color: blue">&gt;&lt;/</span><span style="color: #a31515">Slider</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/</span><span style="color: #a31515">StackPanel</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp;&nbsp;&nbsp; &lt;/</span><span style="color: #a31515">Grid</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&lt;/</span><span style="color: #a31515">UserControl</span><span style="color: blue">&gt;</span></p>
</div>
<p><!--EndFragment--></p>
<p>A SL-app is living in the browser. The code behind does the registration. </p>
<div style="border-right: 1px solid;border-top: 1px solid;font-size: 10pt;background: white;border-left: 1px solid;color: black;border-bottom: 1px solid;font-family: courier new">
<p style="margin: 0px"><span style="color: blue">private</span> <span style="color: blue">readonly</span> <span style="color: #2b91af">GeometryLayer</span> mapLayer;</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px"><span style="color: blue">public</span> Page()</p>
<p style="margin: 0px">{</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; InitializeComponent();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">if</span> (Map.BaseLayer == <span style="color: blue">null</span>)</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Map.BaseLayer = <span style="color: blue">new</span> <span style="color: #2b91af">TileLayer</span>(<span style="color: #2b91af">MapMode</span>.Aerial);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; Loaded += ((theMap, args) =&gt; <span style="color: #2b91af">HtmlPage</span>.RegisterScriptableObject(<span style="color: #a31515">&#8220;ChartMap&#8221;</span>, <span style="color: blue">this</span>));</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; mapLayer = <span style="color: blue">new</span> <span style="color: #2b91af">GeometryLayer</span>(Map);</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">}</p>
</div>
<p><!--EndFragment--></p>
<p>The constructor also initializes a basic geometrylayer. That&rsquo;s an aerial view of the world, to our app it&rsquo;s just a background. A background you can zoom into in great detail. Check the <a href="http://www.codeplex.com/deepearth">deepearth</a> site for more on that.</p>
<p>The constructor registers the application (this) on the HtmlPage under the name <em>ChartMap</em>. We&rsquo;ll meet that later on in the javascript.</p>
<p>The application exposes methods to JavaScript by setting the Scriptable attribute</p>
<div style="border-right: 1px solid;border-top: 1px solid;font-size: 10pt;background: white;border-left: 1px solid;color: black;border-bottom: 1px solid;font-family: courier new">
<p style="margin: 0px">[<span style="color: #2b91af">ScriptableMember</span>]</p>
<p style="margin: 0px"><span style="color: blue">public</span> <span style="color: blue">void</span> ShowKaarten(<span style="color: #2b91af">KaartSoort</span> vanSoort)</p>
<p style="margin: 0px">{</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">var</span> tl = <span style="color: blue">new</span> <span style="color: #2b91af">KaartPositie</span>();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; tl.Hoogte = Map.GeoBounds.Bottom;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; tl.Lengte = Map.GeoBounds.Left;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">var</span> br = <span style="color: blue">new</span> <span style="color: #2b91af">KaartPositie</span>();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; br.Hoogte = Map.GeoBounds.Top;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; br.Lengte = Map.GeoBounds.Right;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">var</span> svcProxy = <span style="color: blue">new</span> <span style="color: #2b91af">KaartServiceProvider</span>();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; svcProxy.GetKaarten(vanSoort, tl, br, DrawKaarten);</p>
<p style="margin: 0px">}</p>
</div>
<p>This method needs the WCF service to get the data.</p>
<p><!--EndFragment--></p>
<h3>Consuming the WCF service in Silverlight</h3>
<p>The first step is to add a service reference. For this to work you have to disable the forms authentication, else VS cannot get to the service to generate a proxy.&nbsp; The generated proxy, <em>KaartServiceClient</em>, can only be invoked asynchronous.</p>
<p>To encapsulate the specific initialization and async coding aspects of the the proxy I have created a helper class</p>
<div style="border-right: 1px solid;border-top: 1px solid;font-size: 10pt;background: white;border-left: 1px solid;color: black;border-bottom: 1px solid;font-family: courier new">
<p style="margin: 0px"><span style="color: blue">internal</span> <span style="color: blue">class</span> <span style="color: #2b91af">KaartServiceProvider</span></p>
<p style="margin: 0px">{</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">private</span> <span style="color: blue">readonly</span> <span style="color: #2b91af">KaartServiceClient</span> svc;</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">internal</span> KaartServiceProvider()</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">var</span> addres = <span style="color: blue">new</span> <span style="color: #2b91af">Uri</span>(<span style="color: #2b91af">Application</span>.Current.Host.Source, <span style="color: #a31515">&#8220;/Services/KaartService.svc&#8221;</span>);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; svc = <span style="color: blue">new</span> <span style="color: #2b91af">KaartServiceClient</span>(<span style="color: #a31515">&#8220;BasicHttpBinding_KaartService&#8221;</span>, <span style="color: blue">new</span> <span style="color: #2b91af">EndpointAddress</span>(addres));</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">internal</span> <span style="color: blue">void</span> GetKaarten(<span style="color: #2b91af">KaartSoort</span> soort, <span style="color: #2b91af">KaartPositie</span> tl, <span style="color: #2b91af">KaartPositie</span> br,</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #2b91af">Action</span>&lt;<span style="color: #2b91af">ObservableCollection</span>&lt;<span style="color: #2b91af">Kaart</span>&gt;&gt; kaarten)</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; svc.OpenCompleted += ((sender, e) =&gt; svc.KaartenAsync(soort, tl, br));</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; svc.KaartenCompleted += ((sender, e) =&gt; kaarten(e.Result));</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; svc.OpenAsync();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">}</p>
</div>
<p><!--EndFragment--></p>
<p>It wraps the proxy <em>svc</em>. In the constructor the proper address of the service is assembled. As the service is hosted by the same application as the Silverlight app I can use <em><span style="color: #2b91af">Application</span>.Current.Host.Source</em> to get the right uri. </p>
<p>The <em>GetKaarten</em> method is doing the work. It is passed the parameters to the service and also passes <em>kaarten</em> a callback method to catch the result of the service invocation. The service is explicitly opened, also this has to be done async. <em>OpenCompleted</em> will start the real work by firing <em>KaarternAsync. </em>When that completes the callback method will update the map with the fresh data.</p>
<div style="border-right: 1px solid;border-top: 1px solid;font-size: 10pt;background: white;border-left: 1px solid;color: black;border-bottom: 1px solid;font-family: courier new">
<p style="margin: 0px">[<span style="color: #2b91af">ScriptableMember</span>]</p>
<p style="margin: 0px"><span style="color: blue">public</span> <span style="color: blue">void</span> ShowKaarten(<span style="color: #2b91af">KaartSoort</span> vanSoort)</p>
<p style="margin: 0px">{</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &#8230;.</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">var</span> svcProxy = <span style="color: blue">new</span> <span style="color: #2b91af">KaartServiceProvider</span>();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; svcProxy.GetKaarten(vanSoort, tl, br, DrawKaarten);</p>
<p style="margin: 0px">}</p>
<p style="margin: 0px"><span style="color: blue"></span></p>
<p style="margin: 0px"><span style="color: blue">private</span> <span style="color: blue">void</span> DrawKaarten(<span style="color: #2b91af">ObservableCollection</span>&lt;<span style="color: #2b91af">Kaart</span>&gt; kaarten)</p>
<p style="margin: 0px">{</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; mapLayer.Clear();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">foreach</span> (<span style="color: blue">var</span> kaart <span style="color: blue">in</span> kaarten)</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mapLayer.Add(<span style="color: blue">new</span> <span style="color: #2b91af">VisualKaart</span>(kaart));</p>
<p style="margin: 0px">}</p>
<p style="margin: 0px">&nbsp;</p>
</div>
<h3>The Silverlight app on a web page</h3>
<p>The Silverlight app is running in the browser. So the way to program it is through JavaScript. It takes a little puzzling to find the object to talk to. Remember the silverlight app registered itself as <em>ChartMap</em>. To fire the scriptable webmethod you need the <em>Content.ChartMap</em> property of the SL-object.</p>
<p>A silverlight application can be used in several styles of web apps. A classical asp.net works well, an MVC app works even better. The latter is easier because the views in MVC are really client side views, the same enviroment the SL-app is living in. Classical Asp.net is more focused on server side code. </p>
<p>It will look like this in an MVC view. The SL- app is between the &lt;object&gt; tags and has id <em>Wereld</em>. The button&rsquo;s&nbsp; onclick event fires the SL method.</p>
<div style="border-right: 1px solid;border-top: 1px solid;font-size: 10pt;background: white;border-left: 1px solid;color: black;border-bottom: 1px solid;font-family: courier new">
<p style="margin: 0px"><span style="color: blue">&lt;</span><span style="color: #a31515">select</span> <span style="color: red">id</span><span style="color: blue">=&#8221;kaartSoort&#8221;&gt;</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">&lt;</span><span style="color: #a31515">option</span> <span style="color: red">value</span><span style="color: blue">=&#8221;0&#8243;&gt;</span>ENC<span style="color: blue">&lt;/</span><span style="color: #a31515">option</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">&lt;</span><span style="color: #a31515">option</span> <span style="color: red">value</span><span style="color: blue">=&#8221;1&#8243;&gt;</span>ARCS<span style="color: blue">&lt;/</span><span style="color: #a31515">option</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&lt;/</span><span style="color: #a31515">select</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&lt;</span><span style="color: #a31515">input</span> <span style="color: red">type</span><span style="color: blue">=&#8221;button&#8221;</span> <span style="color: red">value</span><span style="color: blue">=&#8221;Toon kaarten&#8221;</span> <span style="color: red">onclick</span><span style="color: blue">=&#8221;Wereld.Content.ChartMap.ShowKaarten(kaartSoort.value)&#8221;</span> <span style="color: blue">/&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&lt;</span><span style="color: #a31515">object</span> <span style="color: red">data</span><span style="color: blue">=&#8221;data:application/x-silverlight-2,&#8221;</span> <span style="color: red">type</span><span style="color: blue">=&#8221;application/x-silverlight-2&#8243;</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: red">width</span><span style="color: blue">=&#8221;100%&#8221;</span> <span style="color: red">height</span><span style="color: blue">=&#8221;100%&#8221;</span> <span style="color: red">id</span><span style="color: blue">=&#8221;Wereld&#8221;&gt;</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">&lt;</span><span style="color: #a31515">param</span> <span style="color: red">name</span><span style="color: blue">=&#8221;source&#8221;</span> <span style="color: red">value</span><span style="color: blue">=&#8221;/ClientBin/ChartMap.xap&#8221;</span> <span style="color: blue">/&gt;</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">&lt;</span><span style="color: #a31515">param</span> <span style="color: red">name</span><span style="color: blue">=&#8221;onerror&#8221;</span> <span style="color: red">value</span><span style="color: blue">=&#8221;onSilverlightError&#8221;</span> <span style="color: blue">/&gt;</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">&lt;</span><span style="color: #a31515">param</span> <span style="color: red">name</span><span style="color: blue">=&#8221;background&#8221;</span> <span style="color: red">value</span><span style="color: blue">=&#8221;white&#8221;</span> <span style="color: blue">/&gt;</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">&lt;</span><span style="color: #a31515">param</span> <span style="color: red">name</span><span style="color: blue">=&#8221;minRuntimeVersion&#8221;</span> <span style="color: red">value</span><span style="color: blue">=&#8221;2.0.31005.0&#8243;</span> <span style="color: blue">/&gt;</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">&lt;</span><span style="color: #a31515">param</span> <span style="color: red">name</span><span style="color: blue">=&#8221;autoUpgrade&#8221;</span> <span style="color: red">value</span><span style="color: blue">=&#8221;true&#8221;</span> <span style="color: blue">/&gt;</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">&lt;</span><span style="color: #a31515">a</span> <span style="color: red">href</span><span style="color: blue">=&#8221;http://go.microsoft.com/fwlink/?LinkID=124807&#8243;</span> <span style="color: red">style</span><span style="color: blue">=&#8221;</span><span style="color: red">text-decoration</span>: <span style="color: blue">none</span>;<span style="color: blue">&#8220;&gt;</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">&lt;</span><span style="color: #a31515">img</span> <span style="color: red">src</span><span style="color: blue">=&#8221;http://go.microsoft.com/fwlink/?LinkId=108181&#8243;</span> <span style="color: red">alt</span><span style="color: blue">=&#8221;Get Microsoft Silverlight&#8221;</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: red">style</span><span style="color: blue">=&#8221;</span><span style="color: red">border-style</span>: <span style="color: blue">none&#8221;</span> <span style="color: blue">/&gt;</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">&lt;/</span><span style="color: #a31515">a</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&lt;/</span><span style="color: #a31515">object</span><span style="color: blue">&gt;</span></p>
</div>
<p><!--EndFragment--></p>
<p>To keep the map up to date the method has to be fired over and over again, controlled by some kind of timer. Javascript has no real timers but using the setTimeOut method you can (recursively) call a method after an interval. In this example the function showMap updates the map and calls itself after 600 seconds.</p>
<div style="border-right: 1px solid;border-top: 1px solid;font-size: 10pt;background: white;border-left: 1px solid;color: black;border-bottom: 1px solid;font-family: courier new">
<p style="margin: 0px"><span style="color: blue">var</span> fleetId = 0;</p>
<p style="margin: 0px"><span style="color: blue">var</span> logoDisplayed = <span style="color: blue">false</span>;</p>
<p style="margin: 0px"><span style="color: blue">var</span> map;</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px"><span style="color: blue">function</span> showMap() {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; map = document.getElementById(<span style="color: #a31515">&#8216;ctl00_ContentPlaceHolder1_TrackingMap&#8217;</span>).Content.TrackingMap;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; map.ShowFleetTrack(fleetId);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: green">// Refresh map every 10 minutes</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; setTimeout(<span style="color: #a31515">&#8220;showMap()&#8221;</span>, 600000);</p>
<p style="margin: 0px">}</p>
</div>
<p>This script is living on a classical asp.net page. Notice the ugly long id you need to get to the SL-app. I have moved all var&rsquo;s out of the method to the page. Over time this code will build quite a call stack, not need for &ldquo;invocation specific instance data&rdquo;.</p>
<h3>What&rsquo;s wrong with this code ?</h3>
<p>At first sight this code looks alright. But nevertheless it will hit an exception after a certain amount of time. Usually a quite cryptic Silverlight error. It took some puzzling to find out what went wrong.</p>
<p>The application stays on one and the same page. The script on the page hits the embedded service once every 10 minutes. The service is protected by forms authentication. On every roundtrip the authentication cookie is checked. But what does <strong>not </strong>happen is updating the timeout of forms authentication. When the user hits code behind a web page the session timeout of forms-authentication is reset. When the user&rsquo;s page hits the embedded service this time-out is not reset. I&rsquo;m not sure whether this is a bug or a feature but it is by no means the behavior you would expect.</p>
<p>To prevent the service from timing out the script has to hit some server side code behind the page. As a target I add a dummy webmethod to the page</p>
<div style="border-right: 1px solid;border-top: 1px solid;font-size: 10pt;background: white;border-left: 1px solid;color: black;border-bottom: 1px solid;font-family: courier new">
<p style="margin: 0px"><span style="color: blue">public</span> <span style="color: blue">partial</span> <span style="color: blue">class</span> <span style="color: #2b91af">FleetMap</span> : System.Web.UI.<span style="color: #2b91af">Page</span></p>
<p style="margin: 0px">{</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; [<span style="color: #2b91af">WebMethod</span>]</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">static</span> <span style="color: blue">void</span> HartBeat()</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">// No need to do anything, this is just a hartbeat from JavaScript to tell the page is still alive</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">// This hartbeat prevents a time out of the authentication cookie</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
</div>
<p>A webmethod, part of ASP.net ajax, can be called directly from script. </p>
<div style="border-right: 1px solid;border-top: 1px solid;font-size: 10pt;background: white;border-left: 1px solid;color: black;border-bottom: 1px solid;font-family: courier new">
<p style="margin: 0px"><span style="color: blue">function</span> showMap() {</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; PageMethods.HartBeat();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; map = document.getElementById(<span style="color: #a31515">&#8216;ctl00_ContentPlaceHolder1_TrackingMap&#8217;</span>).Content.TrackingMap;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; map.ShowFleetTrack(fleetId);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: green">// Refresh map every 10 minutes</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; setTimeout(<span style="color: #a31515">&#8220;showMap()&#8221;</span>, 600000);</p>
<p style="margin: 0px">}</p>
<p style="margin: 0px">&nbsp;</p>
</div>
<p>In the loop the hartbeat tickles the server to notify the page is still alive. After which the SL-app can start firing its WCF requests.</p>
<p>I am not checking on exceptions here. In case the session has timed out issuing a <em>HartBeat </em>will redirect the user to the login page. As intended.</p>
<h3></h3>
<h3>To conclude?</h3>
<p>And now the app works as intended. Looking back it was a great experience combining all these new api&rsquo;s. Communication between them works pretty good. Once you know how <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' />  The bad guy was imho forms authentication. Which dates from a time when there was no such thing as partial or async postback. In a previous post I talked about the problems it has with ajax. Silverlight, another async poster, apparently has its own problems. </p>
<div class="shr-publisher-559"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/petervanooijen/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/petervanooijen/2009/04/16/keeping-a-long-running-silverlight-application-alive-under-forms-authentication/" title="Permalink to Keeping a long running Silverlight application alive under forms authentication" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/petervanooijen/2009/04/16/keeping-a-long-running-silverlight-application-alive-under-forms-authentication/feed/" title="Comments RSS to Keeping a long running Silverlight application alive under forms authentication" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-559 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/petervanooijen/2009/04/07/every-picture-tells-a-story/" rel="prev"><span class="meta-nav">&larr;</span> Every picture tells a story</a></div>
					<div class="nav-next"><a href="http://codebetter.com/petervanooijen/2009/05/20/a-first-glimpse-of-virtualization-in-windows-7/" rel="next">A first glimpse of virtualization in Windows 7 <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-2741">
                    <div id="dsq-comment-header-2741" class="dsq-comment-header">
                        <cite id="dsq-cite-2741">
    http://www.tavaresstudios.com                            <span id="dsq-author-user-2741">Chris Tavares</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2741" class="dsq-comment-body">
                        <div id="dsq-comment-message-2741" class="dsq-comment-message"><p>Thanks for the useful tips. I have a slightly different question: why was this a Silverlight app and not a client app? A long running kiosk without any user interaction sounds like a much better place for a regular client app. Then you don&#8217;t care about session state &#8211; let the client track it.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-2742">
                    <div id="dsq-comment-header-2742" class="dsq-comment-header">
                        <cite id="dsq-cite-2742">
    http://codebetter.com/members/pvanooijen/default.aspx                            <span id="dsq-author-user-2742">pvanooijen</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2742" class="dsq-comment-body">
                        <div id="dsq-comment-message-2742" class="dsq-comment-message"><p>The main reason for this being a web-app is DeepEarth. There is no counterpart for WPF</p>
<p>Another reason is deployment. The screen described is part of a website used by several customers. Instead of rolling out updates to customers we only have to update our webserver.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-3062">
                    <div id="dsq-comment-header-3062" class="dsq-comment-header">
                        <cite id="dsq-cite-3062">
    http://topsy.com/codebetter.com/petervanooijen/2009/04/16/keeping-a-long-running-silverlight-application-alive-under-forms-authentication/?utm_source=pingback&#038;utm_campaign=L2                            <span id="dsq-author-user-3062">Tweets that mention Keeping a long running Silverlight application alive under forms authentication | Peter van Ooijen &#8212; Topsy.com</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-3062" class="dsq-comment-body">
                        <div id="dsq-comment-message-3062" class="dsq-comment-message"><p>[...] This post was mentioned on Twitter by Peter Shaw. Peter Shaw said: RT @jeremylikness: Keeping a long running #Silverlight application alive under forms authentication: <a href="http://bit.ly/h4QqaL" rel="nofollow">http://bit.ly/h4QqaL</a> [...]</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/petervanooijen/2009/04/16/keeping-a-long-running-silverlight-application-alive-under-forms-authentication/';
    var disqus_identifier = '559 /blogs/peter.van.ooijen/archive/2009/04/16/keeping-a-long-running-silverlight-application-alive-under-forms-authentication.aspx';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'codebetterpetergekkosblog';
    var disqus_title = "Keeping a long running Silverlight application alive under forms authentication";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData â€” fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=559');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
            {
                'author_name':    "Tweets that mention Keeping a long running Silverlight application alive under forms authentication | Peter van Ooijen -- Topsy.com",
                'author_url':    "http:\/\/topsy.com\/codebetter.com\/petervanooijen\/2009\/04\/16\/keeping-a-long-running-silverlight-application-alive-under-forms-authentication\/?utm_source=pingback&#038;utm_campaign=L2",
                'date':            "01\/11\/2011 07:55 PM",
                'excerpt':        "[...] This post was mentioned on Twitter by Peter Shaw. Peter Shaw said: RT @jeremylikness: Keeping a long running #Silverlight ...",
                'type':            "pingback"            }
        ],
        'trackback_url': "http:\/\/codebetter.com\/petervanooijen\/2009\/04\/16\/keeping-a-long-running-silverlight-application-alive-under-forms-authentication\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">Small bio</h3><div class="ub-grav" style="margin:5px 5px 0px 5px;float: none;"><img alt='' src='http://1.gravatar.com/avatar/5cb0e972c5e405e6bff7e7f2da237c6d?s=96&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D96&amp;r=G' class='avatar avatar-96 photo' height='96' width='96' /></div>
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
					<li id="tag_cloud-3" class="widget-container widget_tag_cloud"><h3 class="widget-title">Post categories</h3><div class="tagcloud"><a href='http://codebetter.com/petervanooijen/category/asp-net/' class='tag-link-1725' title='68 topics' style='font-size: 16.299401197605pt;'>ASP.NET</a>
<a href='http://codebetter.com/petervanooijen/category/chatter/' class='tag-link-6709' title='69 topics' style='font-size: 16.383233532934pt;'>Chatter</a>
<a href='http://codebetter.com/petervanooijen/category/coding/' class='tag-link-6706' title='49 topics' style='font-size: 15.125748502994pt;'>Coding</a>
<a href='http://codebetter.com/petervanooijen/category/data/' class='tag-link-6708' title='46 topics' style='font-size: 14.874251497006pt;'>Data</a>
<a href='http://codebetter.com/petervanooijen/category/featured/' class='tag-link-1356' title='6 topics' style='font-size: 8pt;'>Featured</a>
<a href='http://codebetter.com/petervanooijen/category/hardware/' class='tag-link-4927' title='13 topics' style='font-size: 10.51497005988pt;'>Hardware</a>
<a href='http://codebetter.com/petervanooijen/category/mobile/' class='tag-link-6712' title='14 topics' style='font-size: 10.766467065868pt;'>Mobile</a>
<a href='http://codebetter.com/petervanooijen/category/outofcontrol/' class='tag-link-6705' title='13 topics' style='font-size: 10.51497005988pt;'>Out+of+control</a>
<a href='http://codebetter.com/petervanooijen/category/tabletpc/' class='tag-link-6707' title='45 topics' style='font-size: 14.790419161677pt;'>Tablet+PC</a>
<a href='http://codebetter.com/petervanooijen/category/uncategorized/' class='tag-link-1044' title='331 topics' style='font-size: 22pt;'>Uncategorized</a>
<a href='http://codebetter.com/petervanooijen/category/usergroupsandmeetings/' class='tag-link-6711' title='25 topics' style='font-size: 12.694610778443pt;'>User+groups+and+meetings</a></div>
</li>		<li id="recent-posts-3" class="widget-container widget_recent_entries">		<h3 class="widget-title">Recent Posts</h3>		<ul>
				<li><a href="http://codebetter.com/petervanooijen/2012/10/25/a-crash-course-into-mac-recovery-for-windows-users-and-other-dummies/" title="A crash course into Mac recovery for Windows users and other dummies">A crash course into Mac recovery for Windows users and other dummies</a></li>
				<li><a href="http://codebetter.com/petervanooijen/2012/09/23/facebooks-experience-sucks-comments-of-an-app-builder-on-projectxharen/" title="Facebook&rsquo;s experience sucks (Comments of an app-builder on #ProjectXHaren)">Facebook&rsquo;s experience sucks (Comments of an app-builder on #ProjectXHaren)</a></li>
				<li><a href="http://codebetter.com/petervanooijen/2012/09/14/domain-model-over-database-schema-using-fluent-nhibernate-to-generate-the-database/" title="Domain Model over Database Schema. Using fluent nHibernate to generate the database">Domain Model over Database Schema. Using fluent nHibernate to generate the database</a></li>
				<li><a href="http://codebetter.com/petervanooijen/2012/07/20/small-digital-disappointments/" title="(Small) digital disappointments">(Small) digital disappointments</a></li>
				<li><a href="http://codebetter.com/petervanooijen/2011/12/28/what-we-did-on-our-holidays-a-classic-guitar-an-ipad-fender-and-irig-2/" title="What we did on our holidays: a classic guitar, an iPad, Fender and iRig">What we did on our holidays: a classic guitar, an iPad, Fender and iRig</a></li>
				</ul>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://www.Gekko-Software.nl" title="Website Gekko Software">My company</a></li>

	</ul>
</li>
<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Post archive</h3>		<ul>
			<li><a href='http://codebetter.com/petervanooijen/2012/10/' title='October 2012'>October 2012</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2012/09/' title='September 2012'>September 2012</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2012/07/' title='July 2012'>July 2012</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2011/12/' title='December 2011'>December 2011</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2011/11/' title='November 2011'>November 2011</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2011/10/' title='October 2011'>October 2011</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2011/09/' title='September 2011'>September 2011</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2011/08/' title='August 2011'>August 2011</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2011/07/' title='July 2011'>July 2011</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2011/03/' title='March 2011'>March 2011</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2011/02/' title='February 2011'>February 2011</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2011/01/' title='January 2011'>January 2011</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/12/' title='December 2010'>December 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/11/' title='November 2010'>November 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/10/' title='October 2010'>October 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/09/' title='September 2010'>September 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/08/' title='August 2010'>August 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/07/' title='July 2010'>July 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/06/' title='June 2010'>June 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/05/' title='May 2010'>May 2010</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/04/' title='April 2010'>April 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/03/' title='March 2010'>March 2010</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/02/' title='February 2010'>February 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/01/' title='January 2010'>January 2010</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/12/' title='December 2009'>December 2009</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/11/' title='November 2009'>November 2009</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/10/' title='October 2009'>October 2009</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/09/' title='September 2009'>September 2009</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/08/' title='August 2009'>August 2009</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/07/' title='July 2009'>July 2009</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/06/' title='June 2009'>June 2009</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/05/' title='May 2009'>May 2009</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/04/' title='April 2009'>April 2009</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/03/' title='March 2009'>March 2009</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/02/' title='February 2009'>February 2009</a>&nbsp;(3)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/01/' title='January 2009'>January 2009</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/12/' title='December 2008'>December 2008</a>&nbsp;(3)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/11/' title='November 2008'>November 2008</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/10/' title='October 2008'>October 2008</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/09/' title='September 2008'>September 2008</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/08/' title='August 2008'>August 2008</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/07/' title='July 2008'>July 2008</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/06/' title='June 2008'>June 2008</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/05/' title='May 2008'>May 2008</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/04/' title='April 2008'>April 2008</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/03/' title='March 2008'>March 2008</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/02/' title='February 2008'>February 2008</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/01/' title='January 2008'>January 2008</a>&nbsp;(3)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/12/' title='December 2007'>December 2007</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/11/' title='November 2007'>November 2007</a>&nbsp;(3)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/10/' title='October 2007'>October 2007</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/09/' title='September 2007'>September 2007</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/08/' title='August 2007'>August 2007</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/07/' title='July 2007'>July 2007</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/06/' title='June 2007'>June 2007</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/05/' title='May 2007'>May 2007</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/04/' title='April 2007'>April 2007</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/03/' title='March 2007'>March 2007</a>&nbsp;(3)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/02/' title='February 2007'>February 2007</a>&nbsp;(6)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/01/' title='January 2007'>January 2007</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/12/' title='December 2006'>December 2006</a>&nbsp;(6)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/11/' title='November 2006'>November 2006</a>&nbsp;(7)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/10/' title='October 2006'>October 2006</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/09/' title='September 2006'>September 2006</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/08/' title='August 2006'>August 2006</a>&nbsp;(6)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/07/' title='July 2006'>July 2006</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/06/' title='June 2006'>June 2006</a>&nbsp;(9)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/05/' title='May 2006'>May 2006</a>&nbsp;(6)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/04/' title='April 2006'>April 2006</a>&nbsp;(8)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/03/' title='March 2006'>March 2006</a>&nbsp;(9)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/02/' title='February 2006'>February 2006</a>&nbsp;(10)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/01/' title='January 2006'>January 2006</a>&nbsp;(9)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/12/' title='December 2005'>December 2005</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/11/' title='November 2005'>November 2005</a>&nbsp;(7)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/10/' title='October 2005'>October 2005</a>&nbsp;(12)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/09/' title='September 2005'>September 2005</a>&nbsp;(11)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/08/' title='August 2005'>August 2005</a>&nbsp;(11)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/07/' title='July 2005'>July 2005</a>&nbsp;(9)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/06/' title='June 2005'>June 2005</a>&nbsp;(9)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/05/' title='May 2005'>May 2005</a>&nbsp;(11)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/04/' title='April 2005'>April 2005</a>&nbsp;(12)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/03/' title='March 2005'>March 2005</a>&nbsp;(11)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/02/' title='February 2005'>February 2005</a>&nbsp;(27)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/01/' title='January 2005'>January 2005</a>&nbsp;(15)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/12/' title='December 2004'>December 2004</a>&nbsp;(12)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/11/' title='November 2004'>November 2004</a>&nbsp;(12)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/10/' title='October 2004'>October 2004</a>&nbsp;(11)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/09/' title='September 2004'>September 2004</a>&nbsp;(9)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/08/' title='August 2004'>August 2004</a>&nbsp;(8)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/07/' title='July 2004'>July 2004</a>&nbsp;(15)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/06/' title='June 2004'>June 2004</a>&nbsp;(13)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/05/' title='May 2004'>May 2004</a>&nbsp;(13)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/04/' title='April 2004'>April 2004</a>&nbsp;(15)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/03/' title='March 2004'>March 2004</a>&nbsp;(21)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/02/' title='February 2004'>February 2004</a>&nbsp;(23)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/01/' title='January 2004'>January 2004</a>&nbsp;(14)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/12/' title='December 2003'>December 2003</a>&nbsp;(15)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/11/' title='November 2003'>November 2003</a>&nbsp;(20)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/10/' title='October 2003'>October 2003</a>&nbsp;(30)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/09/' title='September 2003'>September 2003</a>&nbsp;(13)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/08/' title='August 2003'>August 2003</a>&nbsp;(12)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/07/' title='July 2003'>July 2003</a>&nbsp;(5)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/06/' title='June 2003'>June 2003</a>&nbsp;(4)</li>
		</ul>
</li>				</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.588 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 22:59:22 -->
<!-- super cache -->