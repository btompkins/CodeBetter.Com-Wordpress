<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Submitting default buttons when the user presses the Enter key &#8211; finally! | Darrell Norton</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/darrellnorton/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/darrellnorton/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='The Gimp gets de-casted' href='http://codebetter.com/darrellnorton/2004/03/02/the-gimp-gets-de-casted/' />
<link rel='next' title='Application Security and Active Directory' href='http://codebetter.com/darrellnorton/2004/03/04/application-security-and-active-directory/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/darrellnorton/?p=252' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,186] -->
<link rel="canonical" href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-252" class="post-252 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Submitting default buttons when the user presses the Enter key &#8211; finally!</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/darrellnorton/author/darrellnorton/" title="View all posts by darrellnorton">darrellnorton</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/" title="10:31 pm" rel="bookmark"><span class="entry-date">March 3, 2004</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/darrellnorton/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/darrellnorton/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p><P>One of the hardest things in web development is getting a certain button to submit if you have more than one button on the page.&nbsp; Andy Smith, of <A href="http://www.metabuilders.com/">Metabuilders</A> fame, has one that works for late-model browsers.</P><br />
<P>Due to rather strict client requirements for a public e-commerce site, I needed something that went further back in browser history.&nbsp; I found a code sample from <A href="http://www.kamp-hansen.dk/pages/showdoc.asp?id=28&amp;menuid=21&amp;menuid=18">Janus Kamp Hansen</A> that only worked for IE.</P><br />
<P>I extended it to work with Mozilla and Netscape 6+, then added some more code to get it to work with most Netscape 4+ browsers.&nbsp; Then I tweaked the performance a bit, and that&#8217;s it!&nbsp; A fast, easy-to-use code snippet to force specific submit buttons to fire from developer-determined textboxes.</P><br />
<P>First, copy this method into an easily accessible place:</P><br />
<P><SPAN>public</SPAN><SPAN> <SPAN>void</SPAN> SetDefaultButton(Page page, TextBox textControl, Button defaultButton)</SPAN></P><br />
<P><SPAN>{</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>// Sets default buttons.</SPAN></SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>// Originally created by Janus Kamp Hansen &#8211; http://www.kamp-hansen.dk</SPAN></SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>// Extended by </SPAN></SPAN><SPAN>Darrell Norton</SPAN><SPAN> &#8211; http://dotnetjunkies.com/weblog/darrell.norton/ </SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>//<SPAN>&nbsp;&nbsp; </SPAN>&#8211; added Mozilla support, fixed a few issues, improved performance</SPAN></SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>string</SPAN> theScript = @&#8221;</SPAN></P><br />
<P><SPAN>&lt;SCRIPT language=&#8221;"javascript&#8221;"&gt;</SPAN></P><br />
<P><SPAN>&lt;!&#8211;</SPAN></P><br />
<P><SPAN>function fnTrapKD(btn, event){</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;</SPAN>if (document.all){</SPAN></P><br />
<P><SPAN><SPAN>&nbsp; </SPAN>if (event.keyCode == 13){</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp; </SPAN>event.returnValue=false;</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp; </SPAN>event.cancel = true;</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp; </SPAN>btn.click();</SPAN></P><br />
<P><SPAN><SPAN>&nbsp; </SPAN>}</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;</SPAN>}</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;</SPAN>else if (document.getElementById){</SPAN></P><br />
<P><SPAN><SPAN>&nbsp; </SPAN>if (event.which == 13){</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp; </SPAN>event.returnValue=false;</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp; </SPAN>event.cancel = true;</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp; </SPAN>btn.click();</SPAN></P><br />
<P><SPAN><SPAN>&nbsp; </SPAN>}</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;</SPAN>}</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;</SPAN>else if(document.layers){</SPAN></P><br />
<P><SPAN><SPAN>&nbsp; </SPAN>if(event.which == 13){</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp; </SPAN>event.returnValue=false;</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp; </SPAN>event.cancel = true;</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp; </SPAN>btn.click();</SPAN></P><br />
<P><SPAN><SPAN>&nbsp; </SPAN>}</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;</SPAN>}</SPAN></P><br />
<P><SPAN>}</SPAN></P><br />
<P><SPAN>// &#8211;&gt;</SPAN></P><br />
<P><SPAN>&lt;/SCRIPT&gt;&#8221;;</SPAN></P><br />
<P><SPAN></SPAN>&nbsp;</P><br />
<P><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Page.RegisterStartupScript(&#8220;ForceDefaultToScript&#8221;, theScript);</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>textControl.Attributes.Add(&#8220;onkeydown&#8221;, &#8220;fnTrapKD(&#8221; + defaultButton.ClientID + &#8220;,event)&#8221;);</SPAN></P><br />
<P><SPAN>}</SPAN></P><br />
<P>This code registers the given script with the Page.&nbsp; Then it adds an attribute to the textbox, which in this case is an onKeyDown event that calls the fnTrapKD function with the button&#8217;s clientID (it&#8217;s HTML ID in the rendered HTML) and the event.&nbsp; I had to pass the event in because Netscape/Mozilla browsers can&#8217;t catch this kind of event unless you pass it in to the function.&nbsp; IE can access the event from the document object, but we want something nice and cross-browser compatible.</P><br />
<P>The document.all if statement covers IE.&nbsp; The document.getElementById covers Netscape 6+ and Mozilla browsers.&nbsp; The document.layers if statement works with Netscape 4+.</P><br />
<P>Now add a line of code linking each textbox that you want with a certain submit button.&nbsp; For example:</P><br />
<P><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>SetDefaultButton(<SPAN>this<FONT color="#000000">.Page</FONT></SPAN>, TextBox1, Button1);</SPAN></P><br />
<P><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>SetDefaultButton(<SPAN>this<FONT color="#000000">.Page</FONT></SPAN>, TextBox2, Button2);<BR></SPAN><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>SetDefaultButton(<SPAN>this<FONT color="#000000">.Page</FONT></SPAN>, TextBox3, Button3);</SPAN></P><br />
<P>I usually put that in the Page_Load, since the Page.RegisterStartupScript method will ignore duplicate scripts.&nbsp; Now it is simply a matter of making a call to SetDefaultButton for each textbox-submit button association.</P><br />
<P>I haven&#8217;t tested this extensively yet, and some of the JavaScript may be unnecessary.&nbsp; And considering the number of Netscape 4 versions (and their bugginess), it probably doesn&#8217;t work on all of them.<SPAN>&nbsp; But it works (for now).&nbsp; </SPAN>And at least making an attempt at Netscape 4+ and IE 5+ will cover 99% of my site&#8217;s web browsers.</P><br />
<P><B><FONT color="#ff0000">UPDATE:</FONT></B>&nbsp; Released v1.1 which fixes a few errors and offers better code samples.&nbsp; See the <A href="http://www.gotdotnet.com/Community/Workspaces/workspace.aspx?id=a3b93959-9b2e-428a-99d9-276f0620589d">GotDotNet workspace</A>&nbsp;for full details.<BR><B><FONT color="#ff0000">UPDATE:</FONT></B>&nbsp; Updated the code snippets on this page (they are correct in the code sample download).<BR><FONT color="#ff0000"><B>UPDATE:</B></FONT><FONT color="#000000">&nbsp; Released v2.0 which works with ImageButtons, DropDownLists, and most other form elements, at the cost of Netscape 4 support.</FONT></P></p>
<div class="shr-publisher-252"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/darrellnorton/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/" title="Permalink to Submitting default buttons when the user presses the Enter key &#8211; finally!" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/feed/" title="Comments RSS to Submitting default buttons when the user presses the Enter key &#8211; finally!" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-252 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/darrellnorton/2004/03/02/the-gimp-gets-de-casted/" rel="prev"><span class="meta-nav">&larr;</span> The Gimp gets de-casted</a></div>
					<div class="nav-next"><a href="http://codebetter.com/darrellnorton/2004/03/04/application-security-and-active-directory/" rel="next">Application Security and Active Directory <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

							<div id="comments">


			<h3 id="comments-title">13 Responses to <em>Submitting default buttons when the user presses the Enter key &#8211; finally!</em> </h3>


			<ol class="commentlist">
						<li class="comment even thread-even depth-1" id="li-comment-668">
		<div id="comment-668">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/blogs/darrell.norton/' rel='external nofollow' class='url'>Darrell</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#comment-668">March 9, 2005 at 10:54 am</a></div>

		<div class="comment-body"><p>Brian &#8211; I was hoping to have time to work on this, but apparently I am not anytime soon.  However, in doing some research I came upon this statement from MSDN:<br />
<br />&quot;To determine when a user updates the content of a field from the AutoComplete dialog box, use the onpropertychange event, rather than the onchange event, because the onchange event does not fire.&quot;</p>
<p>My guess is you should check in the OnKeyPress event to see if it is also an OnPropertyChange event, then don&#8217;t do anything.  If not, then submit the form.</p>
<p>The relavent links on MSDN are:<br />
<br /><a target="_new" href="http://msdn.microsoft.com/workshop/author/forms/autocomplete_ovr.asp">http://msdn.microsoft.com/workshop/author/forms/autocomplete_ovr.asp</a><br />
<br />and<br />
<br /><a target="_new" href="http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onpropertychange.asp">http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onpropertychange.asp</a></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-667">
		<div id="comment-667">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Brian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#comment-667">March 6, 2005 at 7:37 am</a></div>

		<div class="comment-body"><p>Hi Darrell,<br />
<br />I am familiar with this command, but thank You anyway for pointing it out to me. I don&#8217;t want to turn off autocomplete but instead treat it as a special case.. is this possible?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-666">
		<div id="comment-666">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/blogs/darrell.norton/' rel='external nofollow' class='url'>Darrell</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#comment-666">March 4, 2005 at 11:03 am</a></div>

		<div class="comment-body"><p>Add this attribute to the HTML of the textbox autocomplete=&quot;off&quot;.</p>
<p>If you want to turn off autocomplete for the entire form, add it to the form tag.<br /></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-665">
		<div id="comment-665">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Brian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#comment-665">March 4, 2005 at 7:47 am</a></div>

		<div class="comment-body"><p>I was a bit onclear in my previous post. What I meant was that the problem exists with TextBoxes as well: when entering text in the box IE will autogenerate previously entered information in a dropdown &#8211; not a DropDownList in ASP.NET sense). Disabling the script for DropDownList will therefore not solve the problem. A check &#8211; on the other hand &#8211; would indeed.. but what command (IE specific) can detect if the autocomplete dropdown is activated?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-664">
		<div id="comment-664">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/blogs/darrell.norton/' rel='external nofollow' class='url'>Darrell</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#comment-664">February 24, 2005 at 11:04 am</a></div>

		<div class="comment-body"><p>If you&#8217;re using my code, just don&#8217;t call the SetDefaultButton method with the dropdownlist control.  Otherwise you can add a check in the JavaScript to ignore the enter key only if it is the dropdownlist.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-663">
		<div id="comment-663">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Brian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#comment-663">February 24, 2005 at 10:17 am</a></div>

		<div class="comment-body"><p>Scenario:<br />
<br />Script runs on IE 5.5+ which uses autocomplete. The user selects an entry in the drop down menu generated by the browser and presses &lt;enter&gt; key.</p>
<p>Problem:<br />
<br />The &lt;enter&gt; used for selecting an entry in the dropdown autocomplete is trapped and binds to the button. Instead it should be ignored. </p>
<p>All scripts regarding binds I&#8217;ve seen have this problem. Any suggestions on how to detect this special case?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-662">
		<div id="comment-662">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">becks</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#comment-662">February 10, 2005 at 9:28 pm</a></div>

		<div class="comment-body"><p>ok i got it just do this in the page_load</p>
<p>Dim dgitem As DataGridItem<br />
<br />Dim usr As TextBox</p>
<p>For Each dgitem In dg.Items<br />
<br />  usr = dgitem.FindControl(&quot;txtusr&quot;)<br />
<br />Next</p>
<p>SetDefaultButton(Me.Page, usr, btnSaveUsers)</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-661">
		<div id="comment-661">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">becks</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#comment-661">February 10, 2005 at 9:13 pm</a></div>

		<div class="comment-body"><p>hmmm what if the textbox is part of a datagrid? ie:</p>
<p>&lt;asp:TemplateColumn HeaderText=&quot;Username&quot;&gt;<br />
<br />&lt;ItemTemplate&gt;<br />
<br />&lt;asp:textbox Width=&quot;100%&quot; id=txtusr runat=&quot;server&quot;&gt; &lt;/asp:textbox&gt;<br />
<br />&lt;/ItemTemplate&gt;<br />
<br />&lt;/asp:TemplateColumn&gt;</p>
<p>ive tried doing something like this:<br />
<br />SetDefaultButton(Me.Page, DirectCast(dg.Items.Item(0), TextBox), btnSaveUsers)</p>
<p>but it dont work, any ideas?<br /></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-660">
		<div id="comment-660">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">NS</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#comment-660">February 10, 2005 at 4:28 pm</a></div>

		<div class="comment-body"><p>I am trying to implement this code but my textbox and button are placed on the usercontrol so when button is rendered on the page it takes the name with different Name and ID values. </p>
<p>Any idea how to make this working in this scenario?</p>
<p>Any help would be highly appreciated.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-659">
		<div id="comment-659">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/blogs/darrell.norton/' rel='external nofollow' class='url'>Darrell</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#comment-659">February 9, 2005 at 7:40 pm</a></div>

		<div class="comment-body"><p>Set CausesValidation = false for the submit button.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-658">
		<div id="comment-658">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">willy martinez</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#comment-658">February 9, 2005 at 7:08 pm</a></div>

		<div class="comment-body"><p>It&#8217;s a great code snipet, but when you use a validator control doesn&#180;t work do you have any idea?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-657">
		<div id="comment-657">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.brebank.com.pl/' rel='external nofollow' class='url'>Krzysztof Slazak</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#comment-657">February 8, 2005 at 6:57 am</a></div>

		<div class="comment-body"><p>Hi Ales.</p>
<p>Try doing 2 modifications:</p>
<p>1. Add &quot;return false;&quot; statement after calling &quot;btn.click();&quot; in function fnTrapKD.</p>
<p>2. When adding an attribute to textControl, do it like this:<br />
<br />textControl.Attributes.Add(&quot;onkeydown&quot;, &quot;return fnTrapKD(&quot; + defaultButton.ClientID + &quot;,event)&quot;);</p>
<p>I think this might help.</p>
<p>Krzysztof</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-656">
		<div id="comment-656">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.renderspace.si' rel='external nofollow' class='url'>Aleš Potočnik</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#comment-656">February 6, 2005 at 12:35 pm</a></div>

		<div class="comment-body"><p>Hi.<br />
<br />    It&#8217;s a great code snipet. And it works instantly upon implementation.<br />
<br />    However, I still had some problems with Mozilla Firefox browser. Before I implemented this function I used textbox&#8217;s onKeyDown=&quot;doSomething(); event.returnCode=false;&quot; It worked fine in IE browsers. But when tested in Firefox it still produced some code handling after doSomething(). This is probably coused by .net.<br />
<br />    Now I implemented this sample and again, the Firefox still does something afterwards. I&#8217;m implementing this in a rainbow portal (www.rainbowportal.net). Maby there&#8217;s something wrong with the rainbow framework.<br />
<br />    I extensively tested the html code produced. The &quot;event.returnCode&quot; and &quot;event.cancel&quot; have, as it seems &#8211; no efect on the afterwards event handling. I tested the execution &#8211; if the button onClick event is actualy called. It&#8217;s called from IE and FF. The only diference is that in IE the event gets canceled and in FF not.</p>
<p>Anyways, thanks for a great starting point and thanks for sharing it.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
			</ol>



								<div id="respond">
				<h3 id="reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/darrellnorton/2004/03/03/submitting-default-buttons-when-the-user-presses-the-enter-key-finally/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://codebetter.com/darrellnorton/wp-comments-post.php" method="post" id="commentform">
																			<p class="comment-notes">Your email address will not be published. Required fields are marked <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Name</label> <span class="required">*</span><input id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">Email</label> <span class="required">*</span><input id="email" name="email" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">Website</label><input id="url" name="url" type="text" value="" size="30" /></p>
												<p class="comment-form-comment"><label for="comment">Comment</label><textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='252' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="939cad1fdc" /></p>					</form>
							</div><!-- #respond -->
						
</div><!-- #comments -->

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
									</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.372 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 18:36:42 -->
<!-- super cache -->