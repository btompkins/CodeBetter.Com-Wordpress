<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Introduction to the Reactive Extensions for JavaScript – Wikipedia Lookup | Matthew Podwysocki</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/matthewpodwysocki/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/matthewpodwysocki/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Introduction to the Reactive Extensions for JavaScript – From Blocking to Async' href='http://codebetter.com/matthewpodwysocki/2010/03/12/introduction-to-the-reactive-extensions-for-javascript-from-blocking-to-async/' />
<link rel='next' title='Introduction to the Reactive Extensions for JavaScript – Composing deeper' href='http://codebetter.com/matthewpodwysocki/2010/03/16/introduction-to-the-reactive-extensions-for-javascript-composing-deeper/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/matthewpodwysocki/?p=209' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,186] -->
<link rel="canonical" href="http://codebetter.com/matthewpodwysocki/2010/03/15/introduction-to-the-reactive-extensions-for-javascript-wikipedia-lookup/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<meta property='og:image' content='http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/matthew/podwysocki/image_thumb_3C4B50B3.png?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1919787602&amp;Signature=%2b9Hh7x7Vo%2f7kkv3jQ%2bcnEAb%2b57o%3d' />

<!-- End Shareaholic OgTags -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-209" class="post-209 post type-post status-publish format-standard hentry category-event-based-porgramming category-javascript category-jsconf category-reactive-framework">
					<h1 class="entry-title">Introduction to the Reactive Extensions for JavaScript – Wikipedia Lookup</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/matthewpodwysocki/author/matthewpodwysocki/" title="View all posts by Matthew Podwysocki">Matthew Podwysocki</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/matthewpodwysocki/2010/03/15/introduction-to-the-reactive-extensions-for-javascript-wikipedia-lookup/" title="9:00 pm" rel="bookmark"><span class="entry-date">March 15, 2010</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/matthewpodwysocki/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/matthewpodwysocki/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>We’ve covered a bit of ground already in this series on the Reactive Extensions for JavaScript (RxJS) from the basic information, creating observers and observables, jQuery integration, composing asynchronous methods with callbacks and in the last post, talking about turning blocking calls into asynchronous calls.&#160; Now that we have some more fundamental building blocks, let’s see what else we can do with it.&#160; Before I move into <a href="http://flapjax-lang.org/">FlapJax</a> examples translated to the Reactive Extensions for JavaScript, I want to first visit a basic autocomplete/lookup scenario in which we can query a data source as we type, as such sites as Bing, Google, Wikipedia and others do.&#160; In this example, we’ll use Wikipedia as the backend source for doing our autocomplete.</p>
<p>Also, if you’re at <a href="http://live.visitmix.com/">Mix</a> this year, you’ll notice that Erik Meijer is giving a talk on the <a href="http://live.visitmix.com/MIX10/Sessions/FTL01">Reactive Extensions for JavaScript</a>. I highly recommend that you go to this session, especially if you’ve been interested in this series.&#160; Prepare for some pretty slick demos to show off the functionality of the library.&#160; </p>
<p>Before we get started, let’s get caught up to where we are today:</p>
<ul>
<li><a href="http://codebetter.com/blogs/matthew.podwysocki/archive/2010/02/16/introduction-to-the-reactive-extensions-to-javascript.aspx">Introduction</a></li>
<li><a href="http://codebetter.com/blogs/matthew.podwysocki/archive/2010/02/23/introduction-to-the-reactive-extensions-for-javascript-creating-observables.aspx">Creating Observables</a></li>
<li><a href="http://codebetter.com/blogs/matthew.podwysocki/archive/2010/02/27/introduction-to-the-reactive-extensions-for-javascript-creating-observers.aspx">Creating Observers</a></li>
<li><a href="http://codebetter.com/blogs/matthew.podwysocki/archive/2010/03/05/introduction-to-the-reactive-extensions-for-javascript-jquery-integration.aspx">jQuery Integration</a></li>
<li><a href="http://codebetter.com/blogs/matthew.podwysocki/archive/2010/03/11/introduction-to-the-reactive-extensions-for-javascript-composing-callbacks.aspx">Composing Callbacks</a></li>
<li><a href="http://codebetter.com/blogs/matthew.podwysocki/archive/2010/03/12/introduction-to-the-reactive-extensions-for-javascript-from-blocking-to-async.aspx">From Blocking to Asynchronous</a></li>
</ul>
<h2>Building a Lookup with Wikipedia</h2>
<p>Our overall goal is to show how an autocomplete/lookup scenario might work using the Reactive Extensions for JavaScript.&#160; I’ll show the basic mechanisms of querying the data set and returning the data, but the actual integration into a div could be up to you.&#160; For simplicity sake, I’ll just stick the results into an unordered list for display purposes.&#160; First, we need to familiarize ourselves with the <a href="http://www.mediawiki.org/wiki/API">Wikipedia API</a>.&#160; In order for us to do a basic open search, we can use the following URL where the &lt;term&gt; is replaced with your query.</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #800000">http://en.wikipedia.org/w/api.php?action=opensearch&amp;search=&lt;term&gt;&amp;format=json</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>For example, I can search for Matthew using the Wikipedia API, and in JSON format, it should look like the following, where it returns a string array with the first element being my query, and the second element being an array of my search results.</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #000000">[</span><span style="color: #000000">"</span><span style="color: #000000">Matthew</span><span style="color: #000000">"</span><span style="color: #000000">,[</span><span style="color: #000000">"</span><span style="color: #000000">Matthew the Evangelist</span><span style="color: #000000">"</span><span style="color: #000000">,
            </span><span style="color: #000000">"</span><span style="color: #000000">Matthew C. Perry</span><span style="color: #000000">"</span><span style="color: #000000">,
            </span><span style="color: #000000">"</span><span style="color: #000000">Matthew Broderick</span><span style="color: #000000">"</span><span style="color: #000000">,
            </span><span style="color: #000000">"</span><span style="color: #000000">Matthew Flinders</span><span style="color: #000000">"</span><span style="color: #000000">,
            </span><span style="color: #000000">"</span><span style="color: #000000">Matthew McConaughey</span><span style="color: #000000">"</span><span style="color: #000000">,
            </span><span style="color: #000000">"</span><span style="color: #000000">Matthew Arnold</span><span style="color: #000000">"</span><span style="color: #000000">,
            </span><span style="color: #000000">"</span><span style="color: #000000">Matthew Perry</span><span style="color: #000000">"</span><span style="color: #000000">,
            </span><span style="color: #000000">"</span><span style="color: #000000">Matthew Hayden</span><span style="color: #000000">"</span><span style="color: #000000">,
            </span><span style="color: #000000">"</span><span style="color: #000000">Matthew Sweet</span><span style="color: #000000">"</span><span style="color: #000000">,
            </span><span style="color: #000000">"</span><span style="color: #000000">Matthew Fox (actor)</span><span style="color: #000000">"</span><span style="color: #000000">]]</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>Knowing this, we could create an AJAX call to the API based upon a term and then only select the second element, our results, as our observable sequence.&#160; In order to enable AJAX functionality, the Reactive Extensions for JavaScript comes with the XmlHttpRequest method which has two overloads, one that takes a simple string URL and that takes an XmlHttpRequestDetails which contains details about the request.&#160; Let’s look at the signatures of the XmlHttpRequest methods:</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #0000FF">function</span><span style="color: #000000"> XmlHttpRequest(
    details); </span><span style="color: #008000">//</span><span style="color: #008000"> An XmlHttpRequest details instance</span><span style="color: #008000">
</span><span style="color: #000000">    
</span><span style="color: #0000FF">function</span><span style="color: #000000"> XmlHttpRequest(
    url);    </span><span style="color: #008000">//</span><span style="color: #008000"> The URL of the request</span><span style="color: #008000">
</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>And to give you an idea XmlHttpRequestDetails looks like, let’s look at the properties exposed on this class which include the headers, method, user, password and URL.</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #0000FF">function</span><span style="color: #000000"> XmlHttpRequestDetails() {
    </span><span style="color: #0000FF">this</span><span style="color: #000000">.Headers  </span><span style="color: #008000">//</span><span style="color: #008000"> Adds custom HTTP headers to the request</span><span style="color: #008000">
</span><span style="color: #000000">    </span><span style="color: #0000FF">this</span><span style="color: #000000">.Method   </span><span style="color: #008000">//</span><span style="color: #008000"> Specifies method GET, POST, HEAD</span><span style="color: #008000">
</span><span style="color: #000000">    </span><span style="color: #0000FF">this</span><span style="color: #000000">.Password </span><span style="color: #008000">//</span><span style="color: #008000"> Password for authentication</span><span style="color: #008000">
</span><span style="color: #000000">    </span><span style="color: #0000FF">this</span><span style="color: #000000">.Url      </span><span style="color: #008000">//</span><span style="color: #008000"> Url for request</span><span style="color: #008000">
</span><span style="color: #000000">    </span><span style="color: #0000FF">this</span><span style="color: #000000">.User     </span><span style="color: #008000">//</span><span style="color: #008000"> User for request</span><span style="color: #008000">
</span><span style="color: #000000">};</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>Now, let’s function called searchWikipedia that takes our search term and creates an XmlHttpRequest to Wikipedia and then projects the proper results.&#160; To do this, we’ll call the Rx.Observable.XmlHttpRequest method and then call Select to turn the eval the JSON response and select the second item in the array, our array of results.</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #0000FF">function</span><span style="color: #000000"> searchWikipedia(term) {
    </span><span style="color: #0000FF">var</span><span style="color: #000000"> url </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">"</span><span style="color: #000000">http://en.wikipedia.org/w/api.php</span><span style="color: #000000">"</span><span style="color: #000000">+</span><span style="color: #000000">
        </span><span style="color: #000000">"</span><span style="color: #000000">?action=opensearch&amp;search=</span><span style="color: #000000">"</span><span style="color: #000000">+</span><span style="color: #000000">term</span><span style="color: #000000">+</span><span style="color: #000000">"</span><span style="color: #000000">&amp;format=json</span><span style="color: #000000">"</span><span style="color: #000000">;
    
    </span><span style="color: #0000FF">return</span><span style="color: #000000"> Rx.Observable.XmlHttpRequest(url)
        .Select(</span><span style="color: #0000FF">function</span><span style="color: #000000">(result) {
            </span><span style="color: #0000FF">var</span><span style="color: #000000"> response </span><span style="color: #000000">=</span><span style="color: #000000"> eval(result.responseText);
            </span><span style="color: #0000FF">if</span><span style="color: #000000">(response.length </span><span style="color: #000000">==</span><span style="color: #000000"> </span><span style="color: #000000">2</span><span style="color: #000000">) </span><span style="color: #0000FF">return</span><span style="color: #000000"> response[</span><span style="color: #000000">1</span><span style="color: #000000">];
            </span><span style="color: #0000FF">else</span><span style="color: #000000"> </span><span style="color: #0000FF">return</span><span style="color: #000000"> [];
        });
}</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>Now, let’s hook it all together, so that when a key goes up, that is to say enters a value, then we’ll trigger a search to Wikipedia.&#160; Our simple search screen looks nothing more than a simple input for our text value and a UL for our results, and an area for errors should one occur.</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #0000FF">&lt;</span><span style="color: #800000">body</span><span style="color: #0000FF">&gt;</span><span style="color: #000000">
    </span><span style="color: #0000FF">&lt;</span><span style="color: #800000">input </span><span style="color: #FF0000">id</span><span style="color: #0000FF">="searchInput"</span><span style="color: #FF0000"> size</span><span style="color: #0000FF">="100"</span><span style="color: #FF0000"> type</span><span style="color: #0000FF">="text"</span><span style="color: #FF0000"> </span><span style="color: #0000FF">/&gt;</span><span style="color: #000000">
    </span><span style="color: #0000FF">&lt;</span><span style="color: #800000">ul </span><span style="color: #FF0000">id</span><span style="color: #0000FF">="results"</span><span style="color: #FF0000"> </span><span style="color: #0000FF">/&gt;</span><span style="color: #000000">
    </span><span style="color: #0000FF">&lt;</span><span style="color: #800000">p </span><span style="color: #FF0000">id</span><span style="color: #0000FF">="error"</span><span style="color: #FF0000"> </span><span style="color: #0000FF">/&gt;</span><span style="color: #000000">
</span><span style="color: #0000FF">&lt;/</span><span style="color: #800000">body</span><span style="color: #0000FF">&gt;</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>Once the document loads, we want the ability to track the keyup event of our searchInput and then display the results (if any) in our results, else populate the error.&#160; As per usual, we’ll wrap this functionality into our document.ready function.</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #000000">$(document).ready(</span><span style="color: #0000FF">function</span><span style="color: #000000">() {
    </span><span style="color: #008000">//</span><span style="color: #008000"> Code goes here</span><span style="color: #008000">
</span><span style="color: #000000">});</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>The next part is the fun part.&#160; We need to take our searchInput and listen to the keyup event.&#160; </p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #0000FF">var</span><span style="color: #000000"> searcher </span><span style="color: #000000">=</span><span style="color: #000000"> $(</span><span style="color: #000000">"</span><span style="color: #000000">#searchInput</span><span style="color: #000000">"</span><span style="color: #000000">)
    .ToObservable(</span><span style="color: #000000">"</span><span style="color: #000000">keyup</span><span style="color: #000000">"</span><span style="color: #000000">)</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>One the key event fires, we need to project that it happened and return the current searchInput value which contains our search term.&#160; </p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #000000">    .Select(</span><span style="color: #0000FF">function</span><span style="color: #000000">(_) {
        </span><span style="color: #0000FF">return</span><span style="color: #000000"> $(</span><span style="color: #000000">"</span><span style="color: #000000">#searchInput</span><span style="color: #000000">"</span><span style="color: #000000">).val(); })</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>Then, we’ll need to slow down the response to the request to Wikipedia so that we’re not constantly bombarding their server, but instead wait until an interval before firing and ignore all that happen during that interval.&#160; To do that, we’ll make use of the Throttle function:</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #0000FF">function</span><span style="color: #000000"> Throttle(
    dueTime); </span><span style="color: #008000">//</span><span style="color: #008000"> Ignores values which are followed by another</span><span style="color: #008000">
</span><span style="color: #000000">              </span><span style="color: #008000">//</span><span style="color: #008000"> value before the due time</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>In this case, we’ll use 250 milliseconds as our interval time.</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #000000">    .Throttle(</span><span style="color: #000000">250</span><span style="color: #000000">)</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>Next, we’ll take the observable and project our search term to return our searchWikipedia observable.&#160; What this returns to us in C# parlance is an IObservable&lt;IObservable&lt;string&gt;&gt;.&#160; </p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #000000">    .Select(</span><span style="color: #0000FF">function</span><span style="color: #000000">(term) {
        </span><span style="color: #0000FF">return</span><span style="color: #000000"> createSearchRequest(term); })</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>We’ll need to flatten this, but only take the first value since it’s a single request.&#160; To do that, we’ll need to use the Switch function which transforms an observable sequence of observable sequences into an observable sequence producing values only from the most recent observable sequence.</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #000000">    .Switch();</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>Below is the complete code to create the observable which searches Wikipedia and then returns an array of values as the result.</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #0000FF">var</span><span style="color: #000000"> searcher </span><span style="color: #000000">=</span><span style="color: #000000"> $(</span><span style="color: #000000">"</span><span style="color: #000000">#searchInput</span><span style="color: #000000">"</span><span style="color: #000000">)
    .ToObservable(</span><span style="color: #000000">"</span><span style="color: #000000">keyup</span><span style="color: #000000">"</span><span style="color: #000000">)
    .Select(</span><span style="color: #0000FF">function</span><span style="color: #000000">(_) {
        </span><span style="color: #0000FF">return</span><span style="color: #000000"> $(</span><span style="color: #000000">"</span><span style="color: #000000">#searchInput</span><span style="color: #000000">"</span><span style="color: #000000">).val(); })
    .Throttle(</span><span style="color: #000000">250</span><span style="color: #000000">)
    .Select(</span><span style="color: #0000FF">function</span><span style="color: #000000">(term) {
        </span><span style="color: #0000FF">return</span><span style="color: #000000"> searchWikipedia(term); })
    .Switch();</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>Now we can populate the unordered list by subscribing to our searcher.&#160; As search result comes back, we want to clear the results, and then iterate through our array to add an item to the list.&#160; Also, we can handle errors by simply pushing the exception value to another area for display should one occur.</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #000000">searcher
    .Subscribe(
        </span><span style="color: #0000FF">function</span><span style="color: #000000">(data) {
            $(</span><span style="color: #000000">"</span><span style="color: #000000">#results</span><span style="color: #000000">"</span><span style="color: #000000">).empty();
            $.each(data, </span><span style="color: #0000FF">function</span><span style="color: #000000">(_, value) {
                $(</span><span style="color: #000000">"</span><span style="color: #000000">#results</span><span style="color: #000000">"</span><span style="color: #000000">).append(</span><span style="color: #000000">"</span><span style="color: #000000">&lt;li&gt;</span><span style="color: #000000">"</span><span style="color: #000000">+</span><span style="color: #000000">value</span><span style="color: #000000">+</span><span style="color: #000000">"</span><span style="color: #000000">&lt;/li&gt;</span><span style="color: #000000">"</span><span style="color: #000000">);
            });
        },
        </span><span style="color: #0000FF">function</span><span style="color: #000000">(error) {
            $(</span><span style="color: #000000">"</span><span style="color: #000000">#error</span><span style="color: #000000">"</span><span style="color: #000000">).html(error);
        });
</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>Let’s take a look at this in action.&#160; I’ll search for Matt to start which returns the following results.</p>
<p><a href="http://codebetter.com/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/matthew.podwysocki/image_5F00_4F004A6A.png"><img style="border-bottom: 0px;border-left: 0px;border-top: 0px;border-right: 0px" border="0" alt="image" src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/matthew/podwysocki/image_thumb_3C4B50B3.png?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1919787602&amp;Signature=%2b9Hh7x7Vo%2f7kkv3jQ%2bcnEAb%2b57o%3d" width="228" height="277" /></a> </p>
<p>When I enter the next key, an “h”, my results refresh with the following.</p>
<p><a href="http://codebetter.com/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/matthew.podwysocki/image_5F00_05DD2F62.png"><img style="border-bottom: 0px;border-left: 0px;border-top: 0px;border-right: 0px" border="0" alt="image" src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/matthew/podwysocki/image_thumb_5783A9B4.png?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1919787602&amp;Signature=MWdwRRrfZWkNG%2f60K5kHCoDv8AQ%3d" width="229" height="273" /></a> </p>
<p>As each letter comes along, then our results refresh based upon Wikipedia thinks we might be looking for.&#160; And there you have it, a simple Wikipedia autocomplete autocomplete/lookup scenario as accomplished with the Reactive Extensions for JavaScript.</p>
<h2>Conclusion</h2>
<p>Through the use of the Reactive Extensions for JavaScript, we’re able to perform AJAX calls and then compose it together with our key-up to create a dictionary lookup/autocomplete scenario.&#160; </p>
<p>This of course is only scratching the surface of what capabilities this library has and there is much more yet left to cover.&#160; The question you’re probably asking now is where can I get it?&#160; Well, for that you’ll have to stay tuned to Erik Meijer and his <a href="http://live.visitmix.com/MIX10/Sessions/FTL01">Reactive Extensions for JavaScript</a> session at Mix on Wednesday.</p>
<p>What can I say?&#160; I love JavaScript and very much looking forward to the upcoming <a href="http://jsconf.us/2010">JSConf 2010</a> here in Washington, DC where the Reactive Extensions for JavaScript will be shown in its full glory with <a href="http://twitter.com/jvgogh">Jeffrey Van Gogh</a> (who you can now follow on Twitter).&#160; For too many times, we’ve looked for the abstractions over the natural language of the web (HTML, CSS and JavaScript) and created monstrosities instead of embracing the web for what it is.&#160; With libraries such as jQuery and indeed the Reactive Extensions for JavaScript gives us better tools for dealing with the troubled child that is DOM manipulation and especially events.</p>
<div class="shr-publisher-209"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/matthewpodwysocki/category/event-based-porgramming/" title="View all posts in Event-based Porgramming" rel="category tag">Event-based Porgramming</a>, <a href="http://codebetter.com/matthewpodwysocki/category/javascript/" title="View all posts in JavaScript" rel="category tag">JavaScript</a>, <a href="http://codebetter.com/matthewpodwysocki/category/jsconf/" title="View all posts in JSConf" rel="category tag">JSConf</a>, <a href="http://codebetter.com/matthewpodwysocki/category/reactive-framework/" title="View all posts in Reactive Framework" rel="category tag">Reactive Framework</a>. Bookmark the <a href="http://codebetter.com/matthewpodwysocki/2010/03/15/introduction-to-the-reactive-extensions-for-javascript-wikipedia-lookup/" title="Permalink to Introduction to the Reactive Extensions for JavaScript – Wikipedia Lookup" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/matthewpodwysocki/2010/03/15/introduction-to-the-reactive-extensions-for-javascript-wikipedia-lookup/feed/" title="Comments RSS to Introduction to the Reactive Extensions for JavaScript – Wikipedia Lookup" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-209 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/matthewpodwysocki/2010/03/12/introduction-to-the-reactive-extensions-for-javascript-from-blocking-to-async/" rel="prev"><span class="meta-nav">&larr;</span> Introduction to the Reactive Extensions for JavaScript – From Blocking to Async</a></div>
					<div class="nav-next"><a href="http://codebetter.com/matthewpodwysocki/2010/03/16/introduction-to-the-reactive-extensions-for-javascript-composing-deeper/" rel="next">Introduction to the Reactive Extensions for JavaScript – Composing deeper <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/matthewpodwysocki/2010/03/15/introduction-to-the-reactive-extensions-for-javascript-wikipedia-lookup/';
    var disqus_identifier = '209 /blogs/matthew.podwysocki/archive/2010/03/15/introduction-to-the-reactive-extensions-for-javascript-wikipedia-lookup.aspx';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'matthewpodwysocki';
    var disqus_title = "Introduction to the Reactive Extensions for JavaScript – Wikipedia Lookup";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=209');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/codebetter.com\/matthewpodwysocki\/2010\/03\/15\/introduction-to-the-reactive-extensions-for-javascript-wikipedia-lookup\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
									</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 4.706 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 17:59:33 -->
<!-- super cache -->