<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>The Fat Controller | Ian Cooper</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/iancooper/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/iancooper/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Introduction to NHibernate, Part 1' href='http://codebetter.com/iancooper/2008/12/01/introduction-to-nhibernate-part-1/' />
<link rel='next' title='Introduction to NHibernate, Part 2' href='http://codebetter.com/iancooper/2008/12/12/introduction-to-nhibernate-part-2/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/iancooper/?p=48' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,121] -->
<link rel="canonical" href="http://codebetter.com/iancooper/2008/12/03/the-fat-controller/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-48" class="post-48 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">The Fat Controller</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/iancooper/author/iancooper/" title="View all posts by Ian Cooper">Ian Cooper</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/iancooper/2008/12/03/the-fat-controller/" title="8:25 am" rel="bookmark"><span class="entry-date">December 3, 2008</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/iancooper/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/iancooper/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>My latest project is built using the <a href="http://www.castleproject.org/">Castle Project stack</a> (<a href="http://www.castleproject.org/monorail/index.html">Monorail</a>, <a href="http://www.castleproject.org/container/index.html">Windsor</a>, and <a href="http://www.castleproject.org/activerecord/index.html">Active Record</a>). We&#8217;re using <a href="http://geekswithblogs.net/johnteague/archive/2008/04/23/using-database-repository-pattern-with-activerecord-with-activerecordmediator.aspx">ActiveRecordMediator so that we can use a Repository pattern</a> with Active Record. We are also using <a href="http://jquery.com/">JQuery </a>as our client side Javascript library. At the time we started, some months ago now, we felt ASP.NET MVC was too early in its cycle to use (though we would hope migration would not be too hard if desired). We opted for NHibernate over <a href="http://msdn.microsoft.com/en-us/library/bb386976.aspx">LINQ To SQL</a> because we wanted to support a fine-grained object model (we are using <a href="http://domaindrivendesign.org/">Domain Driven Design</a>) and because we liked the options around performance and caching that were available with NHibernate. We rejected <a href="http://msdn.microsoft.com/en-us/library/aa697427%28VS.80%29.aspx">Entity Framework</a> as unsuitable for our needs (lack of support for test-first development, lack of persistence ignorance, over-complex mapping, poor support for lazy loading etc.)</p>
<p>All that is really just background to this post.The key point is that we are building a MVC web application. As a result of that&nbsp; experience I wanted to talk about one of the anti-patterns we find ourselves encountering.</p>
<p><b>The Fat Controller </b></p>
<p>It&#8217;s a big project and we are beginning to get the whiff of where you can give yourself pain using an MVC frameworks. The big one for us is the issue of the &#8216;fat&#8217; controller. it&#8217;s pretty easy to recognize the stink of the fat controller smell. The controller is hundreds of lines long, packed with actions, and the actions are long swathes of code, not the handful of lines that they should be. The two main causes of the stink seem to be:</p>
<ul>
<li>The controller services too many requests (i.e. has too many actions)</li>
<li>The controller has domain logic (i.e. model code has crept into the controller)</li>
</ul>
<p>Why is this bad (just in case you could not see that it was)? I&#8217;ll paraphrase the issues identified by Rebecca Wirfs-Brock and Alan McKean in <a href="http://www.wirfs-brock.com/DesignBooks.html">Object Design</a> here:</p>
<ul>
<li>Controller logic is overly complex</li>
<li>Controllers have become dependent on domain concepts</li>
<li>Controllers increase coupling between otherwise distinct entities, as they pass information from one entity to another</li>
<li>Controllers do the interesting work</li>
</ul>
<p>All of this can really be summed up as making your code hard to maintain. Complex logic is easy to write but hard to read. Simple code requires more effort to write, but pays dividends to maintainers trying to fix or amend it. Breaking the dependencies between your controller and the domain make your code much more ameneable to change. Need that domain logic from another action or another controller. It should be easy because it lives in the domain. Slap it into your controller and suddenly its harder to get at. Perhaps a new customer needs a different view of the domain. Perhaps you want to expose the logic in that controller as an AJAX call instead of on a postback. Perhaps you want to expose it as a WCF service.easy if lives in the domain, hard if it lives in the controller.</p>
<p>That kind of pain tends to lead to cut &amp; paste and re-use. Cut &amp; paste reuse is the road to hell as there are now multiple versions of the truth.Over time they will deviate and you will have confusion.</p>
<p>The more the controllers know about the domain, the more sticky they make it. Want to change the domain, well now you have to change the controllers too. And maybe those UI templates if your domain model was being directly consumed by the view. And that kind of change is more expensive because your refactoring tools probably don&#8217;t read your templates.</p>
<p><b>Skinny Controllers, Fat Model</b> </p>
<p>For my part, the worst smell comes from the controller becoming dependent on the domain. The controller begins to hold domain logic, holding the knowledge of what is is to ship a cargo, purchase a product, make a payment. The domain objects become aneamic, their only role to hold data The interaction becomes a controller setting properties on the domain objects. The controller becomes vampiric, it grows fat by sucking the life-blood out of your domain, which ends up weak, drained, and anaemic. </p>
<p>This is the good old problem of domain-logic in code-behind that we had in ASP.NET webforms. Indeed Webforms are just another type of controller, a <a href="http://martinfowler.com/eaaCatalog/pageController.html">page controller</a>, and switching to an <a href="http://martinfowler.com/eaaCatalog/applicationController.html">application controller</a> model does not remove the need for us to watch for domain logic creeping into the controller. There can be a tempation to believe that just because the controller is easier to test it is now safe to put domain logic in there. Do not fall into that trap.</p>
<p><b>Fighting the Flab</b> </p>
<p>Our current solution to this smell is to review our controllers to ensure that they are doing very little work. We <a href="http://devlicio.us/blogs/derik_whittaker/archive/2008/10/22/how-is-interacting-with-your-data-repository-in-your-controller-different-or-better-than-doing-it-in-your-code-behind.aspx">push responsibility for co-ordinating between domain objects</a> to <a href="http://www.lostechies.com/blogs/jimmy_bogard/archive/2008/08/21/services-in-domain-driven-design.aspx">domain level services</a>. The services have no state, they just co-ordinate the actions of domain objects, such as getting an instance of an entity from the repository and then calling methods on it. This properly belongs in a service that co-ordinates that part of our domain, not the controller whose job is to co-ordinate between the domain (model) and view.&nbsp;</p>
<p>I suspect, but have no evidence, that a <a href="http://xunitpatterns.com/Philosophy%20Of%20Test%20Automation.html">bottom up (or inside-out) and not top down (or outside-in)</a> strategy to development may also help. If we write the domain entities and value types before we write the co-ordinators and controllers we will tend to find that the functionality tends to cluster at the leaf nodes of our domain model. If we start at the top then we will tend to find ourselves putting more logic into the controllers, because we tend to want to write our tests for something other than just calling a couple of objects on the next, and as yet only stubbed out, layer below. I suspect that some of our worse cases of fat controllers may have come from taking a top-down approach. I suspect this is particularly true with folks who drive from the UI. Of course the downside with bottom up or inside-out approaches is because the unit tests drive over the acceptance tests it is easier to slip in speculative functionality that turns out not to be needed by the unit test.</p>
<p>The Rails Way is <a href="http://weblog.jamisbuck.org/2006/10/18/skinny-controller-fat-model">Skinny Controller, Fat Model</a> and its a good mantra to pick up as you approach development with .NET MVC applications.</p>
<p><b>Beware God Controllers</b></p>
<p>The god controller is really just a variation of the <a href="http://en.wikipedia.org/wiki/God_object">god object anti-pattern</a>. Fat Controllers have become God Controllers when they take responsibility for handling too many requests. The pathological case is a site that has just the one controller which handles all requests from the client. Whereas the WebForms page controller forced us into a controller per page, MVC applications don&#8217;t force us down this route. So we have to make sensible decisions about what responsibilites each of our controllers should have.</p>
<p>We began by having one controller per aggregate in our domain model.<br />
That seemed attractive at first because of the affinity between<br />
repositories and aggregates but we have quickly hit overload on our<br />
controllers through that approach. </p>
<p>At the other end we might be think<br />
about one controller per entity. This seems attractive at first and Rails sometimes has a controller per model approach,&nbsp; but ends up too granular. It also breaks down because we<br />
often have multiple entities on one page. </p>
<p>We could move to having a controller per page. This seems attractive when coming from a webforms background but tends to create too many controllers.Developing with MVC frameworks differs from Webforms in that there is no support for server-side controls. If you want dynamic behavior then you need to support it through Javascript and CSS on the client. When mopving to an MVC application you quickly understand that you need to shift from server side controls to client side controls. There are many advantages to this. Your template can render simple clean, standards compliant, HTML. You get clean seperation of the UI widget code away from the controller.</p>
<p>People who have done Javascript in the past shy away at this point because developing rich interactive applications with Javascript used to be expensive. It required a lot of low-level coding against the DOM. The rise of Javascript libraries like JQuery has revolutionized the development of rich interactive applications because these frameworks dramatically lower the cost of development. </p>
<p>What it means in this context is that your controller can handle the code for more than one page very easily. This is true even if you include the actions that your page will expose to client-side AJAX calls.</p>
<p>&nbsp;A more productive approach looks to be thinking in terms of user<br />
activities and provide one controller per user activity. By user<br />
activity I mean ordering a product, reviewing an account, checking out,<br />
making a payment. These business transactions seem to be a good<br />
granularity level for controllers.</p>
<p>&nbsp;<b>&#8220;God is dead. God remains dead. And we have killed him.&#8221;</b>&nbsp; </p>
<p>Of course the danger is that the domain service itself becomes vampiric<br />
and drains the life-blood of our domain. Control and co-ordination are roles that many services fulfill. Our controller, the &#8216;C&#8217; in MVC can be thought of as a presentation layer service that co-ordinates between our view and model. Everything that applies to controllers also applies to any service that do control and co-ordination. The fat controller is a specific but not an exclusive case.</p>
<p>We want to watch for swapping our fat controller<br />
for a fat service when we push our code out of the controller and into<br />
a domain service. The mechanism for fighting the flab remains the same. Figure out what control and co-ordination responsibilties this service has and do not spread it to include control and co-ordination respsonsibilites over other areas. Consider the <a href="http://en.wikipedia.org/wiki/Single_responsibility_principle">Single Responsibility Principle</a> as a guide. Break up services to stop<br />
them becoming god objects, and push code down into the<br />
entities and value types at the same time. I find that sniffing<br />
for the <a href="http://www.soberit.hut.fi/mmantyla/BadCodeSmellsTaxonomy.htm">Feature Envy</a><br />
smells helps uncover the places where refactoring will help push logic<br />
out of the domain level service and into the domain objects. </p>
<p><b>Keeping Fit</b></p>
<p>Development is a bit like life. It is easy to get flabby. We just need to get lazy and eat too many things that are bad for us. The trouble is that once you become overweight it gets harder and harder to lose that weight. So if you don&#8217;t want to end up with controllers so overweight that they require surgical intervention, you need to watch how you code them and refactor mercilessly once you see those fat deposits accumulating. </p>
<p>&nbsp;</p>
<div class="shr-publisher-48"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/b033a6c1af4ee8d7a734f3684225ea8a?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=R' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Ian Cooper</h2>
							Ian Cooper has over 18 years of experience delivering Microsoft platform solutions in government, healthcare, and finance. During that time he has worked for the DTi, Reuters, Sungard, Misys and Beazley delivering everything from bespoke enterpise solutions to 'shrink-wrapped' products to thousands of customers. Ian is a passionate exponent of the benefits of OO and Agile. He is test-infected and contagious. When he is not writing C# code he is also the and founder of the London .NET user group. http://www.dnug.org.uk							<div id="author-link">
								<a href="http://codebetter.com/iancooper/author/iancooper/" title="View all posts by Ian Cooper">View all posts by Ian Cooper &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/iancooper/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/iancooper/2008/12/03/the-fat-controller/" title="Permalink to The Fat Controller" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/iancooper/2008/12/03/the-fat-controller/feed/" title="Comments RSS to The Fat Controller" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-48 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/iancooper/2008/12/01/introduction-to-nhibernate-part-1/" rel="prev"><span class="meta-nav">&larr;</span> Introduction to NHibernate, Part 1</a></div>
					<div class="nav-next"><a href="http://codebetter.com/iancooper/2008/12/12/introduction-to-nhibernate-part-2/" rel="next">Introduction to NHibernate, Part 2 <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-488">
                    <div id="dsq-comment-header-488" class="dsq-comment-header">
                        <cite id="dsq-cite-488">
    http://devlicio.us/blogs/derik_whittaker/default.aspx                            <span id="dsq-author-user-488">Derik Whittaker</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-488" class="dsq-comment-body">
                        <div id="dsq-comment-message-488" class="dsq-comment-message"><p>Well put.  </p>
<p>It worries me to see fat controllers because all they do is increase clutter and decrease efficiency. </p>
<p>If everyone just follows SOLID principles (I know, easier said than done) than all &#8216;should&#8217; be well with the world.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-489">
                    <div id="dsq-comment-header-489" class="dsq-comment-header">
                        <cite id="dsq-cite-489">
    http://blog.danielfernandes.net                            <span id="dsq-author-user-489">daniel fernandes</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-489" class="dsq-comment-body">
                        <div id="dsq-comment-message-489" class="dsq-comment-message"><p>Excellent post.<br />
I think a way of making sure that responsibilities that belong to the domain don&#8217;t end in controllers or domain/application services is to empower the domain in being able to do so.<br />
That means domain objects can use of services, repositories and object factories, obviously while still applying SOLID principles. And we can use messaging via an internal event broker to fairly easily extend responsibilities of the domain. Having read the DDD book from InfoQ I believe that a pure Onion architecture can only lead with an anemic domain model.<br />
And on the particular issue of domain model leakage to UI, I guess a Presentation Model may be the best route to take even if it means a lot of mappers.</p>
<p>Daniel</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-490">
                    <div id="dsq-comment-header-490" class="dsq-comment-header">
                        <cite id="dsq-cite-490">
    http://s.rottem@symbiotic-development.com                            <span id="dsq-author-user-490">Symon Rottem</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-490" class="dsq-comment-body">
                        <div id="dsq-comment-message-490" class="dsq-comment-message"><p>Man, your first paragraph is *exactly* the reasons we chose the same stack for the project we&#8217;ve been working on.  Good to know we&#8217;re not alone in our thinking&#8230;</p>
<p>Good post &#8211; you&#8217;ve nicely and succinctly summed up the issues we&#8217;ve been running up against and this is very useful info.</p>
<p>Cheers,</p>
<p>Symon.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-491">
                    <div id="dsq-comment-header-491" class="dsq-comment-header">
                        <cite id="dsq-cite-491">
                                <span id="dsq-author-user-491">Ian Cooper</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-491" class="dsq-comment-body">
                        <div id="dsq-comment-message-491" class="dsq-comment-message"><p>@Derik Agreed, but teams do acquire technical debt even when we do not want too. Incremental re-architecture sometimes means that you defer the refatoring a little too long. It&#8217;s a bit like eating donoughts. I know its bad but sometimes it happens&#8230;</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-492">
                    <div id="dsq-comment-header-492" class="dsq-comment-header">
                        <cite id="dsq-cite-492">
                                <span id="dsq-author-user-492">Ian Cooper</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-492" class="dsq-comment-body">
                        <div id="dsq-comment-message-492" class="dsq-comment-message"><p>@Daniel</p>
<p>I would still avoid directly calling a factory or repository from within an entity and push that out to a service call in many circumstances. Co-ordination is the job of services. The problem is that its easy to confuse co-ordination or our abstractions with automation of business process. Having worked on systems that did not cleany seperate these, my experience is that it makes it hard to understand what the consequences of making a call are i.e. I may want to change state without persisting it yet.</p>
<p>BTW I don&#8217;t think that onion, or for my part hexagonal architectures cause aneamic domain models. In fact they work against it. In an hexagonal architecture everything outside the domain is accessed by a port/service or accesses the domain through port service. </p>
<p>The goal is to seperate technology concerns &#8211; widget logic in the presentation layer, wcf clients, etc. from the domain. This makes it easier to get your domain under unit test &#8211; because you don&#8217;t have techology concerns that you need to replace with test doubles. </p>
<p>The domain logic is the key area to get under unit test. </p>
<p>Its great to get my controllers under test so that I can confirm the communication with the view, and put quality checking in at the coding point where the feedback is most cost-effective in preventing defects but the sweet spot in terms of returns is the domain. </p>
<p>Your UI, DB, services, etc. all need functional testing to confirm the acceptance criteria for your story, and that will pick up issues with the &#8216;technology&#8217; areas.</p>
<p>Just remember to do your functional testing within the same iteration as you deliver the story not afterwards.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-493">
                    <div id="dsq-comment-header-493" class="dsq-comment-header">
                        <cite id="dsq-cite-493">
    http://blog.danielfernandes.net                            <span id="dsq-author-user-493">Ian Cooper</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-493" class="dsq-comment-body">
                        <div id="dsq-comment-message-493" class="dsq-comment-message"><p>Ian :<br />
I understand where you coming from and I will be the first to admit I am confused about DDD.</p>
<p>I read several times several DDD resources and it&#8217;s mentioned many times that Repositories, Factories and Services are here to help the domain and can be called by it. This is not to say though that for instance persistence concerns will leak into the domain or that a service need to show too much of its technical implementation. Repositories purpose is to only give the illusion of an in-memory database and therefore its interface should be left simple, an IRepository.BeginTransaction wouldn&#8217;t definitely fit in &#8220;that&#8221; kind of Repository.<br />
They don&#8217;t necessarily live above it such as in a different assembly, in such case you will immediately push some business logic outside of the domain because the domain won&#8217;t be able to use these things.<br />
In my current project we&#8217;re having to use NHibernate to map a model on top of a legacy database which uses composite keys, some parts of those keys are assigned and I wanted to make use of Factories to delegate the construction of such Ids (such as going to the database and get the next value in the sequence) and my idea was to use those factories to create Entities.<br />
It was then decided to move the factories out of the domain model at a higher level, which means from the domain model we can&#8217;t any longer construct objects and that&#8217;s been delegated to a higher level service that has access to Factories and Repositories.</p>
<p>Again, I am very confused about DDD and I am just trying to challenge other people, such as yourself, so that I can get a better opinion of it <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-494">
                    <div id="dsq-comment-header-494" class="dsq-comment-header">
                        <cite id="dsq-cite-494">
    http://blog.danielfernandes.net                            <span id="dsq-author-user-494">Daniel Fernandes</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-494" class="dsq-comment-body">
                        <div id="dsq-comment-message-494" class="dsq-comment-message"><p>Copy&#038;Paste gone mad.<br />
Previous post was mine.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-495">
                    <div id="dsq-comment-header-495" class="dsq-comment-header">
                        <cite id="dsq-cite-495">
                                <span id="dsq-author-user-495">Ian Cooper</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-495" class="dsq-comment-body">
                        <div id="dsq-comment-message-495" class="dsq-comment-message"><p>@Daniel Factoriesand repositories are definitely part of the domain. Services can be if they deal with business logic (the concept of service is general enough to fit in several layers). </p>
<p>The implementation of your repository may talk to the infrastructure layer either in the form or the API of an ORM or your own Data Access Layer if a legacy system means you can&#8217;t use an ORM). It&#8217;s fine to call the infrastructure layer from within the repository. Your hand-rolled layer is just the equivalent of NHIbernate (or whatever 3rd party ORM you use). You should be at least as well as abstracted from it as you are with NHIbernate.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-496">
                    <div id="dsq-comment-header-496" class="dsq-comment-header">
                        <cite id="dsq-cite-496">
    http://henrylearnstorock.blogspot.com/                            <span id="dsq-author-user-496">Henry Ho</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-496" class="dsq-comment-body">
                        <div id="dsq-comment-message-496" class="dsq-comment-message"><p>Which layer do you use to handle User Authentication?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-497">
                    <div id="dsq-comment-header-497" class="dsq-comment-header">
                        <cite id="dsq-cite-497">
                                <span id="dsq-author-user-497">Ian Cooper</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-497" class="dsq-comment-body">
                        <div id="dsq-comment-message-497" class="dsq-comment-message"><p>@Henry </p>
<p>Its an infrastructure layer concern. It&#8217;s ok for the presentation layer to call the infrastructure layer directly btw. </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-498">
                    <div id="dsq-comment-header-498" class="dsq-comment-header">
                        <cite id="dsq-cite-498">
    http://blog.danielfernandes.net                            <span id="dsq-author-user-498">Daniel Fernandes</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-498" class="dsq-comment-body">
                        <div id="dsq-comment-message-498" class="dsq-comment-message"><p>@Henry:<br />
As Ian said, User Authentication should definitely be in the Presentation layer as usually you would authenticate a user once.<br />
User Authorization is trickier though as it&#8217;s possible runtime business rules are required.</p>
<p>To do this you could use AOP for instance to inject &#8220;security concerns&#8221; on domain level entities.</p>
<p>MyObject {</p>
<p>  [RequiresRoles("Admin,SuperAdmin")]<br />
  public void DoThis() {</p>
<p>  }</p>
<p>}</p>
<p>Some code could be set so that it&#8217;s called before your DoThis() gets called.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-499">
                    <div id="dsq-comment-header-499" class="dsq-comment-header">
                        <cite id="dsq-cite-499">
    http://www.UdiDahan.com                            <span id="dsq-author-user-499">Udi Dahan: The Software Simplist</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-499" class="dsq-comment-body">
                        <div id="dsq-comment-message-499" class="dsq-comment-message"><p>The one rule that I&#8217;ve come up with that prevents services, controllers, or anything that works with the domain model from becoming overweight is this:</p>
<p>From outside the domain, you can use an ORM to retrieve however many objects you like, however, you get to call only one method on only one object out of all those you retrieved.</p>
<p>I&#8217;ve written a bit about this rule in my blog in this post:</p>
<p><a href="http://www.udidahan.com/2008/06/25/object-relational-mapping-sucks/" rel="nofollow">http://www.udidahan.com/2008/06/25/object-relational-mapping-sucks/</a></p>
<p>By following this rule, all domain logic tends to stay in the domain model.</p>
<p>A corrollary of this rule is that you should rarely (though I&#8217;d prefer NEVER) call Save/Update methods on your ORM. All transactional logic can be done via an aggregate root that was previously retrieved.</p>
<p>The nice thing about these rules is that they&#8217;re easily enforcable with tools like NDepend.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-500">
                    <div id="dsq-comment-header-500" class="dsq-comment-header">
                        <cite id="dsq-cite-500">
                                <span id="dsq-author-user-500">RhysC</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-500" class="dsq-comment-body">
                        <div id="dsq-comment-message-500" class="dsq-comment-message"><p>Hey Ian,<br />
Are you guys using the &#8220;Presenter First&#8221; approach? i have found this has kept my views very clean, presenters focused and domain suitably rich.<br />
*Im not getting caught up on the semantic of MVC vs MVP*</p>
<p>RhysC</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-501">
                    <div id="dsq-comment-header-501" class="dsq-comment-header">
                        <cite id="dsq-cite-501">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-501">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-501" class="dsq-comment-body">
                        <div id="dsq-comment-message-501" class="dsq-comment-message"><p>@RhysC,</p>
<p>*Im not getting caught up on the semantic of MVC vs MVP*</p>
<p>That&#8217;s not just some boring terminology.  MVC is significantly different from MVP in implementation.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-502">
                    <div id="dsq-comment-header-502" class="dsq-comment-header">
                        <cite id="dsq-cite-502">
    http://blog.danielfernandes.net                            <span id="dsq-author-user-502">Daniel Fernandes</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-502" class="dsq-comment-body">
                        <div id="dsq-comment-message-502" class="dsq-comment-message"><p>@Jeremy:<br />
I agree that there is a fundamental difference between MVC and MVP. I guess RhysC&#8217;s confusion is a reflection that a lot of frameworks around, especially MVC ones, are rarely built as &#8220;pure&#8221; implementations of said UI patterns.<br />
For instance, most people are clear with both V and C (beware of the flab as per this post) but the M is a bit of &#8220;it depends&#8221;.<br />
On a project I&#8217;m working on the M is either a DTO or an entity from the Domain Model loaded from NHibernate hence OSIV because we&#8217;re not bothered in implementating custom fetching strategies.<br />
Daniel</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-503">
                    <div id="dsq-comment-header-503" class="dsq-comment-header">
                        <cite id="dsq-cite-503">
                                <span id="dsq-author-user-503">Joe</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-503" class="dsq-comment-body">
                        <div id="dsq-comment-message-503" class="dsq-comment-message"><p>I have been fighting this &#8220;fat controller&#8221; problem myself before even a piece of code has been written.  I am having to make a major update to an application that I manage and I figured it was about time to move from spaghetti to mvc as a way to be more consistent with code and take better advantage of DRY principles.</p>
<p>Well, here I am in the planning stage of how to convert this app to MVC and I can&#8217;t wrap my head around thinking of my &#8220;pages&#8221; into objects with views.  In the page-centric design it lent itself to smaller controllers (i&#8217;m saying controller in the sense that business logic was put at the top of a file that contained both business logic and view logic.) because they were very specific to each view.  So in a sense you had one controller per view.</p>
<p>Now with these mvc frameworks, and especially ROR I see apps where the controller has 20 or even more actions in a single controller.  I just don&#8217;t see how that is a good thing.  The response I get when I ask about it is&#8230;look at your controller as an object and decide all the things it can do and make those your actions.  Well, it just seems to me that as your application life cycle progresses, you will end up with those fat controllers that have 30, 40&#8230;or more actions (or methods) in them.  So much for smaller and discrete requests!</p>
<p>After reading your post, I kinda like the way you said it might be a better solution to build your controllers around &#8220;user activities&#8221; and the examples you gave made sense.  It&#8217;s then very easy to list all the things your application should do (as an acitivity) and then control who has access to those and so on.  Rather than say&#8230;OK, I&#8217;ve got a &#8220;Cart&#8221; controller that can have 30 actions performed on it, but this user can only access..these actions, and those users can only access these other actions&#8230;pretty soon its like, why do you have all those actions in one &#8220;cart&#8221; controller when it makes the request footprint larger than it needs to be when more than half the stuff in the controller is not even being used.</p>
<p>Kinda like creating a &#8220;User&#8221; controller and putting the following actions in it: (based on controller/action)</p>
<p>user/login<br />
user/logout<br />
user/profile<br />
user/add<br />
user/edit<br />
user/delete<br />
user/&#8230;etc.</p>
<p>Why would you put, Login and Logout code in the user controller when they would only be used once.  Why load that extra code in a request each time you want to use the user object.</p>
<p>In your explanation, &#8220;logging in a user&#8221; would be an activity that would warrant it&#8217;s own controller.</p>
<p>Am I on the right track here???</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-504">
                    <div id="dsq-comment-header-504" class="dsq-comment-header">
                        <cite id="dsq-cite-504">
                                <span id="dsq-author-user-504">5x1llz</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-504" class="dsq-comment-body">
                        <div id="dsq-comment-message-504" class="dsq-comment-message"><p>Hello</p>
<p>Wow, I&#8217;ve read through all of this and have yet to find a clear/concrete example of how to assign responsibility to controllers that will KEEP them clean.</p>
<p>How come this remains so vague?</p>
<p>i.e. if you have an admin controller, you know will obviously get huge. How do you start parsing ot refactoring or designing to avoid a huge God controller that will become unusable?</p>
<p>So I guess the question is HOW.</p>
<p>Help! </p>
<p>Another great post btw Ian, you do present your idea&#8217;s and supporting principles very clearly this is why I&#8217;m always on this blog!</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-505">
                    <div id="dsq-comment-header-505" class="dsq-comment-header">
                        <cite id="dsq-cite-505">
    http://wyxylysc.com/                            <span id="dsq-author-user-505">Yavjgdgo</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-505" class="dsq-comment-body">
                        <div id="dsq-comment-message-505" class="dsq-comment-message"><p>HGKyWK </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1000">
                    <div id="dsq-comment-header-1000" class="dsq-comment-header">
                        <cite id="dsq-cite-1000">
    http://invalidcast.com/2011/05/tinyweb-series-1-getting-started/                            <span id="dsq-author-user-1000">Tinyweb Series: 1 Getting Started | invalid cast</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1000" class="dsq-comment-body">
                        <div id="dsq-comment-message-1000" class="dsq-comment-message"><p>[...] the project with a background in using the MVC pattern, my goal was to move away from the issue of fat controllers and provide less abstraction over the core functionality of [...]</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1004">
                    <div id="dsq-comment-header-1004" class="dsq-comment-header">
                        <cite id="dsq-cite-1004">
    http://www.theweeklybacon.com/development/thin-controller-fat-model/                            <span id="dsq-author-user-1004">ASP.Net MVC architecture discussion &#8211; Thin controller, fat model&nbsp;|&nbsp;The Weekly Bacon</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1004" class="dsq-comment-body">
                        <div id="dsq-comment-message-1004" class="dsq-comment-message"><p>[...] of the desired MVC separation. [Warning: It’s Ruby on Rails, but the principles are the same.]ASP.Net MVC used with NHibernate in a large project (sounds pretty familiar, right?) It’s all about the anti-pattern of Fat Controllers.Official word from ASP.Net: “In general, [...]</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1165">
                    <div id="dsq-comment-header-1165" class="dsq-comment-header">
                        <cite id="dsq-cite-1165">
    http://www.facebook.com/robin.scheper.1                            <span id="dsq-author-user-1165">Robin Scheper</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1165" class="dsq-comment-body">
                        <div id="dsq-comment-message-1165" class="dsq-comment-message"><p>How about you create an area for admins in your project and create specific sections for each administrative purpose?</p>
<p>For example:</p>
<p>/admin/products/(index | edit | new) (Admin area, ProductsController)<br />
/admin/seo/(index | edit | new) (Admin area, SeoController)</p>
<p>On a sidenote:</p>
<p>I know this post was from 2008, but i hope its a helpfull comment</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/iancooper/2008/12/03/the-fat-controller/';
    var disqus_identifier = '48 /blogs/ian_cooper/archive/2008/12/03/the-fat-controller.aspx';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'codebetteriancooper';
    var disqus_title = "The Fat Controller";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=48');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
            {
                'author_name':    "Tinyweb Series: 1 Getting Started | invalid cast",
                'author_url':    "http:\/\/invalidcast.com\/2011\/05\/tinyweb-series-1-getting-started\/",
                'date':            "05\/09\/2011 06:09 PM",
                'excerpt':        "[...] the project with a background in using the MVC pattern, my goal was to move away from the issue ...",
                'type':            "pingback"            }
,            {
                'author_name':    "ASP.Net MVC architecture discussion &#8211; Thin controller, fat model&nbsp;|&nbsp;The Weekly Bacon",
                'author_url':    "http:\/\/www.theweeklybacon.com\/development\/thin-controller-fat-model\/",
                'date':            "06\/21\/2011 03:53 PM",
                'excerpt':        "[...] of the desired MVC separation. [Warning: It’s Ruby on Rails, but the principles are the same.]ASP.Net MVC used with ...",
                'type':            "pingback"            }
        ],
        'trackback_url': "http:\/\/codebetter.com\/iancooper\/2008\/12\/03\/the-fat-controller\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
									</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 1.838 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 18:30:14 -->
<!-- super cache -->