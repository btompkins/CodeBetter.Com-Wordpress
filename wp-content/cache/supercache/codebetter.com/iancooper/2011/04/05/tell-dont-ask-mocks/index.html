<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Mocks and Tell Don&#8217;t Ask | Ian Cooper</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/iancooper/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/iancooper/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='TDD/BDD and the lean startup' href='http://codebetter.com/iancooper/2011/03/08/tddbdd-and-the-lean-startup/' />
<link rel='next' title='Why Repository SaveUpdate is a smell' href='http://codebetter.com/iancooper/2011/04/12/repository-saveupdate-is-a-smell/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/iancooper/?p=86' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,134] -->
<link rel="canonical" href="http://codebetter.com/iancooper/2011/04/05/tell-dont-ask-mocks/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-86" class="post-86 post type-post status-publish format-standard hentry category-net category-agile category-bdd category-behavior-specification category-mocks category-object-orientation category-stubs category-tdd">
					<h1 class="entry-title">Mocks and Tell Don&#8217;t Ask</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/iancooper/author/iancooper/" title="View all posts by Ian Cooper">Ian Cooper</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/iancooper/2011/04/05/tell-dont-ask-mocks/" title="12:19 pm" rel="bookmark"><span class="entry-date">April 5, 2011</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/iancooper/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/iancooper/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>One of our alumni Karl blogged a request recently for folks to <a href="http://openmymind.net/2011/3/23/Stop-Using-Mocks">stop using mocks</a>. Once upon a time I also made clear that I had a <a href="http://codebetter.com/iancooper/2008/02/04/classicist-vs-mockist-test-driven-development/">significant distrust of mocks</a>. I&#8217;ve mellowed on that position over time, so I thought that I should explain why I have changed my opinion.</p>
<p>Perhaps it would be useful to give a summary of the discussion around this. Whilst I don&#8217;t think that you need to choose between being a classicist or mockist, I think that Martin Fowler&#8217;s article on <a href="http://martinfowler.com/articles/mocksArentStubs.html">Mocks Aren&#8217;t Stubs</a> is still a good starting point for understanding the debate, because it talks about the different types of <a href="http://xunitpatterns.com/Test%20Double.html">Test Double</a>, as well as outlining approaches to their usage. However, for my part, Martin does not highlight Meszaros&#8217;s key distinction between replacing <a href="http://xunitpatterns.com/indirect%20input.html">indirect inputs</a> and monitoring <a href="http://xunitpatterns.com/indirect%20output.html">indirect outputs</a>. Both mention the danger of <a href="http://xunitpatterns.com/Fragile%20Test.html#Overspecified%20Software">Over-specified Software</a> from Mocks, and Meszaros cautions to <a href="http://xunitpatterns.com/Principles%20of%20Test%20Automation.html#Use%20the%20Front%20Door%20First">Use the Front Door</a>. On the other side the proponents of mocks have always pointed to their admonition to<a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.100.2927&amp;rep=rep1&amp;type=pdf"> Mock Roles Not Objects </a>{PDF}. <a href="http://www.growing-object-oriented-software.com/">Growing Object Oriented Software, Guided by Tests</a> (GooS) is probably the best expression of their technique today.</p>
<p>The key to understanding mocks to me was that the motivation behind Mocks, revealed in GooS is to support the <a href="http://pragprog.com/articles/tell-dont-ask">Tell Don&#8217;t Ask</a> principle. Tim Mackinnon notes that:</p>
<blockquote><p>In particular, I had noticed a tendency to add “getter” methods to our  objects to facilitate testing. This felt wrong, since it could be seen  as violating object-oriented principles, so I was interested in the  thoughts of the other members. The conversation was quite lively—mainly  centering on the tension between pragmatism in testing and pure  object-oriented design.</p></blockquote>
<p>For me understanding this goal for mock objects was something of a revelation in how I understood them to be used. Previously I had heard arguments that centered around the concept of a unit test needing isolation being the driver for use of mocking frameworks, but now I can see them as tools helping us avoid asking the object about its internal state.</p>
<p>Within any test we tend to follow the same pattern: set up the pre-conditions for the test, exercise the test and then check post-conditions. It&#8217;s the latter step that causes the pain for developers working towards a Tell Don&#8217;t Ask principle &#8211; how do I confirm the post-conditions without asking objects for their state.</p>
<p>This is a concern because objects should encapsulate state and expose behavior (whereas data structures have state but no behavior). This helps avoid <a href="http://en.wikipedia.org/wiki/Code_smell">feature envy</a>, where an objects collaborator holds the behavior of that object, in a set of calls to discover its state instead of asking the object to carry out the behavior on the state itself. This leads to coupling and makes our software more rigid (difficult to change) and brittle (likely to break when we do change it).</p>
<p>But this leads to the question: how do we confirm the post-conditions if we have no getters?</p>
<p>Mocks come into play where we decide to confirm is the behavior of the class-under-test through its interaction with its collaborators, instead of through getters checking the state. This is the meaning of behavior-based testing over state-based testing, although you might want to think of it as message-based testing, because what you really care about is the messages that you send to your collaborators.</p>
<p>Now when we talk about confirming behavior, recognize that in a Tell Don&#8217;t Ask style the objects we are interested in confirming our interaction with are the indirect outputs of the class under test, not the indirect inputs (classes that we get state from). In an ideal world of course, we won&#8217;t have many indirect inputs (we want Tell Don&#8217;t Ask remember), but most people will tend to be realistic about how far they can take a Tell Don&#8217;t Ask approach. Those indirect inputs may continue to be fakes, stubs, or even instances of collaborators created with TestDataBuilders or ObjectMothers. Of course the presence of a lot of them in our test setup is a smell that we have not followed a Test Don&#8217;t Ask approach.</p>
<p>It is also likely that many of our concerns about over-specified software with mocks often come from the coupling caused by these indirect inputs over indirect outputs. They are likely to reveal most about the implementation of the their collaborator. By contrast where we tell an object to do something for us, we likely let it hide the implementation details from us. Of course we need to beware of feature envy from calling a lot of setters instead of simply calling a method on the collaborator. This chattiness is again a feature envy design smell.</p>
<p>I have come to see an over-specified test when using mocks is not a problem of using mocks themselves, but mocks surfacing the problem that the class-under-test is not telling collaborators to perform actions at a granular enough level, or is asking too many questions of collaborators.</p>
<p>Finally one question that often arises here is: if we are just handing off to other classes, how do we know that the state was eventually correct i.e. the algorithm calculated the right value, or we stored the correct information. One catch-all option is to use a visitor, and pass it in so that the class-under-test can populate it with the state that you need to observe. Other options include observers that listen for changes. Of course at some point you need to consume the data from the visitor or the event sent to the observer &#8211; but the trick here is to use a data structure where it is acceptable to expose state (but not to have behavior).</p>
<p><a href="http://cqrsinfo.com/">CQRS</a> also has huge payoffs for a Tell Don&#8217;t Ask approach. Because your write side rarely needs to &#8216;get&#8217; the state, you can defer the question of where we consume the data &#8211; the read side does it, in the simplest fashion of just creating data structures directly. Event Sourcing also has benefits here, because you can confirm the changes to the state made to the object by examining the events raised by the class under test instead of asking the object for its state.</p>
<div class="shr-publisher-86"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/b033a6c1af4ee8d7a734f3684225ea8a?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=R' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Ian Cooper</h2>
							Ian Cooper has over 18 years of experience delivering Microsoft platform solutions in government, healthcare, and finance. During that time he has worked for the DTi, Reuters, Sungard, Misys and Beazley delivering everything from bespoke enterpise solutions to 'shrink-wrapped' products to thousands of customers. Ian is a passionate exponent of the benefits of OO and Agile. He is test-infected and contagious. When he is not writing C# code he is also the and founder of the London .NET user group. http://www.dnug.org.uk							<div id="author-link">
								<a href="http://codebetter.com/iancooper/author/iancooper/" title="View all posts by Ian Cooper">View all posts by Ian Cooper &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/iancooper/category/net/" title="View all posts in .Net" rel="category tag">.Net</a>, <a href="http://codebetter.com/iancooper/category/agile/" title="View all posts in Agile" rel="category tag">Agile</a>, <a href="http://codebetter.com/iancooper/category/bdd/" title="View all posts in BDD" rel="category tag">BDD</a>, <a href="http://codebetter.com/iancooper/category/behavior-specification/" title="View all posts in Behavior Specification" rel="category tag">Behavior Specification</a>, <a href="http://codebetter.com/iancooper/category/mocks/" title="View all posts in Mocks" rel="category tag">Mocks</a>, <a href="http://codebetter.com/iancooper/category/object-orientation/" title="View all posts in Object-Orientation" rel="category tag">Object-Orientation</a>, <a href="http://codebetter.com/iancooper/category/stubs/" title="View all posts in Stubs" rel="category tag">Stubs</a>, <a href="http://codebetter.com/iancooper/category/tdd/" title="View all posts in TDD" rel="category tag">TDD</a>. Bookmark the <a href="http://codebetter.com/iancooper/2011/04/05/tell-dont-ask-mocks/" title="Permalink to Mocks and Tell Don&#8217;t Ask" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/iancooper/2011/04/05/tell-dont-ask-mocks/feed/" title="Comments RSS to Mocks and Tell Don&#8217;t Ask" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-86 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/iancooper/2011/03/08/tddbdd-and-the-lean-startup/" rel="prev"><span class="meta-nav">&larr;</span> TDD/BDD and the lean startup</a></div>
					<div class="nav-next"><a href="http://codebetter.com/iancooper/2011/04/12/repository-saveupdate-is-a-smell/" rel="next">Why Repository SaveUpdate is a smell <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-976">
                    <div id="dsq-comment-header-976" class="dsq-comment-header">
                        <cite id="dsq-cite-976">
    http://www.m3p.co.uk/blog                            <span id="dsq-author-user-976">Steve Freeman</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-976" class="dsq-comment-body">
                        <div id="dsq-comment-message-976" class="dsq-comment-message"><p>Thanks for saying this. We&#8217;ve spent so much time over the years having the wrong kind of disagreements over just these arguments. The answer is almost always to listen to the tests.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-977">
                    <div id="dsq-comment-header-977" class="dsq-comment-header">
                        <cite id="dsq-cite-977">
    https://profiles.google.com/oliver.bye                            <span id="dsq-author-user-977">Oli Bye</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-977" class="dsq-comment-body">
                        <div id="dsq-comment-message-977" class="dsq-comment-message"><p>Thanks for picking out the point about adding getters simply for testing feeling wrong. Tim and I always felt this. Not being able to add getters to HttpServletRequest forced us to Mock it.</p>
<p>On your last note:<br />
CQRS, feels much like the decoupling that original Taligent MVP pattern achieves <a href="http://www.wildcrest.com/Potel/Portfolio/mvp.pdf" rel="nofollow">http://www.wildcrest.com/Potel/Portfolio/mvp.pdf</a>. Indeed I unit test our presenters simply my checking the commands they apply to their selections. It&#8217;s not important to test what the commands do to the model in presenter tests, that&#8217;s what we do when unit testing the commands.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-978">
                    <div id="dsq-comment-header-978" class="dsq-comment-header">
                        <cite id="dsq-cite-978">
    http://blog.cwa.me.uk/2011/04/06/the-morning-brew-828/                            <span id="dsq-author-user-978">The Morning Brew &#8211; Chris Alcock &raquo; The Morning Brew #828</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-978" class="dsq-comment-body">
                        <div id="dsq-comment-message-978" class="dsq-comment-message"><p>[...] Mocks and Tell Don&#8217;t Ask &#8211; Ian Cooper continues the discussion of Mocks, explaining how his opinion of distrusting mocks has changed over time, discussing the &#8216;Tell, don&#8217;t ask&#8217; principle, and CQRS along the way. [...]</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-979">
                    <div id="dsq-comment-header-979" class="dsq-comment-header">
                        <cite id="dsq-cite-979">
    http://blog.cleverswine.net/2011/04/07/links-for-2011-04-06/                            <span id="dsq-author-user-979">links for 2011-04-06 &laquo; blog.cleverswine.net</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-979" class="dsq-comment-body">
                        <div id="dsq-comment-message-979" class="dsq-comment-message"><p>[...] Mocks and Tell Don’t Ask | Ian Cooper (tags: testing mocks programming unittesting) [...]</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-981">
                    <div id="dsq-comment-header-981" class="dsq-comment-header">
                        <cite id="dsq-cite-981">
                                <span id="dsq-author-user-981">Steve Py</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-981" class="dsq-comment-body">
                        <div id="dsq-comment-message-981" class="dsq-comment-message"><p>Not sure I follow exactly. Part of the problem with Karl&#8217;s original post was his definition of Mocks vs. Stubs. What he did was still use a mock, just loosened the definition. For example with Moq, using It.IsAny rather than mocking around specific parameters. Unit tests should not get too bogged down with mocking exactly how a dependency is called, only if it is called, or should not be called. (IMO, the key difference between a stub and mock is Mocks provide this assertion.)</p>
<p>Code under test should never need to expose additional state for unit tests to review, because unit tests should only be testing public state (return values) or publicly accessible behaviour. Determining if behaviour has been triggered correctly is the role of mocks. For example if on a call to save a domain object you have a validation service and a domain persistence service as dependencies, an example unit test scenario for behaviour would be to assert that if the Validation returns an invalid response, that the domain persistence service *isn&#8217;t* called. Details on how the validation call is made are irrelevant, the only relevance that it returned failure.</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/iancooper/2011/04/05/tell-dont-ask-mocks/';
    var disqus_identifier = '86 /blogs/ian_cooper/archive/2010/11/16/tell-don-t-ask-mocks-and-event-sourcing-oh-my.aspx';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'codebetteriancooper';
    var disqus_title = "Mocks and Tell Don&#8217;t Ask";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=86');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
            {
                'author_name':    "The Morning Brew - Chris Alcock &raquo; The Morning Brew #828",
                'author_url':    "http:\/\/blog.cwa.me.uk\/2011\/04\/06\/the-morning-brew-828\/",
                'date':            "04\/06\/2011 07:34 AM",
                'excerpt':        "[...] Mocks and Tell Don&#8217;t Ask - Ian Cooper continues the discussion of Mocks, explaining how his opinion of distrusting ...",
                'type':            "pingback"            }
,            {
                'author_name':    "links for 2011-04-06 &laquo; blog.cleverswine.net",
                'author_url':    "http:\/\/blog.cleverswine.net\/2011\/04\/07\/links-for-2011-04-06\/",
                'date':            "04\/07\/2011 06:04 AM",
                'excerpt':        "[...] Mocks and Tell Don’t Ask | Ian Cooper (tags: testing mocks programming unittesting) [...] ",
                'type':            "pingback"            }
        ],
        'trackback_url': "http:\/\/codebetter.com\/iancooper\/2011\/04\/05\/tell-dont-ask-mocks\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
									</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.878 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 18:44:00 -->
<!-- super cache -->