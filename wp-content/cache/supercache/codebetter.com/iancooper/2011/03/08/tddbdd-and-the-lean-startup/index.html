<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>TDD/BDD and the lean startup | Ian Cooper</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/iancooper/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/iancooper/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Alt.Next' href='http://codebetter.com/iancooper/2011/01/16/alt-next/' />
<link rel='next' title='Mocks and Tell Don&#8217;t Ask' href='http://codebetter.com/iancooper/2011/04/05/tell-dont-ask-mocks/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/iancooper/?p=110' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,131] -->
<link rel="canonical" href="http://codebetter.com/iancooper/2011/03/08/tddbdd-and-the-lean-startup/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<meta property='og:image' content='http://www.extremeprogramming.org/images/pixel.gif' />

<!-- End Shareaholic OgTags -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-110" class="post-110 post type-post status-publish format-standard hentry category-agile category-atdd category-bdd category-stdd category-tdd category-uncategorized">
					<h1 class="entry-title">TDD/BDD and the lean startup</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/iancooper/author/iancooper/" title="View all posts by Ian Cooper">Ian Cooper</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/iancooper/2011/03/08/tddbdd-and-the-lean-startup/" title="9:38 am" rel="bookmark"><span class="entry-date">March 8, 2011</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/iancooper/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/iancooper/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>A post at <a title="Hacker News TDD" href="http://news.ycombinator.com/item?id=2240595">Hacker News</a> caused a little bit of a storm on Twitter, by questioning if a lean startup needed to use <a href="http://www.extremeprogramming.org/rules/testfirst.html">Test First</a> or if it was an obstacle to delivery.</p>
<p><strong>Build the right thing, or avoid Rework<br />
</strong></p>
<p>The poster complains that test first approaches don&#8217;t match with market driven evaluation of features:</p>
<blockquote><p>Most of the code in a lean startup are hypotheses that will be tested by the market, and possibly thrown out (even harder to rewrite test cases with slightly different requirements over writing from the beginning).</p></blockquote>
<p>First let&#8217;s look at a big reduction on the cost of delivery of software &#8211; building the right thing in the first place. Those people who come from a background in organizations with little or no process, often confuse Agile&#8217;s attack on process over software as support for having no process. It is not. In many ways classical agile is best understood in the context of what went before, heavyweight process, often waterfall such as SSADM. In these cases up to a third of the project&#8217;s time was spent in the design phase, before code was written. We don&#8217;t want the waste associated with that, but we do want <a href="http://www.infoq.com/articles/many-levels-planning-agile-project">just enough process</a> and we want it at the last responsible moment.</p>
<p>Test-First approaches focus on ensuring that we think about the acceptance criteria for the software we are about to build. The big danger we are trying to avoid is re-work. It is estimated that <a href="http://www.ebgconsulting.com/reqtproblems.php">50% of a project&#8217;s overrun costs come down to rework</a>. Creating a testable specification, through a Given-When-Then scenario or use case helps us to turn a woolly and vague requirement, such as we need to show how late a tube train is running, to something more concrete. We are forced to consider the edge cases, and the failure conditions. It is cheaper to consider these before the code is written, than through writing code and adjusting it afterwards. There will always be some rework, particularly around UX, but we can remove the obvious communication barriers by having a structured conversation around the requirements.</p>
<p>BDD and ATDD emphasize avoiding rework by ensuring that you have the acceptance criteria for a story defined before work begins. The process of defining those criteria, often through a story workshop is much of the value, the creation of  a shared understanding of how the product should work. Usually that workshop occurs in the preceding iteration, and takes about 10-15% of the time in that iteration. Whilst some folks consider it non-agile to work on the next iteration&#8217;s requirements, this really is the last responsible moment, because you may raise questions when discussing the acceptance detail for a story that take time to answer, and you don&#8217;t want to stall the line to answer them in an iteration.</p>
<p>So its important to understand that in this context Test-First is about reducing waste in the development cycle, not increasing it.</p>
<p>From <a href="http://www.extremeprogramming.org/rules/testfirst.html">Extreme Programming</a>:</p>
<blockquote><p>Creating a unit test helps a developer to really consider what needs to be done. Requirements are nailed down firmly by tests. There can be no misunderstanding a specification written in the form of executable code.<br />
<img src="http://www.extremeprogramming.org/images/pixel.gif" border="0" alt=" " width="45" height="4" align="bottom" /></p></blockquote>
<p>We still need to address the question of what will work in the marketplace; what if your feature is supposed to &#8220;test the water&#8221;. Usually, the concern here is whether testing is wasted effort if you decide to throw the feature away. Some of that depends on what we think the cost of working test first is &#8211; and I&#8217;ll get to that next, but an alternative to waste reduction here is to look at incremental development approaches. Figure out what the minimum marketable feature set is, and release that to gain feedback.</p>
<p>With subsequent iterations increment the feature set, if feedback suggests that it is successful. However, at the heart of this is that a good product depends on a good vision, cleanly and simply executed.</p>
<p>Think about the great products you know, they will tend to focus on doing one thing and doing it well, not being a jack of all trades. The scatter-gun approach tends to indicate a lack of product vision to me, not an effective strategy for uncovering what your users want. Build something simple, and wait for feedback on additional capabilities. But they have to buy your vision.</p>
<p>There are many emerging ideas on how to reduce the cost of discovering the market demand for new features, without building them. The <a href="http://www.pretotyping.org/">Pretotyping </a>guys are gaining some publicity, but there are also the <a href="http://www.nearfuturelaboratory.com/2009/03/17/design-fiction-a-short-essay-on-design-science-fact-and-fiction/">Design Fiction</a> crowd. Both talk about the step before even prototyping when you try to determine the viability of an idea. Recently at <a href="http://blog.huddle.net/">Huddle </a>we have been practicing <a href="http://thinkingphp.org/spliceit/docs/0.1_alpha/pages/ddd_info.html">Documentation Driven Development</a> in an effort to gain feedback on proposed <a href="http://code.google.com/p/huddle-apis/">API designs</a>, before we build them.</p>
<p><strong>Feedback, and the cost of TDD<br />
</strong></p>
<p>The poster on Hacker News complains of the time taken to write tests:</p>
<blockquote><p>There always seems to be about 3-5x as much code for a feature&#8217;s respective set of tests as the actual feature (just takes a lot of damn time to write that much code).</p></blockquote>
<p>It&#8217;s crazy talk to suggest that developers ship code without testing it in some way. Before TDD the best practices that I used to follow talked about spinning up the debugger and tracing every line of code that you had written to make sure it behaved as you expected. Spinning up the debugger and tracing is expensive, far more expensive than unit testing where you hope not to have to start a debugging session to implement a test (it&#8217;s usually a sign &#8211; to use Kent Beck&#8217;s stick shift analogy &#8211; that you are in the wrong gear in TDD and need to shift down by writing lower level tests).</p>
<p>In addition, getting this code to the point you can debug may be hard, requiring a number of steps to put the system in the right step. Unit tests are isolated from these concerns, which makes their context easier to establish, you have no such luck with manual tracing.</p>
<p>This problem only gets worse if you have to repeatedly spin up the debugger to trace through the code as you enhance it. Most folks break a problem down into parts to solve it, adding new capabilities. They are naturally incremental. So this means you need to perform this test run through repeatedly.</p>
<p>In addition, unit tests are not particularly new and have been a recommended practice for year. Many developers wrote self-testing code, that came with a simple harness to establish context and exercise the code, asserting on failure, before test first capitalized on the approach, but switched to writing tests first. Anyone who cares about their code being correct ought to be unit testing, and if you write the test last you are in the unenviable position of paying the cost to trace the code while you develop as well as writing a unit test after.</p>
<p>So usually, any halfway responsible developer is doing more work to prove his code is correct without test first rather than with.</p>
<p>The problem is that we tend to measure time to write the code, which seems slower with up-front tests, instead of time to fashion working code, which is often much faster with tests. Because of this we feel that test first takes longer. But we need to look at all the effort we expend to deliver the story end-to-end, which in this case tends to make dropping test first look like a local optima.</p>
<p>In addition, even if there was zero gain for test first, or a little worse, the side-affect of gaining a test suite that you can re-run exceeds any likely gains from not doing test first. So the barrier for tests to prove their value in cost to develop a feature is low.</p>
<p>The cost of ownership of tests can cause some concerns. The poster at Hacker News complains that:</p>
<blockquote><p>When we pivot or iterate, it seems we always spend a lot of time finding and deleting test cases related to old functionality (disincentive on iterating/pivoting, software is less flexible).</p></blockquote>
<p>One problem with &#8216;expensive&#8217; tests is often that implementers have not looked into best practice. Test code has its own rules, and is not a second class citizen. You need to both keep up to date with best practice to keep your test code in good shape. Too many teams fail to understand the importance of mastering the discipline of unit testing, in order to make it cost effective. As a starter, I would look at both <a href="http://xunitpatterns.com/">xUnit Test Patterns</a>, the <a href="http://www.pragprog.com/titles/achbd/the-rspec-book">RSpec book</a> and <a href="http://www.growing-object-oriented-software.com/">Growing Object Oriented Software Guided ByTests</a> if you need more advice on current practice.</p>
<p>I may write a longer post on this at some point, but my approach is to use a <a href="http://alistair.cockburn.us/Hexagonal+architecture">Hexagonal, or ports and adapters, architecture</a> with unit tests focused on exercising scenarios at the port, and diving deeper if you need to shift gears. Briefly though, one reason people find tests expensive to own is an over-reliance on <a href="http://xunitpatterns.com/Testcase%20Class%20per%20Class.html">Testcase class per class</a> instead of <a href="http://xunitpatterns.com/Testcase%20Class%20per%20Feature.html">Testcase per class Feature</a> or Testcase per Scenario. Remember that you care about putting your public API under test, which is usually the port level in a Hexagonal architecture, perhaps a number of top-level domain classes exercised in those ports. You may want to wrap internals when you need to shift down a gear, in Kent Beck&#8217;s terminology, because you are unsure of the road  ahead, but don&#8217;t succumb to the temptation to believe Test First is about testing every class in your solution. This will only become an obstacle to refactoring, because your changes will break tests, as you change the internal structure of your application, which makes testing itself feel as though it makes the application more brittle.</p>
<p>Often too many tests breaking is a sign that you have not encapsulated your implementation enough, exposing it all publicly, and you are over-specifying that implementation through tests.</p>
<p><strong>Acceptance and Unit Tests</strong></p>
<p>Let&#8217;s agree definitions. Acceptance tests confirm that a story is done-done whereas a unit test confirms that a part is correct. Or to put it another way unit tests confirm that we have built the software right, acceptance tests that we built the right software.</p>
<p>A lot of the above discussion focuses on unit tests, but when we get to acceptance tests the situation can get a little more complex. Acceptance testing may be automated, but it may also be manual and the trade off on when to automate is a more difficult one to make than when using unit testing.</p>
<p>Now the clear win tends to come when you have well-defined business rules that you want to automate. Provided you have a hexagonal, or ports and adapters architecture, you can usually test these at the port  &#8211; i.e. sub-cutaneously without touching the UX. So they tend to be similar to unit tests written at the same level, they just go end-to-end.</p>
<p>Automated tests tend to be a little more complex when they go end-to-end, because you have to worry about setting up data in the required state for the test to run. If you find your tests taking too long to write, you may need to break out common functionality such as setting up context in a <a href="http://www.natpryce.com/articles/000714.html">TestDataBuilder</a>. (The TestDataBuilder pattern is also useful in unit tests for setting up complex collaborating objects).</p>
<p>There is a misunderstanding that acceptance tests are about tooling, using <a href="http://fitnesse.org/">Fitnesse</a>, <a href="http://cukes.info/">Cucumber </a>or the like. It&#8217;s about agreeing acceptance criteria up front, the clarity of the story that is provided through that preventing rework, and the automation of the confirmation so that what is done stays done. The appropriate tooling depends on how you need to communicate the resulting tests &#8211; with a ports-and-adapters architecture you just need a need a testrunner to execute code, and that testrunner may be written in natural language or code depending on the audience.</p>
<p>Because much of the value to acceptance tests comes from defining done-done it would be possible to suggest that automating these tests gives less value back than the process of agreeing the test plan. However that suite of automated tests gives you quick regression testing support, and that supports your ability to re-write instead of refactor. Unit tests support preserving behaviour whilst refactoring, but this does not include changing the public interface; for that i.e. preserving the business rules while making large scale changes, you need some acceptance tests.</p>
<p>It is common for teams that do hit the bar of effective unit testing to fail at the bar of acceptance testing.</p>
<p>My previous experience working both with and without acceptance tests is that without acceptance tests we often find bugs creeping in the software that our unit test suite does not catch. This is especially true if our acceptance tests are our only integration tests. If we do no enforce the strict policy that existing acceptance tests must be green before check in, we often get builds that introduce regression issues, that may go uncaught for some period of time. It&#8217;s this long feedback loop, between an issue being created by a check in and then discovered that causes us significant issues &#8211; because we do not know what change led to the regression issue.</p>
<p>So by avoiding the cost of acceptance tests we risk the costs of the work to fix those regression defects and because the point between the defect being discovered and a developer making a check in long, they may cost more to fix than writing the acceptance tests would have done.</p>
<p>In environments where I have enforced acceptance tests being green before check-in the quality of software improved and when regression issues did emerge it was clear to the developer that thier changes had caused the issue, leading to faster resolution (and preserving the current test environments).</p>
<p>Of course this may depend on how long it takes to regression test your software. That situation seems to many even more marginal when we think about automating UI tests for acceptance. Often the cost of <a href="http://blog.objectmentor.com/articles/2010/01/04/ui-test-automation-tools-are-snake-oil">keeping pace with changes to the UI within tests can seem to be fruitless</a>. Particularly in early stages of a product the cost of creating and maintaining UX tests can seem to exceed their value. You can end up in a scenario where the cost of a manual regression test run is less than the cost of maintaining an automated test suite, and finds more defects.</p>
<p>This is especially true if you have a thin UI adapter layer over your ports, with acceptance tests against the ports catching your end-to-end issues. You already have plenty of behaviour preserving functionality around your business rules, so now the UI tests should really be only picking up UI defects (of course if you have a <a href="http://en.wikipedia.org/wiki/Magic_pushbutton">Magic Pushbutton</a> architecture all bets are off as you will can&#8217;t easily write tests without exercising the UI)</p>
<p>The problem becomes that this equation holds true, until it doesn&#8217;t. At a certain point the manual regression test costs become an obstacle to regular releases &#8211; simply put it takes you too long to confirm the software, and the cost of releasing rises to the point that you often defer it, because you don&#8217;t have sufficient value in a release compared to the regression testing effort.</p>
<p>At that point you will wish you had been building those automated UI tests all along.</p>
<p>I think there is a point where you need to begin UX automation, but it is hard to call the exact point when you begin doing that. It may depend on your ability to create adequate coverage through acceptance tests written against your ports, it may depend on the complexity of the UI. Up to now I think I have always started too early, regretted it and abandoned the effort, then resumed too later because of that. I need to learn more here before I can make a call on getting this right. Again I suspect that understanding best practice around this type of testing might help, and I&#8217;d be happy for anyone sharing links in the comments below.</p>
<p><strong>TDD/BDD and the Lean Startup</strong></p>
<p>Overall I think that there are two dangers to the simplistic position given by the original poster. The first is to mistake reducing the time taken to get to the point where you can run code, as reducing the time taken to get to the point where you can release code. Once you appreciate the two are not the same, and look at overall costs and benefits, the value of TDD/BDD becomes more compelling. The second is to mistake lack of understanding of best practice in TDD with a failure in the process itself. We have come a long way in the last few years in learning how to reduce the costs of writing and owning tests, and they should be judged in that context.</p>
<div class="shr-publisher-110"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/b033a6c1af4ee8d7a734f3684225ea8a?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=R' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Ian Cooper</h2>
							Ian Cooper has over 18 years of experience delivering Microsoft platform solutions in government, healthcare, and finance. During that time he has worked for the DTi, Reuters, Sungard, Misys and Beazley delivering everything from bespoke enterpise solutions to 'shrink-wrapped' products to thousands of customers. Ian is a passionate exponent of the benefits of OO and Agile. He is test-infected and contagious. When he is not writing C# code he is also the and founder of the London .NET user group. http://www.dnug.org.uk							<div id="author-link">
								<a href="http://codebetter.com/iancooper/author/iancooper/" title="View all posts by Ian Cooper">View all posts by Ian Cooper &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/iancooper/category/agile/" title="View all posts in Agile" rel="category tag">Agile</a>, <a href="http://codebetter.com/iancooper/category/atdd/" title="View all posts in ATDD" rel="category tag">ATDD</a>, <a href="http://codebetter.com/iancooper/category/bdd/" title="View all posts in BDD" rel="category tag">BDD</a>, <a href="http://codebetter.com/iancooper/category/stdd/" title="View all posts in STDD" rel="category tag">STDD</a>, <a href="http://codebetter.com/iancooper/category/tdd/" title="View all posts in TDD" rel="category tag">TDD</a>, <a href="http://codebetter.com/iancooper/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/iancooper/2011/03/08/tddbdd-and-the-lean-startup/" title="Permalink to TDD/BDD and the lean startup" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/iancooper/2011/03/08/tddbdd-and-the-lean-startup/feed/" title="Comments RSS to TDD/BDD and the lean startup" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-110 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/iancooper/2011/01/16/alt-next/" rel="prev"><span class="meta-nav">&larr;</span> Alt.Next</a></div>
					<div class="nav-next"><a href="http://codebetter.com/iancooper/2011/04/05/tell-dont-ask-mocks/" rel="next">Mocks and Tell Don&#8217;t Ask <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-960">
                    <div id="dsq-comment-header-960" class="dsq-comment-header">
                        <cite id="dsq-cite-960">
                                <span id="dsq-author-user-960">guest</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-960" class="dsq-comment-body">
                        <div id="dsq-comment-message-960" class="dsq-comment-message"><p>Great post, thanks.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-961">
                    <div id="dsq-comment-header-961" class="dsq-comment-header">
                        <cite id="dsq-cite-961">
                                <span id="dsq-author-user-961">Paul</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-961" class="dsq-comment-body">
                        <div id="dsq-comment-message-961" class="dsq-comment-message"><p>Ian,</p>
<p>A really key point in your post is this &#8211; &#8220;Briefly though, one reason people find tests expensive to own is an over-reliance on Testcase class per class instead of Testcase per class Feature or Testcase per Scenario&#8221;.</p>
<p>And that is where I am at now. I have seen the folly of my ways, which involved testing every class and every method, in the spirit of code coverage. What I ended up with was a loss in productivity, some brittle tests, many useless tests,  and frustration. As I have moved to a more feature testing approach, I find that I dive down for granular tests when I need it, not by default. Testing seems to have more immediate value when I follow this approach.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-962">
                    <div id="dsq-comment-header-962" class="dsq-comment-header">
                        <cite id="dsq-cite-962">
                                <span id="dsq-author-user-962">Bored</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-962" class="dsq-comment-body">
                        <div id="dsq-comment-message-962" class="dsq-comment-message"><p>Good God, too long.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-963">
                    <div id="dsq-comment-header-963" class="dsq-comment-header">
                        <cite id="dsq-cite-963">
    http://www.infovark.com                            <span id="dsq-author-user-963">Dean Thrasher</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-963" class="dsq-comment-body">
                        <div id="dsq-comment-message-963" class="dsq-comment-message"><p>Great post, Ian. Like you, I&#8217;ve found much of the pain and cost of unit testing comes from learning how to do it properly. It took us several months of stumbling through unit testing anti-patterns before we discovered some of the tricks. Some of these involved restructuring the production codebase to support testing, and some involved refactoring the test code itself to improve isolation.</p>
<p>Once we&#8217;d gotten past this learning curve, we found testing to be invaluable. Now I can&#8217;t imagine working on production code without having a suite of tests. It&#8217;s become a natural part of our development process.</p>
<p>I suppose if you&#8217;re working on an early-stage consumer web application, where the cost to deploy fixes are low, and the costs of alienating customers is low, you might be able to argue that TDD is a drag on productivity. But that&#8217;s a narrow, special case. </p>
<p>Even then, as soon as the visibility of the service, and its reliability and its maintainability become important, you&#8217;ll need automated tests.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-968">
                    <div id="dsq-comment-header-968" class="dsq-comment-header">
                        <cite id="dsq-cite-968">
                                <span id="dsq-author-user-968">Lee Brandt</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-968" class="dsq-comment-body">
                        <div id="dsq-comment-message-968" class="dsq-comment-message"><p>&#8220;The problem becomes that this equation holds true, until it doesn’t. &#8221;</p>
<p>Best description ever. It is so true. I find myself trying to explain this to people who are resistant to TDD/ATDD all the time. </p>
<p>Thanks.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-980">
                    <div id="dsq-comment-header-980" class="dsq-comment-header">
                        <cite id="dsq-cite-980">
    http://www.modularhomesnetwork.com/                            <span id="dsq-author-user-980">Manufactured Homes</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-980" class="dsq-comment-body">
                        <div id="dsq-comment-message-980" class="dsq-comment-message"><p>Thanks that you offer that tips but i can use it because i dont know how. Thanks anyway</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1003">
                    <div id="dsq-comment-header-1003" class="dsq-comment-header">
                        <cite id="dsq-cite-1003">
    http://oohweeooh.com/tdd-so-far-so-good                            <span id="dsq-author-user-1003">TDD, So Far So Good &#8211; The Omega Project</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1003" class="dsq-comment-body">
                        <div id="dsq-comment-message-1003" class="dsq-comment-message"><p>[...] I talk about the project, I&#8217;d like to give a brief overview of the whole war over TDD. A lot of people preach the use of TDD because of several [...]</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/iancooper/2011/03/08/tddbdd-and-the-lean-startup/';
    var disqus_identifier = '110 http://codebetter.com/iancooper/?p=110';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'codebetteriancooper';
    var disqus_title = "TDD\/BDD and the lean startup";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=110');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
            {
                'author_name':    "TDD, So Far So Good &#8211; The Omega Project",
                'author_url':    "http:\/\/oohweeooh.com\/tdd-so-far-so-good",
                'date':            "06\/13\/2011 05:52 AM",
                'excerpt':        "[...] I talk about the project, I&#8217;d like to give a brief overview of the whole war over TDD. A ...",
                'type':            "pingback"            }
        ],
        'trackback_url': "http:\/\/codebetter.com\/iancooper\/2011\/03\/08\/tddbdd-and-the-lean-startup\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
									</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.417 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 19:48:21 -->
<!-- super cache -->