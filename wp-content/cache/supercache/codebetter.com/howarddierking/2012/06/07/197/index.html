<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Getting Started with NodeJS &#8211; Migrating RestBugs | Howard Dierking</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/howarddierking/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/howarddierking/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Web Optimization in Visual Studio 2012 RC' href='http://codebetter.com/howarddierking/2012/06/04/web-optimization-in-visual-studio-2012-rc/' />
<link rel='next' title='RestBugs Ported to Node' href='http://codebetter.com/howarddierking/2012/06/09/restbugs-ported-to-node/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/howarddierking/?p=197' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,162] -->
<meta name="keywords" content="uncategorized" />
<link rel="canonical" href="http://codebetter.com/howarddierking/2012/06/07/197/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=3981720249">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-197" class="post-197 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Getting Started with NodeJS &#8211; Migrating RestBugs</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/howarddierking/author/howarddierking/" title="View all posts by Howard Dierking">Howard Dierking</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/howarddierking/2012/06/07/197/" title="3:55 pm" rel="bookmark"><span class="entry-date">June 7, 2012</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/howarddierking/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/howarddierking/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>I&#8217;m intrigued by node &#8211; partly because of all the recent hype and &#8216;cool kid&#8217; factor &#8211; but mostly because I like the idea of having a single language context on both client and server.  Plus, the overall programming style for authoring Web apis feels similar to the style I enjoyed in sinatra.  At any rate, in an effort to better understand node, I&#8217;m porting <a href="https://github.com/howarddierking/RestBugs">RestBugs </a>from ASP.NET Web API to node.</p>
<p>Here&#8217;s where I&#8217;m at currently &#8211; <a href="https://github.com/howarddierking/RestBugs/blob/NodeJS/RestBugs-Node/app.js">https://github.com/howarddierking/RestBugs/blob/NodeJS/RestBugs-Node/app.js</a></p>
<p>It feels like I&#8217;m actually close to a completely working application &#8211; however, there are a couple things (1 thing really) that&#8217;s keeping it from working, and before I go write a bunch of code to do something totally hacky, I would rather just ask you good people.  Here&#8217;s a sample of the type of code in question.</p>
<script src="http://gist.github.com/2889557.js"></script><noscript><link rel="stylesheet" href="https://gist.github.com/stylesheets/gist/embed.css"><div id="gist-2889557" class="gist">
    

        <div class="gist-file">
          <div class="gist-data gist-syntax">
              <div class="highlight"><pre><div class='line' id='LC1'><span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/bugs/working&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">){</span></div><div class='line' id='LC2'>	<span class="nx">db</span><span class="p">.</span><span class="nx">bugs</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="nx">_id</span><span class="o">:</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">doc</span><span class="p">){</span></div><div class='line' id='LC3'><br/></div><div class='line' id='LC4'>		<span class="nx">doc</span><span class="p">.</span><span class="nx">activate</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">comments</span><span class="p">);</span></div><div class='line' id='LC5'><br/></div><div class='line' id='LC6'>		<span class="nx">db</span><span class="p">.</span><span class="nx">bugs</span><span class="p">.</span><span class="nx">update</span><span class="p">({</span><span class="nx">_id</span><span class="o">:</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">},</span> <span class="nx">doc</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">updatedDoc</span><span class="p">){</span></div><div class='line' id='LC7'>			<span class="nx">db</span><span class="p">.</span><span class="nx">bugs</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="nx">status</span><span class="o">:</span><span class="s1">&#39;Working&#39;</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">docs</span><span class="p">){</span></div><div class='line' id='LC8'>				<span class="nx">res</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s1">&#39;bugs-all.html&#39;</span><span class="p">,</span> <span class="p">{</span> </div><div class='line' id='LC9'>				<span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;Working&quot;</span><span class="p">,</span> </div><div class='line' id='LC10'>				<span class="nx">model</span><span class="o">:</span> <span class="p">{</span> <span class="nx">bugs</span> <span class="o">:</span> <span class="nx">docs</span> <span class="p">}});</span>	</div><div class='line' id='LC11'>			<span class="p">});</span></div><div class='line' id='LC12'>		<span class="p">});</span></div><div class='line' id='LC13'>	<span class="p">});</span></div><div class='line' id='LC14'><span class="p">});</span></div></pre></div>
          </div>

          <div class="gist-meta">
            <a href="https://gist.github.com/raw/2889557/2f956a728f48a6f7569a53037a77d6296911dd58/gistfile1.js" style="float:right;">view raw</a>
            <a href="https://gist.github.com/2889557#file_gistfile1.js" style="float:right;margin-right:10px;color:#666">gistfile1.js</a>
            <a href="https://gist.github.com/2889557">This Gist</a> brought to you by <a href="http://github.com">GitHub</a>.
          </div>
        </div>
</div>
</noscript>
<p>Here, I&#8217;m getting a JSON doc from MongoDB based on the id that was sent from my form and I want to execute a function on it.  That function is declared as a privileged method on a custom JavaScript object.</p>
<script src="http://gist.github.com/2889580.js"></script><noscript><link rel="stylesheet" href="https://gist.github.com/stylesheets/gist/embed.css"><div id="gist-2889580" class="gist">
    
        <div class="gist-file">
          <div class="gist-data gist-syntax">
              <div class="highlight"><pre><div class='line' id='LC1'><span class="kd">function</span> <span class="nx">Bug</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span> <span class="nx">description</span><span class="p">)</span> <span class="p">{</span></div><div class='line' id='LC2'>	<span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span></div><div class='line' id='LC3'>	<span class="k">this</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="nx">title</span><span class="p">;</span></div><div class='line' id='LC4'>	<span class="k">this</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span> <span class="nx">description</span><span class="p">;</span></div><div class='line' id='LC5'>	<span class="k">this</span><span class="p">.</span><span class="nx">assignedTo</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span></div><div class='line' id='LC6'>	<span class="k">this</span><span class="p">.</span><span class="nx">status</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span></div><div class='line' id='LC7'>	<span class="k">this</span><span class="p">.</span><span class="nx">history</span> <span class="o">=</span> <span class="p">[];</span></div><div class='line' id='LC8'><br/></div><div class='line' id='LC9'>	<span class="kd">function</span> <span class="nx">addToHistory</span><span class="p">(</span><span class="nx">comments</span><span class="p">,</span> <span class="nx">stateChanges</span><span class="p">){</span></div><div class='line' id='LC10'>		<span class="nx">self</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span></div><div class='line' id='LC11'>			<span class="nx">addedOn</span><span class="o">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span></div><div class='line' id='LC12'>			<span class="nx">comments</span><span class="o">:</span> <span class="nx">comments</span><span class="p">,</span></div><div class='line' id='LC13'>			<span class="nx">changes</span><span class="o">:</span> <span class="nx">stateChanges</span></div><div class='line' id='LC14'>		<span class="p">});</span></div><div class='line' id='LC15'>	<span class="p">};</span></div><div class='line' id='LC16'><br/></div><div class='line' id='LC17'>	<span class="kd">function</span> <span class="nx">updateStatus</span><span class="p">(</span><span class="nx">status</span><span class="p">,</span> <span class="nx">comments</span><span class="p">){</span></div><div class='line' id='LC18'>		<span class="nx">self</span><span class="p">.</span><span class="nx">status</span> <span class="o">=</span> <span class="nx">status</span><span class="p">;</span></div><div class='line' id='LC19'>		<span class="nx">addToHistory</span><span class="p">(</span><span class="nx">comments</span><span class="p">,</span> <span class="p">{</span><span class="nx">status</span> <span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">status</span><span class="p">});</span></div><div class='line' id='LC20'>	<span class="p">};</span></div><div class='line' id='LC21'><br/></div><div class='line' id='LC22'>	<span class="k">this</span><span class="p">.</span><span class="nx">activate</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">comments</span><span class="p">){</span></div><div class='line' id='LC23'>		<span class="nx">updateStatus</span><span class="p">(</span><span class="s1">&#39;Working&#39;</span><span class="p">,</span> <span class="nx">comments</span><span class="p">);</span></div><div class='line' id='LC24'>	<span class="p">};</span></div><div class='line' id='LC25'><br/></div><div class='line' id='LC26'>	<span class="k">this</span><span class="p">.</span><span class="nx">resolve</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">comments</span><span class="p">){</span></div><div class='line' id='LC27'>		<span class="nx">updateStatus</span><span class="p">(</span><span class="s1">&#39;QA&#39;</span><span class="p">,</span> <span class="nx">comments</span><span class="p">);</span></div><div class='line' id='LC28'>	<span class="p">};</span></div><div class='line' id='LC29'><br/></div><div class='line' id='LC30'>	<span class="k">this</span><span class="p">.</span><span class="nx">close</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">comments</span><span class="p">){</span></div><div class='line' id='LC31'>		<span class="nx">updateStatus</span><span class="p">(</span><span class="s1">&#39;Done&#39;</span><span class="p">,</span> <span class="nx">comments</span><span class="p">);</span></div><div class='line' id='LC32'>	<span class="p">};</span></div><div class='line' id='LC33'><br/></div><div class='line' id='LC34'>	<span class="k">this</span><span class="p">.</span><span class="nx">toBacklog</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">comments</span><span class="p">){</span></div><div class='line' id='LC35'>		<span class="nx">updateStatus</span><span class="p">(</span><span class="s1">&#39;Backlog&#39;</span><span class="p">,</span> <span class="nx">comments</span><span class="p">);</span></div><div class='line' id='LC36'>	<span class="p">};</span></div><div class='line' id='LC37'><br/></div><div class='line' id='LC38'>	<span class="k">this</span><span class="p">.</span><span class="nx">toBacklog</span><span class="p">(</span><span class="s2">&quot;created&quot;</span><span class="p">);</span></div><div class='line' id='LC39'><span class="p">};</span></div></pre></div>
          </div>

          <div class="gist-meta">
            <a href="https://gist.github.com/raw/2889580/0af53b118f5145893d34ac2f1f6476ef535b7bb6/gistfile1.js" style="float:right;">view raw</a>
            <a href="https://gist.github.com/2889580#file_gistfile1.js" style="float:right;margin-right:10px;color:#666">gistfile1.js</a>
            <a href="https://gist.github.com/2889580">This Gist</a> brought to you by <a href="http://github.com">GitHub</a>.
          </div>
        </div>
</div>
</noscript>
<p>Now, you probably already know that the route handler code above won&#8217;t work.  Why?  Because MongoDB is giving me back a JSON object and I need to work with it as a Bug object.  If I was using JSON instead of form URL encoding for my POST input, I would likely run into the same problem on that side of the fence as well.  This leads me to my question:</p>
<p><strong>What is the right way to think about moving between JSON input/output objects and &#8220;domain&#8221; objects?</strong></p>
<p>My brain keeps telling me that my desire to map properties from one object to another (via my own code or a library) is wrong in a language like JavaScript, but I also came across some posts (<a href="http://erik.eae.net/archives/2005/06/06/22.13.54/">http://erik.eae.net/archives/2005/06/06/22.13.54/</a>) that seem to indicate that tricks like swapping out the prototype may be an even worse idea.</p>
<div class="shr-publisher-197"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://0.gravatar.com/avatar/859e318f8403226ff4b912edf77fba2a?s=60&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Howard Dierking</h2>
							I like technology...a lot...							<div id="author-link">
								<a href="http://codebetter.com/howarddierking/author/howarddierking/" title="View all posts by Howard Dierking">View all posts by Howard Dierking &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/howarddierking/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/howarddierking/2012/06/07/197/" title="Permalink to Getting Started with NodeJS &#8211; Migrating RestBugs" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/howarddierking/2012/06/07/197/feed/" title="Comments RSS to Getting Started with NodeJS &#8211; Migrating RestBugs" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-197 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/howarddierking/2012/06/04/web-optimization-in-visual-studio-2012-rc/" rel="prev"><span class="meta-nav">&larr;</span> Web Optimization in Visual Studio 2012 RC</a></div>
					<div class="nav-next"><a href="http://codebetter.com/howarddierking/2012/06/09/restbugs-ported-to-node/" rel="next">RestBugs Ported to Node <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-332">
                    <div id="dsq-comment-header-332" class="dsq-comment-header">
                        <cite id="dsq-cite-332">
                                <span id="dsq-author-user-332">Cliffeh</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-332" class="dsq-comment-body">
                        <div id="dsq-comment-message-332" class="dsq-comment-message"><p>Maybe this is a little simplistic, but what about just copying all the properties from your JSON object to a Bug object? I use underscore, which has an extend method:</p>
<p>var bug = new Bug();<br />
_.extend(bug, req.body);</p>
<p>&#8230;</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-333">
                    <div id="dsq-comment-header-333" class="dsq-comment-header">
                        <cite id="dsq-cite-333">
                                <span id="dsq-author-user-333">Cliffeh</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-333" class="dsq-comment-body">
                        <div id="dsq-comment-message-333" class="dsq-comment-message"><p>Sorry, I meant this:</p>
<p>var bug = new Bug();<br />
_.extend(bug, doc);</p>
<p>Then call bug.activate()</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-334">
                    <div id="dsq-comment-header-334" class="dsq-comment-header">
                        <cite id="dsq-cite-334">
                                <span id="dsq-author-user-334">Anonymous</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-334" class="dsq-comment-body">
                        <div id="dsq-comment-message-334" class="dsq-comment-message"><p>That&#8217;s definitely my &#8216;get it working&#8217; approach &#8211; however, i keep thinking &#8220;hey, this is JavaScript &#8211; shouldn&#8217;t I be able to do something super-awesome like replace the prototype and rely on duck typing to have it just work?&#8221;</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-335">
                    <div id="dsq-comment-header-335" class="dsq-comment-header">
                        <cite id="dsq-cite-335">
                                <span id="dsq-author-user-335">HarryC</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-335" class="dsq-comment-body">
                        <div id="dsq-comment-message-335" class="dsq-comment-message"><p>Javascript is still super-awesome &#8230; That is what I learned when working with JavaScript &#8211; we are so used to doing clever tricks that we become afraid of simple yet straight forward solutions &#8230;</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-336">
                    <div id="dsq-comment-header-336" class="dsq-comment-header">
                        <cite id="dsq-cite-336">
                                <span id="dsq-author-user-336">John Teague</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-336" class="dsq-comment-body">
                        <div id="dsq-comment-message-336" class="dsq-comment-message"><p>Your missing an abstraction that creates your Bug object from the data stored in Mongodb.  I would recommend using Mongoose to handle this for you.  You can either you create your models with Mongoose and attach methods to the models or you can embed the Mongoose schema behind your own object and the delegate to the model objects any peristence related work.</p>
<p>If you wanted to roll your own, then you will need to something along the lines of the extend approach.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-337">
                    <div id="dsq-comment-header-337" class="dsq-comment-header">
                        <cite id="dsq-cite-337">
                                <span id="dsq-author-user-337">Anonymous</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-337" class="dsq-comment-body">
                        <div id="dsq-comment-message-337" class="dsq-comment-message"><p>Given the whole, &#8220;mongo can store arbitrary json&#8221; pitch (which I like at the moment), I&#8217;m not sure what value I gain by putting a model on top &#8211; though perhaps I just don&#8217;t understand how Mongoose works to make an informed decision.  That said, even if Mongoose can solve the object conversion on the database side, I&#8217;ll still have the exact same problem on the inbound data side (e.g. json coming from the request body).</p>
<p>My hope was that there was a general solution that could solve the problem on both ends.</p>
<p>I&#8217;m enticed by the extend approach &#8211; any good examples/implementations that you know of?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-338">
                    <div id="dsq-comment-header-338" class="dsq-comment-header">
                        <cite id="dsq-cite-338">
                                <span id="dsq-author-user-338">John Teague</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-338" class="dsq-comment-body">
                        <div id="dsq-comment-message-338" class="dsq-comment-message"><p>You can still do arbitrary schema with Mongoose.  You can also create your document objects from your request object.  Here is what your Mongoose schema might looks like (I&#8217;m not an expert, so YMMV)<br />
var BugSchema = new Schema{    title:{type:String},    description:{type:String},    title:{type:String},    status:{type:String},    //embedded history    history:[HistorySchema]    //assuming you have user object as are reference, but you can nest as well    assignedTo: {type:ObjectId,ref:&#8217;User&#8217;},}BugSchema.methods.updateStatus = function(status,comment){    //do your work here}BugSchema.methods.activate = function(comment){    this.updateStatus(&#8216;working&#8217;,comments);}Bug = mongoose.model(&#8220;Bug&#8221;,BugSchema);</p>
<p>To Hydrate your Bug class from the response would be something like this:</p>
<p>app.post(&#8216;/bugs/new&#8217;, function(req, res){<br />
  var bug = new Bug(res.body);<br />
  //save does an upsert<br />
  bug.save(function(err){//&#8230;});<br />
}<br />
and to use your bug methods<br />
//Static method<br />
Bug.findById(req.body.id,function(error,bug){<br />
  bug.updateStatus(req.body.comments)<br />
  bug.save(function(err){//..}</p>
<p>If you choose to go the extend route, go with the underscore library.</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/howarddierking/2012/06/07/197/';
    var disqus_identifier = '197 http://codebetter.com/howarddierking/?p=197';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'howarddierkingoncodebetter';
    var disqus_title = "Getting Started with NodeJS &#8211; Migrating RestBugs";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=197');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/codebetter.com\/howarddierking\/2012\/06\/07\/197\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3><div class="ub-grav" style="margin:5px 5px 0px 5px;float: none;"><img alt='' src='http://0.gravatar.com/avatar/859e318f8403226ff4b912edf77fba2a?s=96&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D96&amp;r=G' class='avatar avatar-96 photo' height='96' width='96' /></div>I like technology...a lot...
</li><li id="tag_cloud-4" class="widget-container widget_tag_cloud"><h3 class="widget-title">Categories</h3><div class="tagcloud"><a href='http://codebetter.com/howarddierking/category/ado-net-data-services/' class='tag-link-4922' title='6 topics' style='font-size: 18.405405405405pt;'>ADO.NET Data Services</a>
<a href='http://codebetter.com/howarddierking/category/alt-net/' class='tag-link-1362' title='1 topic' style='font-size: 8pt;'>ALT.NET</a>
<a href='http://codebetter.com/howarddierking/category/appfabric/' class='tag-link-9202' title='1 topic' style='font-size: 8pt;'>AppFabric</a>
<a href='http://codebetter.com/howarddierking/category/architecture/' class='tag-link-2588' title='6 topics' style='font-size: 18.405405405405pt;'>architecture</a>
<a href='http://codebetter.com/howarddierking/category/async/' class='tag-link-9207' title='1 topic' style='font-size: 8pt;'>Async</a>
<a href='http://codebetter.com/howarddierking/category/auto-tagging/' class='tag-link-4908' title='1 topic' style='font-size: 8pt;'>auto tagging</a>
<a href='http://codebetter.com/howarddierking/category/bdd/' class='tag-link-2123' title='5 topics' style='font-size: 17.081081081081pt;'>BDD</a>
<a href='http://codebetter.com/howarddierking/category/ddd/' class='tag-link-1717' title='1 topic' style='font-size: 8pt;'>DDD</a>
<a href='http://codebetter.com/howarddierking/category/fiddler/' class='tag-link-9204' title='1 topic' style='font-size: 8pt;'>Fiddler</a>
<a href='http://codebetter.com/howarddierking/category/fluent-nhibernate/' class='tag-link-4911' title='1 topic' style='font-size: 8pt;'>Fluent NHibernate</a>
<a href='http://codebetter.com/howarddierking/category/hardware/' class='tag-link-4927' title='1 topic' style='font-size: 8pt;'>hardware</a>
<a href='http://codebetter.com/howarddierking/category/heroku/' class='tag-link-9209' title='1 topic' style='font-size: 8pt;'>Heroku</a>
<a href='http://codebetter.com/howarddierking/category/home-network/' class='tag-link-4909' title='1 topic' style='font-size: 8pt;'>Home Network</a>
<a href='http://codebetter.com/howarddierking/category/http/' class='tag-link-8127' title='5 topics' style='font-size: 17.081081081081pt;'>HTTP</a>
<a href='http://codebetter.com/howarddierking/category/international/' class='tag-link-9201' title='1 topic' style='font-size: 8pt;'>International</a>
<a href='http://codebetter.com/howarddierking/category/ioc/' class='tag-link-1361' title='1 topic' style='font-size: 8pt;'>IoC</a>
<a href='http://codebetter.com/howarddierking/category/msdn-magazine/' class='tag-link-4919' title='8 topics' style='font-size: 20.297297297297pt;'>MSDN Magazine</a>
<a href='http://codebetter.com/howarddierking/category/mspec/' class='tag-link-2130' title='2 topics' style='font-size: 11.405405405405pt;'>MSpec</a>
<a href='http://codebetter.com/howarddierking/category/my-setup/' class='tag-link-4926' title='2 topics' style='font-size: 11.405405405405pt;'>my setup</a>
<a href='http://codebetter.com/howarddierking/category/nhibernate/' class='tag-link-2527' title='1 topic' style='font-size: 8pt;'>NHibernate</a>
<a href='http://codebetter.com/howarddierking/category/oauth/' class='tag-link-9206' title='2 topics' style='font-size: 11.405405405405pt;'>OAuth</a>
<a href='http://codebetter.com/howarddierking/category/performance/' class='tag-link-4925' title='3 topics' style='font-size: 13.675675675676pt;'>performance</a>
<a href='http://codebetter.com/howarddierking/category/pivot/' class='tag-link-4931' title='7 topics' style='font-size: 19.351351351351pt;'>Pivot</a>
<a href='http://codebetter.com/howarddierking/category/r/' class='tag-link-4916' title='3 topics' style='font-size: 13.675675675676pt;'>R#</a>
<a href='http://codebetter.com/howarddierking/category/refactoring/' class='tag-link-4737' title='1 topic' style='font-size: 8pt;'>Refactoring</a>
<a href='http://codebetter.com/howarddierking/category/ruby/' class='tag-link-1723' title='1 topic' style='font-size: 8pt;'>Ruby</a>
<a href='http://codebetter.com/howarddierking/category/sinatra/' class='tag-link-9210' title='1 topic' style='font-size: 8pt;'>Sinatra</a>
<a href='http://codebetter.com/howarddierking/category/ssis/' class='tag-link-4921' title='6 topics' style='font-size: 18.405405405405pt;'>SSIS</a>
<a href='http://codebetter.com/howarddierking/category/tortoisesvn/' class='tag-link-4923' title='1 topic' style='font-size: 8pt;'>TortoiseSVN</a>
<a href='http://codebetter.com/howarddierking/category/uncategorized/' class='tag-link-1044' title='10 topics' style='font-size: 22pt;'>Uncategorized</a>
<a href='http://codebetter.com/howarddierking/category/virtualization/' class='tag-link-4918' title='1 topic' style='font-size: 8pt;'>virtualization</a>
<a href='http://codebetter.com/howarddierking/category/wcf/' class='tag-link-4928' title='7 topics' style='font-size: 19.351351351351pt;'>WCF</a>
<a href='http://codebetter.com/howarddierking/category/web/' class='tag-link-5485' title='9 topics' style='font-size: 21.243243243243pt;'>Web</a>
<a href='http://codebetter.com/howarddierking/category/web-api/' class='tag-link-9205' title='6 topics' style='font-size: 18.405405405405pt;'>Web API</a>
<a href='http://codebetter.com/howarddierking/category/windows-7/' class='tag-link-4917' title='1 topic' style='font-size: 8pt;'>Windows 7</a>
<a href='http://codebetter.com/howarddierking/category/windsor/' class='tag-link-4930' title='1 topic' style='font-size: 8pt;'>Windsor</a></div>
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
					<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/howarddierking/2012/11/' title='November 2012'>November 2012</a></li>
	<li><a href='http://codebetter.com/howarddierking/2012/10/' title='October 2012'>October 2012</a></li>
	<li><a href='http://codebetter.com/howarddierking/2012/08/' title='August 2012'>August 2012</a></li>
	<li><a href='http://codebetter.com/howarddierking/2012/06/' title='June 2012'>June 2012</a></li>
	<li><a href='http://codebetter.com/howarddierking/2012/03/' title='March 2012'>March 2012</a></li>
	<li><a href='http://codebetter.com/howarddierking/2011/11/' title='November 2011'>November 2011</a></li>
	<li><a href='http://codebetter.com/howarddierking/2011/10/' title='October 2011'>October 2011</a></li>
	<li><a href='http://codebetter.com/howarddierking/2011/09/' title='September 2011'>September 2011</a></li>
	<li><a href='http://codebetter.com/howarddierking/2011/07/' title='July 2011'>July 2011</a></li>
	<li><a href='http://codebetter.com/howarddierking/2011/05/' title='May 2011'>May 2011</a></li>
	<li><a href='http://codebetter.com/howarddierking/2011/03/' title='March 2011'>March 2011</a></li>
	<li><a href='http://codebetter.com/howarddierking/2011/02/' title='February 2011'>February 2011</a></li>
	<li><a href='http://codebetter.com/howarddierking/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/howarddierking/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/howarddierking/2010/10/' title='October 2010'>October 2010</a></li>
	<li><a href='http://codebetter.com/howarddierking/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://codebetter.com/howarddierking/2010/01/' title='January 2010'>January 2010</a></li>
	<li><a href='http://codebetter.com/howarddierking/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://codebetter.com/howarddierking/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://codebetter.com/howarddierking/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://codebetter.com/howarddierking/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://codebetter.com/howarddierking/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://codebetter.com/howarddierking/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://codebetter.com/howarddierking/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://codebetter.com/howarddierking/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://codebetter.com/howarddierking/2009/03/' title='March 2009'>March 2009</a></li>
		</ul>
</li>				</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 1.524 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 20:38:45 -->
<!-- super cache -->