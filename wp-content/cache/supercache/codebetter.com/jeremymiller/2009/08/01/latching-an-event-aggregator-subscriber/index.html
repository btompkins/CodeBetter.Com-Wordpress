<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>“Latching” an Event Aggregator Subscriber | Jeremy D. Miller</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/jeremymiller/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/jeremymiller/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Screen Activation Lifecycle at Virtual ALT.NET in August' href='http://codebetter.com/jeremymiller/2009/07/31/screen-activation-lifecycle-at-virtual-alt-net-in-august/' />
<link rel='next' title='What’s hard about activating screens?' href='http://codebetter.com/jeremymiller/2009/08/02/what-s-hard-about-activating-screens/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/jeremymiller/?p=713' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,154] -->
<link rel="canonical" href="http://codebetter.com/jeremymiller/2009/08/01/latching-an-event-aggregator-subscriber/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-713" class="post-713 post type-post status-publish format-standard hentry category-presentation-patterns">
					<h1 class="entry-title">“Latching” an Event Aggregator Subscriber</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">Jeremy Miller</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/jeremymiller/2009/08/01/latching-an-event-aggregator-subscriber/" title="3:50 pm" rel="bookmark"><span class="entry-date">August 1, 2009</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/jeremymiller/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/jeremymiller/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>This is an excerpt from my book draft (written, oh, 10 minutes ago) about how to deal with having a hidden screen temporarily disregard messages from the <a href="/blogs/jeremy.miller/archive/2009/07/21/braindump-on-the-event-aggregator-pattern.aspx">Event Aggregator</a> while it is hidden.&nbsp; I do know that the spacing is wacky, and I apologize in advance.&nbsp; Some quick terminology:</p>
<ol>
<li>Screen Conductor &ndash; This is what I&rsquo;m tentatively calling the pattern for a class that acts as a mediator between the various screens in the application and controls the screen activation lifecycle.&nbsp; In some apps it would just be the Application Controller, in other apps you might want to pull it into a separate class as the Application Controller gets big</li>
<li>Screen Activator &ndash; Until I or someone else comes up with a better name, this is the responsibility for activating, deactivating, or tearing down a single screen.&nbsp; I&rsquo;ll write much more about this early next week.</li>
</ol>
<p>&nbsp;</p>
<p class="MsoNormal">For performance reasons you may want to have subscribers temporarily ignore events from the Event Aggregator.<span>&nbsp; </span>A couple years back I worked on an application that presented visualizations of market data inside a financial reporting application.<span>&nbsp; </span>The application would show different views of the same market data in different tabs within the application shell.<span>&nbsp; </span>The market data would occasionally update on the backend and trigger the user interface to update.<span>&nbsp; </span>The problem was that the act of performing the data visualization was quite expensive &ndash; and making the user wait while hidden screens were also updated probably made the application frustratingly sluggish to use.<span>&nbsp; </span>In order to improve the user experience, the designers of this application &ldquo;latched&rdquo; the inactive screens so that they would not automatically update for new data until they were later displayed when the user selected other tabs.</p>
<p class="MsoNormal">So let&rsquo;s say you are building a system with a similar scenario where screens need to potentially refresh the visualization of some sort of market data when the market moves.<span>&nbsp; </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span><span style="color: green">// Subscribers would receive the &#8220;Market Data Changed&#8221;            </span></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span><span style="color: green">// event with this interface            </span></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> <span style="color: blue">interface</span> <span style="color: #2b91af">IMarketDataListener            </span></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span>{         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">void</span> Update(<span style="color: #2b91af">MarketDataChanged</span> message);         </span></p>
<p class="MsoNormal"><span style="line-height: 115%;font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p class="MsoNormal">How would you go about latching the reaction to the MarketDataChanged event when a screen is hidden?<span>&nbsp; </span>The first thing I think I would do is worry about how the individual screens &ldquo;know&rdquo; whether they are shown or not.<span>&nbsp; </span>This is a case where I think you really want to be using the combination of Screen Conductor and the Screen Activator [LINK] to be managing the activation and deactivation of screens.<span>&nbsp; </span>Let&rsquo;s say that we&rsquo;ve adopted a very simple implementation of these patterns:</p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> <span style="color: blue">interface</span> <span style="color: #2b91af">IScreen            </span></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span>{         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">void</span> Activate();         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">void</span> Deactivate();         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span>}</p>
<p>&nbsp;</p>
<p></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">SimpleScreenConductor            </span></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span>{         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">private</span> <span style="color: #2b91af">IScreen</span> _currentScreen;         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"></p>
<p>&nbsp;</p>
<p></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> <span style="color: blue">void</span> ActivateScreen(<span style="color: #2b91af">IScreen</span> newScreen)         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>_currentScreen.Deactivate();         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>newScreen.Activate();         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>_currentScreen = newScreen;         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}         </span></p>
<p class="MsoNormal"><span style="line-height: 115%;font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span>}         </span></p>
<p class="MsoNormal">The Activate() and Deactivate() methods &ldquo;tell&rdquo; an individual IScreen that it is turned on or off in the visual display and give each IScreen a chance to start or stop screen behaviors.<span>&nbsp; </span>When a new screen is activated or an existing screen in the application is made the active screen, the SimpleScreenConductor will first tell the currently open screen to deactivate itself, and then activate the newly active screen.</p>
<p class="MsoNormal">Now that we have a way to let our market data visualization screens know when they are actively shown or hidden, we need to latch the market data changed events in the inactive case &ndash; with one wrinkle.<span>&nbsp; </span>When the use does activate the inactive visualizations later, those screens need to refresh themselves for the new data.<span>&nbsp; </span>A sample implementation of a LatchedPresenter is shown below:</p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">LatchedPresenter</span> : <span style="color: #2b91af">IScreen</span>, <span style="color: #2b91af">IMarketDataListener            </span></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span>{         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">private</span> <span style="color: blue">readonly</span> <span style="color: #2b91af">IMarketDataRepository</span> _repository;         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">private</span> <span style="color: blue">bool</span> _needToRefresh;         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">private</span> <span style="color: blue">bool</span> _latched;</p>
<p>&nbsp;</p>
<p></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> LatchedPresenter(<span style="color: #2b91af">IMarketDataRepository</span> repository)         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>_repository = repository;         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} <br /></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt">   </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> <span style="color: blue">void</span> Activate()         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>_latched = <span style="color: blue">false</span>;         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">if</span> (_needToRefresh)         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>updateVisualization();\   </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>_needToRefresh = <span style="color: blue">false</span>;         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>
<p>&nbsp;</p>
<p></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> <span style="color: blue">void</span> Deactivate()         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>_latched = <span style="color: blue">true</span>;         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span><span>&nbsp;&nbsp;&nbsp; </span>} </p>
<p>&nbsp;</p>
<p></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> <span style="color: blue">void</span> Update(<span style="color: #2b91af">MarketDataChanged</span> message)         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">if</span> (_latched)         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>_needToRefresh = <span style="color: blue">true</span>;         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">else            </span></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>updateVisualization();         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>
<p>&nbsp;</p>
<p></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">private</span> <span style="color: blue">void</span> updateVisualization()         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{         </span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green">// call to the IMarketDataRepository to get            </span></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green">// the new data and refresh the visualization            </span></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green">// of the market data            </span></span></p>
<p style="line-height: normal;margin-bottom: 0pt" class="MsoNormal"><span style="font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}         </span></p>
<p class="MsoNormal"><span style="line-height: 115%;font-family: 'Courier New';font-size: 10pt"><span>&nbsp;&nbsp;&nbsp; </span>}</p>
<p>&nbsp;</p>
<p></span></p>
<p class="MsoNormal">When the LatchedPresenter receives a &ldquo;MarketDataChanged&rdquo; event, it first checks to see if it is &ldquo;latched.&rdquo;<span>&nbsp; </span>If the events are latched it simply remembers that it needs to update itself upon the next activation by setting the field _needToRefresh to true.<span>&nbsp; </span>If it is not latched, LatchedPresenter will update the visualization immediately.<span>&nbsp; </span>Likewise, when LatchedPresenter is activated again it will check the _needToRefresh field.<span>&nbsp; </span>If that field is true LatchedPresenter will update the visualization.</p>
<p class="MsoNormal">The performance benefit is obvious.<span>&nbsp; </span>With latching the hidden screens are not consuming computing resources to update visualizations that might not ever be viewed by the financial analyst using the application.<span>&nbsp; </span></p>
<div class="shr-publisher-713"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/db65c5c5cf9f1c51e842f733892eace1?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Jeremy Miller</h2>
							Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.							<div id="author-link">
								<a href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">View all posts by Jeremy Miller &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/jeremymiller/category/presentation-patterns/" title="View all posts in Presentation Patterns" rel="category tag">Presentation Patterns</a>. Bookmark the <a href="http://codebetter.com/jeremymiller/2009/08/01/latching-an-event-aggregator-subscriber/" title="Permalink to “Latching” an Event Aggregator Subscriber" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/jeremymiller/2009/08/01/latching-an-event-aggregator-subscriber/feed/" title="Comments RSS to “Latching” an Event Aggregator Subscriber" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-713 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/jeremymiller/2009/07/31/screen-activation-lifecycle-at-virtual-alt-net-in-august/" rel="prev"><span class="meta-nav">&larr;</span> Screen Activation Lifecycle at Virtual ALT.NET in August</a></div>
					<div class="nav-next"><a href="http://codebetter.com/jeremymiller/2009/08/02/what-s-hard-about-activating-screens/" rel="next">What’s hard about activating screens? <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-5673">
                    <div id="dsq-comment-header-5673" class="dsq-comment-header">
                        <cite id="dsq-cite-5673">
    http://ayende.com/Blog/                            <span id="dsq-author-user-5673">Ayende Rahien</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-5673" class="dsq-comment-body">
                        <div id="dsq-comment-message-5673" class="dsq-comment-message"><p>Isn&#8217;t there a hidden cost to it, though?<br />
When you are showing the screen, you are going to &#8220;freeze&#8221; until the visualization is ready.<br />
From UX perspective, it seems that it would be better to defer visualization on a hidden screen, but still preform it on the background.<br />
At least, assuming that you have events streaming to you in any sort of reasonable rate.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-5674">
                    <div id="dsq-comment-header-5674" class="dsq-comment-header">
                        <cite id="dsq-cite-5674">
    http://codebetter.com/members/jmiller/default.aspx                            <span id="dsq-author-user-5674">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-5674" class="dsq-comment-body">
                        <div id="dsq-comment-message-5674" class="dsq-comment-message"><p>@Ayende,</p>
<p>Let&#8217;s pretend we&#8217;re not idiots and put up a friendly &#8220;recalculating&#8221; message.  There&#8217;s no way to paint the view in a background thread, but you *could* at least massage the raw data to create a Presentation Model in a background thread.  You could also throttle the updating to show a few records at a time.</p>
<p>Sigh.  I&#8217;ll throw that on my backlog of topics.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-5675">
                    <div id="dsq-comment-header-5675" class="dsq-comment-header">
                        <cite id="dsq-cite-5675">
    http://ayende.com/Blog                            <span id="dsq-author-user-5675">Ayende Rahien</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-5675" class="dsq-comment-body">
                        <div id="dsq-comment-message-5675" class="dsq-comment-message"><p>Jeremy,<br />
Recalculating is only a tad better than a frozen app.<br />
And if you can do recalculating, you can do the work in a background thread.<br />
In most cases, even with complex visualizations, most of the cost isn&#8217;t in the actual drawing, anyway.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-5676">
                    <div id="dsq-comment-header-5676" class="dsq-comment-header">
                        <cite id="dsq-cite-5676">
    http://kentb.blogspot.com                            <span id="dsq-author-user-5676">Kent Boogaart</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-5676" class="dsq-comment-body">
                        <div id="dsq-comment-message-5676" class="dsq-comment-message"><p>> From UX perspective, it seems that it would be better to defer visualization</p>
<p>I&#8217;d say it depends on a number of things, including:</p>
<p>1. How many screens you have doing this. The combined cost of all those screens calculating &#8220;just in case&#8221; they&#8217;re displayed could kill the UX.<br />
2. How often these updates are likely to occur, and how many are likely to be unnecessary due to the view being hidden. For example, if the updates occur frequently and views tend to stay hidden for long periods of time, it would seem rather wasteful to do these background calculations.</p>
<p>Anyway Jeremy, the core of your message is clear: views can defer refreshing if they are hidden by using a latch.</p>
<p>Kent</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-5677">
                    <div id="dsq-comment-header-5677" class="dsq-comment-header">
                        <cite id="dsq-cite-5677">
                                <span id="dsq-author-user-5677">Chris Wright</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-5677" class="dsq-comment-body">
                        <div id="dsq-comment-message-5677" class="dsq-comment-message"><p>I&#8217;ve encountered situations in which latching can reduce the number of calls to update the UI by an order of growth (O(N**2) to O(N), or O(N) to O(1)). While proper incremental updates would have helped, latching sometimes helps more, and it&#8217;s simpler to write.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-5678">
                    <div id="dsq-comment-header-5678" class="dsq-comment-header">
                        <cite id="dsq-cite-5678">
    http://codebetter.com/members/jmiller/default.aspx                            <span id="dsq-author-user-5678">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-5678" class="dsq-comment-body">
                        <div id="dsq-comment-message-5678" class="dsq-comment-message"><p>@Chris Wright,</p>
<p>Cool, thanks for the comment.</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/jeremymiller/2009/08/01/latching-an-event-aggregator-subscriber/';
    var disqus_identifier = '713 /blogs/jeremy.miller/archive/2009/08/01/latching-an-event-aggregator-subscriber.aspx';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'theshadetreedeveloper';
    var disqus_title = "“Latching” an Event Aggregator Subscriber";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=713');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/codebetter.com\/jeremymiller\/2009\/08\/01\/latching-an-event-aggregator-subscriber\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">The Shade Tree Developer</h3>Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.
</li><li id="text-3" class="widget-container widget_text"><h3 class="widget-title">Upcoming posts&#8230;</h3>			<div class="textwidget"><p>How I'm using StoryTeller to test FubuMVC<br />
Building a "Lookup" html convention w/ FubuMVC<br />
FubuMVC's Configuration Model "Special Sauce"<br />
Managing Script dependencies with FubuMVC<br />
Authorization and FubuMVC<br />
Continuations<br />
Composing Views with FubuMVC<br />
Extensible Model Binding with FubuMVC<br />
Introducing "Bottles"<br />
Modular Packaging with FubuMVC<br />
Self-Installing Apps w/ FubuMVC<br />
Routing and Behavioral Conventions with FubuMVC<br />
What Should I Learn?</p>
</div>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://twitter.com/jeremydmiller">Follow me on Twitter</a></li>
<li><a href="https://github.com/DarthFubuMVC/fubumvc" target="_blank">FubuMVC on GitHub</a></li>
<li><a href="https://github.com/jeremydmiller">My GitHub Page</a></li>
<li><a href="https://github.com/storyteller/storyteller">StoryTeller on GitHub</a></li>
<li><a href="https://github.com/structuremap/structuremap">StructureMap on GitHub</a></li>

	</ul>
</li>
		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
					<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/jeremymiller/2012/01/' title='January 2012'>January 2012</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/09/' title='September 2011'>September 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/07/' title='July 2011'>July 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/06/' title='June 2011'>June 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/05/' title='May 2011'>May 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/04/' title='April 2011'>April 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/03/' title='March 2011'>March 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/08/' title='August 2010'>August 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/07/' title='July 2010'>July 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/06/' title='June 2010'>June 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/05/' title='May 2010'>May 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/03/' title='March 2010'>March 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/02/' title='February 2010'>February 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/01/' title='January 2010'>January 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/06/' title='June 2009'>June 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/09/' title='September 2008'>September 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/08/' title='August 2008'>August 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/07/' title='July 2008'>July 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/06/' title='June 2008'>June 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/05/' title='May 2008'>May 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/04/' title='April 2008'>April 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/03/' title='March 2008'>March 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/02/' title='February 2008'>February 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/01/' title='January 2008'>January 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/12/' title='December 2007'>December 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/11/' title='November 2007'>November 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/10/' title='October 2007'>October 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/09/' title='September 2007'>September 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/08/' title='August 2007'>August 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/07/' title='July 2007'>July 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/06/' title='June 2007'>June 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/05/' title='May 2007'>May 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/04/' title='April 2007'>April 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/03/' title='March 2007'>March 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/02/' title='February 2007'>February 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/01/' title='January 2007'>January 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/12/' title='December 2006'>December 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/11/' title='November 2006'>November 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/10/' title='October 2006'>October 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/09/' title='September 2006'>September 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/08/' title='August 2006'>August 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/07/' title='July 2006'>July 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/06/' title='June 2006'>June 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/05/' title='May 2006'>May 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/04/' title='April 2006'>April 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/03/' title='March 2006'>March 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/02/' title='February 2006'>February 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/01/' title='January 2006'>January 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/12/' title='December 2005'>December 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/11/' title='November 2005'>November 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/10/' title='October 2005'>October 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/09/' title='September 2005'>September 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/08/' title='August 2005'>August 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/07/' title='July 2005'>July 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/06/' title='June 2005'>June 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/05/' title='May 2005'>May 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/04/' title='April 2005'>April 2005</a></li>
		</ul>
</li><li id="recent-comments-3" class="widget-container widget_recent_comments"><h3 class="widget-title">What others have said&#8230;</h3><ul id="recentcomments"><li class="recentcomments"><a href='http://zacherygaines.webstarts.com/' rel='external nofollow' class='url'>KadeemFulton</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7523">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments"><a href='http://jonsonbettly.wordpress.com/' rel='external nofollow' class='url'>ScottWorkman</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7517">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments">haihao on <a href="http://codebetter.com/jeremymiller/2008/10/18/profile-s-in-structuremap/#comment-7513">Profile’s in StructureMap</a></li><li class="recentcomments">neon on <a href="http://codebetter.com/jeremymiller/2008/09/10/using-the-structuremap-container-independently-of-objectfactory/#comment-7512">Using the StructureMap Container independently of ObjectFactory</a></li><li class="recentcomments">weaponfan on <a href="http://codebetter.com/jeremymiller/2008/09/25/using-structuremap-2-5-to-inject-your-entity-objects-into-services/#comment-7511">Using StructureMap 2.5 to inject your Entity objects into Services</a></li></ul></li>				</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.509 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 15:52:43 -->
<!-- super cache -->