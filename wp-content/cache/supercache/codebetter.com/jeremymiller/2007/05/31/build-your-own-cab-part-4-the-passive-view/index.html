<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Build your own CAB Part #4 &#8211; The Passive View | Jeremy D. Miller</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/jeremymiller/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/jeremymiller/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Choose your own adventure!  Where does &quot;Build your own CAB&quot; go next?' href='http://codebetter.com/jeremymiller/2007/05/31/choose-your-own-adventure-where-does-quot-build-your-own-cab-quot-go-next/' />
<link rel='next' title='Maybe it&#8217;s just not that bad to be a Microsoft Developer' href='http://codebetter.com/jeremymiller/2007/06/01/maybe-it-s-just-not-that-bad-to-be-a-microsoft-developer/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/jeremymiller/?p=349' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,160] -->
<link rel="canonical" href="http://codebetter.com/jeremymiller/2007/05/31/build-your-own-cab-part-4-the-passive-view/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-349" class="post-349 post type-post status-publish format-standard hentry category-build-your-own-cab category-design-patterns">
					<h1 class="entry-title">Build your own CAB Part #4 &#8211; The Passive View</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">Jeremy Miller</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/jeremymiller/2007/05/31/build-your-own-cab-part-4-the-passive-view/" title="2:17 am" rel="bookmark"><span class="entry-date">May 31, 2007</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/jeremymiller/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/jeremymiller/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p><a href="http://codebetter.com/blogs/jeremy.miller/archive/2007/05/25/build-you-own-cab-part-3-the-supervising-controller-pattern.aspx">When last we left our brave companions</a>, between courses of cheese and fine wine, Athos was sharing his strategy for dividing screen responsibilities by employing the Supervising Controller pattern.&nbsp; Mighty Porthos suddenly&nbsp;cleared his throat and exclaimed &#8220;since I am the strongest man in all of France, I would face my opponents a different way.&nbsp; Because the View itself is the trickiest piece of code to test and maintain, I would squeeze the View with great force until the only thing left inside the View is a mere skeleton of presentation logic.&nbsp; I will render the Lady de Winter&#8217;s greatest warrior a mere&#8230;</p>
<h4>Passive View</h4>
<p>Last time we looked at a small screen that allows a user to select options for configuring the shipment options for some sort of online order.&nbsp; We examined a sample approach utilizing the Supervising Controller variant of Model View Presenter that left the View in charge of simple screen synchronization while utilizing an external Presenter class to handle more complex behavior and all communication with the rest of the system.&nbsp; This time around we&#8217;re going to build the exact same system, but use the <a href="http://www.martinfowler.com/eaaDev/PassiveScreen.html">Passive View</a> variant of Model View Presenter.</p>
<p>It&#8217;s probably easiest to explain Passive View by first explaining how it&#8217;s different than Supervising Controller.&nbsp; The goal of the Passive View is to maximize the ability to automate testing of the screen, and that means taking as much as possible out of the hard to test View code and moving it to the Presenter.&nbsp; For that reason, the biggest difference is the reduced&nbsp;role of the View &#8212; even from the already slimmed down View attached to a Supervising Controller.&nbsp; The Presenter/Controller is responsible for all screen synchronization.&nbsp; The View in Passive View is an extremely thin wrapper around the&nbsp;presentation details with next to no behavior of its own.&nbsp; The view probably doesn&#8217;t even know about the Model classes.&nbsp; To start the Passive View solution, let&#8217;s look first at the interface for IShippingScreen:</p>
<div style="background: white none repeat scroll 0% 50%;font-size: 10pt;color: black;font-family: courier new">
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">interface</span> <span style="color: teal">IShippingScreen</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">string</span>[] ShippingOptions { <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">string</span>[] Vendors { <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">bool</span> InsuranceEnabled { <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">bool</span> SignatureEnabled { <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">string</span> StateOrProvince { <span style="color: blue">get</span>; <span style="color: blue">set</span>;}</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">string</span> Vendor { <span style="color: blue">get</span>; <span style="color: blue">set</span>;}</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">string</span> ShippingOption { <span style="color: blue">get</span>; <span style="color: blue">set</span>;}</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">bool</span> PurchaseInsurance { <span style="color: blue">get</span>; <span style="color: blue">set</span>;}</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">bool</span> RequireSignature { <span style="color: blue">get</span>; <span style="color: blue">set</span>;}</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">double</span> Cost { <span style="color: blue">get</span>; <span style="color: blue">set</span>;}</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
</div>
<p>As you can probably guess from this interface alone, the View becomes simplistic.&nbsp; The Presenter is now responsible for telling the view what piece of information to put into each UI widget.&nbsp; The concrete View is going to end up looking something like this:</p>
<div style="background: white none repeat scroll 0% 50%;font-size: 10pt;color: black;font-family: courier new">
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">partial</span> <span style="color: blue">class</span> <span style="color: teal">ShippingScreen</span> : <span style="color: teal">Form</span>, <span style="color: teal">IShippingScreen</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> ShippingScreen()</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; InitializeComponent();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">string</span> ShippingOption</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">get</span> { <span style="color: blue">return</span> shippingOptionField.SelectedText; }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">set</span> { shippingOptionField.SelectedText = <span style="color: blue">value</span>; }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">bool</span> PurchaseInsurance</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">get</span> { <span style="color: blue">return</span> purchaseField.Checked; }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">set</span> { purchaseField.Checked = <span style="color: blue">true</span>; }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: green">// Who sees a problem here?</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">double</span> Cost</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">get</span> { <span style="color: blue">return</span> <span style="color: blue">double</span>.Parse(costField.Text); }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">set</span> { costField.Text = <span style="color: blue">value</span>.ToString(); }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: green">// Stuff that we don&#8217;t care about</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; #region</span> Stuff that we don&#8217;t care about</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px"><span style="color: blue">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; #endregion</span></p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
</div>
<p>At this point, the view is as dumb as we can possibly make it.&nbsp; It should be nearly trivial to verify the functioning of the View code by simple inspection &#8212; for the most part anyway.&nbsp; We could easily decide to forgo testing the actual View itself at this point and judge that to be a perfectly acceptable compromise.</p>
<p>The Presenter is now more complicated because it&#8217;s taking on the additional responsibility for synchronizing data between the screen and the Domain Model.&nbsp; In this case it&#8217;s making a one to one transference of properties from the screen elements to the properties of the Shipment class.</p>
<div style="background: white none repeat scroll 0% 50%;font-size: 10pt;color: black;font-family: courier new">
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">private</span> <span style="color: teal">Shipment</span> createShipmentFromScreen()</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: teal">Shipment</span> shipment = <span style="color: blue">new</span> <span style="color: teal">Shipment</span>();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shipment.PurchaseInsurance = _screen.PurchaseInsurance;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shipment.StateOrProvince = _screen.StateOrProvince;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: green">// so on, and so forth</span></p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">return</span> shipment;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p>
</div>
<p>For a small screen, that&#8217;s not that bad.&nbsp; In reality, I generally use Passive View for small screens like login screens.&nbsp; I do find the screen synchronization to be a chore.&nbsp; Then again, think about the case of a screen that serves to display and edit an aggregate object structure with multiple levels of hierarchical data.&nbsp; Data binding works best with &#8220;flat&#8221; objects, so you&#8217;ve got to do something.&nbsp; In my mind, sacrificing the structure of the business domain to fit the user interface tooling is mostly a poor compromise.&nbsp; To have the best of both worlds you can either create a wrapping object to provide a &#8220;flattened&#8221; view of the object hierarchy to allow data binding to work, or skip that and use Passive View to have better control over the screen synchronization.&nbsp; </p>
<p>What is cool about Passive View, besides the extra testability, is a further set of insulation between the presentation technology and the business and service layers of the application.&nbsp; <a href="http://codebetter.com/blogs/jeremy.miller/archive/2007/05/25/build-you-own-cab-part-3-the-supervising-controller-pattern.aspx">When I built the Supervising Controller approach</a>, I deliberately used an object specifically built for the data binding and hid the &#8220;real&#8221; domain behind IShippingService.&nbsp; This time around, let&#8217;s let the Presenter work with the &#8220;real&#8221; domain classes somewhat.&nbsp; That being said, ShippingScreenPresenter will now&nbsp;interact with&nbsp;an IShipper class&nbsp;to get at the business rules for a particular shipping option.&nbsp;</p>
<div style="background: white none repeat scroll 0% 50%;font-size: 10pt;color: black;font-family: courier new">
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">interface</span> <span style="color: teal">IShipper</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">bool</span> AcceptsInsurance { <span style="color: blue">get</span>;}</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">bool</span> CanRequireInsurance { <span style="color: blue">get</span>;}</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">string</span>[] Options { <span style="color: blue">get</span>;}</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">string</span> Description { <span style="color: blue">get</span>;}</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">bool</span> CanCaptureSignature { <span style="color: blue">get</span>; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">double</span> CalculateCost(<span style="color: teal">Shipment</span> shipment);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
</div>
<p>Of course, we&#8217;ve got to find the correct IShipper in the first place.&nbsp; For that, we&#8217;ll use a <a href="http://www.martinfowler.com/eaaCatalog/repository.html">Repository</a>:</p>
<div style="background: white none repeat scroll 0% 50%;font-size: 10pt;color: black;font-family: courier new">
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">interface</span> <span style="color: teal">IShipperRepository</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: teal">IShipper</span>[] GetShippersForLocation(<span style="color: blue">string</span> location);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: teal">IShipper</span> FindShipper(<span style="color: blue">string</span> shipperName);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
</div>
<p>Even more so this time, the ShippingScreenPresenter is largely a Mediator between the interfaces exposed by IShippingScreen, IShipper, and IShippingRepository.&nbsp; The screen synchronization&nbsp;can be&nbsp;more work inside the presenter, but I think you can get by with less abstraction of the rest of the application.&nbsp; The ShippingScreenPresenter might look like this:</p>
<div style="background: white none repeat scroll 0% 50%;font-size: 10pt;color: black;font-family: courier new">
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: teal">ShippingScreenPresenter</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">private</span> <span style="color: blue">readonly</span> <span style="color: teal">IShippingScreen</span> _screen;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">private</span> <span style="color: blue">readonly</span> <span style="color: teal">IShipperRepository</span> _repository;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">private</span> <span style="color: teal">IShipper</span> _shipper;</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> ShippingScreenPresenter(<span style="color: teal">IShippingScreen</span> screen, <span style="color: teal">IShipperRepository</span> repository)</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _screen = screen;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _repository = repository;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">void</span> ShipperSelected()</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _shipper = _repository.FindShipper(_screen.Vendor);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _screen.ShippingOptions = _shipper.Options;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _screen.InsuranceEnabled = _shipper.CanRequireInsurance;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _screen.SignatureEnabled = _shipper.CanCaptureSignature;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">private</span> <span style="color: teal">Shipment</span> createShipmentFromScreen()</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: teal">Shipment</span> shipment = <span style="color: blue">new</span> <span style="color: teal">Shipment</span>();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shipment.PurchaseInsurance = _screen.PurchaseInsurance;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shipment.StateOrProvince = _screen.StateOrProvince;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: green">// so on, and so forth</span></p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">return</span> shipment;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">void</span> OptionsChanged()</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: teal">Shipment</span> shipment = createShipmentFromScreen();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _screen.Cost = _shipper.CalculateCost(shipment);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
</div>
<p>Needless to say, using the Passive View pretty well&nbsp;demands an <a href="http://codebetter.com/blogs/jeremy.miller/articles/129544.aspx">Interaction Testing style of unit tests</a> with lots of mock objects.&nbsp; If you&nbsp;don&#8217;t grok&nbsp;RhinoMocks, Passive View might not be for you.&nbsp; Supervising Controller is a definite alternative, but in a later section I&#8217;ll take a look at the Presentation Model pattern&nbsp;for a state-based style of unit testing.</p>
<h4>Interlude</h4>
<p>Young D&#8217;Artagnan looks puzzled.&nbsp; He finally&nbsp;asks his older friends &#8220;Wouldn&#8217;t that make the communication between the&nbsp;Presenter and View very chatty?&nbsp; And what&#8217;s to stop the Presenter from becoming just as convoluted as an Autonomous View?&#8221;&nbsp; Porthos snorts and exclaims &#8220;You are a perspicacious lad!&nbsp; I would not stop with crushing the View into submission.&nbsp; I will use my superior strength to crush the Presenter until it only contains a single, cohesive responsibility!&#8221;</p>
<h4>Summary</h4>
<p>I used Passive View quite extensively on my first WinForms project in 2004.&nbsp; Overall, the experience hooked me for life on using Humble Dialog Box design philosophies for building fat clients.&nbsp; It became routine for screens to work on the very first attempt to run new screen features &#8212; assuming that you really did unit test the individual&nbsp;pieces first.&nbsp; We also so another noticeable trend, screens that were fatter with more logic and less unit test coverage generated alarmingly more bugs and took much more time to debug.&nbsp;&nbsp;&nbsp; </p>
<p>I mentioned that the screen synchronization can become a chore.&nbsp; The presenter potentially picks up more responsibilities for screen synchronization and state like &#8220;IsDirty&#8221; checks.&nbsp; The downside of Passive View is a chatty interface between View and Presenter.&nbsp; I wrote an article early last year detailing my <a href="http://codebetter.com/blogs/jeremy.miller/archive/2006/01/10/136407.aspx">Best and Worst Practices for Mock Objects</a>.&nbsp; Most of the advice for what not to do with Mock objects came from that same project that we used Passive View.&nbsp; My advice is to watch the size of the Presenter.&nbsp; If it gets too big, split up responsibilities.&nbsp; Maybe you take screen synchronization, IsDirty logic, and maybe validation and put it in some kind of &#8220;inner&#8221; presenter.&nbsp; The &#8220;Inner&#8221; presenter talks to the View itself.&nbsp; The &#8220;Outer&#8221; presenter talks to the &#8220;Inner&#8221; presenter and the outside world.&nbsp; </p>
<p>One way to detect a need for this Inner/Outer presenter&nbsp;case is to watch your unit tests.&nbsp; If you ever find yourself writing an uncomfortable number of mock object expectations in any one test, you&#8217;re probably violating the <a href="http://codebetter.com/blogs/jeremy.miller/archive/2007/01/08/Orthogonal-Code.aspx">Single Responsibility Principle (SRP)</a>.&nbsp; If you find yourself setting up mock object expectations for something that&#8217;s barely relevant to the subject of the unit test, you almost automatically split the class under test into multiple classes.&nbsp; One of the best design tricks you can apply is to continuously move your design closer and closer to SRP.</p>
<h4>Conclusion</h4>
<p>The four friends finished their repast and sat around the fire, sated from the provisions generously supplied by a minor&nbsp;noblewoman of Atho&#8217;s acquaintance.&nbsp; Aramis, who the companions know is the craftiest of the four friends, speaks up:&nbsp; &#8220;slaying a View of many responsibilities with the sharp edge of a mock object is a fine thing, but I think that we can use our wits to fool the screen into&nbsp;&nbsp;subservience to state based testing by employing the Presentation Model to&#8230;&#8221;</p>
<p>To be continued in Part #5 &#8211; The Presentation Model &#8212; <a href="http://codebetter.com/blogs/jeremy.miller/archive/2007/05/30/choose-your-own-adventure-where-does-quot-build-your-own-cab-quot-go-next.aspx">unless you&#8217;d rather talk about something else</a>.</p>
<div class="shr-publisher-349"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/db65c5c5cf9f1c51e842f733892eace1?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Jeremy Miller</h2>
							Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.							<div id="author-link">
								<a href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">View all posts by Jeremy Miller &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/jeremymiller/category/build-your-own-cab/" title="View all posts in Build your own CAB" rel="category tag">Build your own CAB</a>, <a href="http://codebetter.com/jeremymiller/category/design-patterns/" title="View all posts in Design Patterns" rel="category tag">Design Patterns</a>. Bookmark the <a href="http://codebetter.com/jeremymiller/2007/05/31/build-your-own-cab-part-4-the-passive-view/" title="Permalink to Build your own CAB Part #4 &#8211; The Passive View" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/jeremymiller/2007/05/31/build-your-own-cab-part-4-the-passive-view/feed/" title="Comments RSS to Build your own CAB Part #4 &#8211; The Passive View" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-349 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/jeremymiller/2007/05/31/choose-your-own-adventure-where-does-quot-build-your-own-cab-quot-go-next/" rel="prev"><span class="meta-nav">&larr;</span> Choose your own adventure!  Where does &quot;Build your own CAB&quot; go next?</a></div>
					<div class="nav-next"><a href="http://codebetter.com/jeremymiller/2007/06/01/maybe-it-s-just-not-that-bad-to-be-a-microsoft-developer/" rel="next">Maybe it&#8217;s just not that bad to be a Microsoft Developer <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-2063">
                    <div id="dsq-comment-header-2063" class="dsq-comment-header">
                        <cite id="dsq-cite-2063">
                                <span id="dsq-author-user-2063">GJK</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2063" class="dsq-comment-body">
                        <div id="dsq-comment-message-2063" class="dsq-comment-message"><p>As always, love the series of articles.  BUT could you please post some working source code.  What I am not understanding from reading about it I will learn from seeing it work.</p>
<p>Please.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-2064">
                    <div id="dsq-comment-header-2064" class="dsq-comment-header">
                        <cite id="dsq-cite-2064">
                                <span id="dsq-author-user-2064">Rick Donaldson</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2064" class="dsq-comment-body">
                        <div id="dsq-comment-message-2064" class="dsq-comment-message"><p>Could you post an example of a more complicated view being used? For example, if your form contains a treeview control, would you add AddTreeItem()/RemoveTreeItem() methods to the view interface or would you create a platform-independent treeview wrapper or perhaps something else?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-2065">
                    <div id="dsq-comment-header-2065" class="dsq-comment-header">
                        <cite id="dsq-cite-2065">
                                <span id="dsq-author-user-2065">ShawnD</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2065" class="dsq-comment-body">
                        <div id="dsq-comment-message-2065" class="dsq-comment-message"><p>I LOVE the thin view dude!!!  Got all excited when finally seeing a view that does not have GUI Control Event Handlers (_checkedchanged events, _selectedValueChanged, etc.) and no reference to &#8220;_myPresenter&#8221; &#8230;until I saw in the ShippingScreenPresenter class the method &#8220;public void ShipperSelected()&#8221;&#8230;surely the view still needs to have a &#8220;_myPresenter&#8221; variable, along with a call to &#8220;_myPresenter.ShipperSelected&#8221; in the cbxShippingVendor combobox&#8217;s SelectedIndexChanged event?  Or am I missing something?  If I am correct, I guess this post is an affirmation of what GJK said on May 31st &#8211; please post more complete classes &#8211; not necessarily working code, but more complete classes will help affirm the concepts you are trying to get across &#8211; even if you include more comments in the classes like &#8220;this type of code goes here&#8221;, &#8220;that type of code goes there&#8221;&#8230;that kind of thing &#8211; so that the whole picture is still kept in play.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-2066">
                    <div id="dsq-comment-header-2066" class="dsq-comment-header">
                        <cite id="dsq-cite-2066">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-2066">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2066" class="dsq-comment-body">
                        <div id="dsq-comment-message-2066" class="dsq-comment-message"><p>@ShawnD,</p>
<p>It&#8217;s just later down the line &#8212; <a href="http://codebetter.com/blogs/jeremy.miller/archive/2007/06/04/build-your-own-cab-part-6-view-to-presenter-communication.aspx" rel="nofollow">http://codebetter.com/blogs/jeremy.miller/archive/2007/06/04/build-your-own-cab-part-6-view-to-presenter-communication.aspx</a></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-2067">
                    <div id="dsq-comment-header-2067" class="dsq-comment-header">
                        <cite id="dsq-cite-2067">
                                <span id="dsq-author-user-2067">ulu</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2067" class="dsq-comment-body">
                        <div id="dsq-comment-message-2067" class="dsq-comment-message"><p>Jeremy,</p>
<p>First let me thank you for the great series. Not only your articles smart and clear, they are a big fun to read!</p>
<p>Now to the point. I recall that it is the very basic principle of OO programming that you shouldn&#8217;t make your objects passive, instead, you should let the object maintain itself. Otherwise, you end up with a sort of procedural programming. Your View class seem to contradict this idea. Also, everybody says that anemic models are just bad, but what about anemic views?</p>
<p>Now, I absolutely agree that this model is much easier to test (with RhinoMocks and without NUnitForms), but here&#8217;s another question that&#8217;s been left unanswered elsewhere: should we design for testability, or should we try and test what&#8217;s designed (perhaps designed badly, so we refactor later)?</p>
<p>Another thing that seems to be against the OO basics here: we are forced to make the InsuranceEnabled property public, which might be against our idea that other views (and presenters, and services) shouldn&#8217;t be able to access this property. So, if we really want to keep the separation, perhaps a good idea would be to make the Presenter a private class of the View?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-2068">
                    <div id="dsq-comment-header-2068" class="dsq-comment-header">
                        <cite id="dsq-cite-2068">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-2068">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2068" class="dsq-comment-body">
                        <div id="dsq-comment-message-2068" class="dsq-comment-message"><p>@ulu,</p>
<p>I&#8217;m answering some of this in another post.</p>
<p>Making the View &#8220;Passive.&#8221;  You might be reading that too literally.  The classic OO truism *is* to make the class with the data responsible for doing stuff to that data (Information Expert), but in this particular case I think that testability buys me more than encapsulation.  The View&#8217;s responsibility is just to manipulate the Control state inside.  It&#8217;s not like the Presenter is reaching into the View to set values directly on a CheckBox or TextBox. </p>
<p>Keep in mind that Passive View isn&#8217;t the only way to do things.</p>
<p>&#8220;perhaps a good idea would be to make the Presenter a private class of the View?&#8221;</p>
<p>I&#8217;m not sure about your reasoning.  Offhand that seems to almost completely defeat the purpose of doing the MVP split in the first place.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-2069">
                    <div id="dsq-comment-header-2069" class="dsq-comment-header">
                        <cite id="dsq-cite-2069">
                                <span id="dsq-author-user-2069">ulu</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2069" class="dsq-comment-body">
                        <div id="dsq-comment-message-2069" class="dsq-comment-message"><p>@Jeremy<br />
&#8220;I&#8217;m not sure about your reasoning.  Offhand that seems to almost completely defeat the purpose of doing the MVP split in the first place.&#8221;</p>
<p>The View and the Presenter are still separate classes. So the split is there. All the methods and properties from your post are there. The idea is to make the Presenter a private class within View. So,  you can&#8217;t call the methods of the Presenter from any other class but the View, but the Presenter still can manipulate the View, get the data from other classes etc.</p>
<p>But of course, testability could be a problem here. Perhaps a lot of reflection could do that. Of course, that depends on the situation. It might be that having methods like ShipperSelected() public is undesirable, and you are willing to make some extra effort and test a private Presenter.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-2070">
                    <div id="dsq-comment-header-2070" class="dsq-comment-header">
                        <cite id="dsq-cite-2070">
                                <span id="dsq-author-user-2070">Emad</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2070" class="dsq-comment-body">
                        <div id="dsq-comment-message-2070" class="dsq-comment-message"><p>I know I am late, but I need to ask this (till this moment&#8230;i haven&#8217;t read the rest of the series&#8230;i hope i am not asking an answered question).</p>
<p>but, I am still caught in the place where you tie the events together; I have an event handler for changing the Shipper in which i will call ShipperSelected(), ok cool&#8230;now by consequence i will execute the line:<br />
_screen.SignatureEnabled = _shipper.CanCaptureSignature;</p>
<p>but i expect that the Signature Check box will have an event handler that would say SignatureChanged or something (in the case the user changed by his choice), then&#8230;that is called..i will be recalculating the view because i would expect a code close to what exists in ShipperSelected().</p>
<p>in some cases we will have two controls that change each other in which we could have infinite loop. how to solve this in a good manner?</p>
<p>in the crazy code i ended up with (i know it&#8217;s not the best answer&#8230;but it worked..and i want better answer that what i have)&#8230;i produce a flag &#8230;that would tell me what was the cause of the data moving&#8230;(is it the users click?..or another control in the form)&#8230;if it was the user..i change it to THE control&#8230;and do the code..and then reset it to Neurtral.</p>
<p>i don&#8217;t like this, is there better thing that suits the sweetly-though series?</p>
<p>thanks for your valuable posts,<br />
Emad</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-2071">
                    <div id="dsq-comment-header-2071" class="dsq-comment-header">
                        <cite id="dsq-cite-2071">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-2071">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2071" class="dsq-comment-body">
                        <div id="dsq-comment-message-2071" class="dsq-comment-message"><p>Emad,</p>
<p>Try this post:</p>
<p><a href="http://codebetter.com/blogs/jeremy.miller/archive/2007/07/02/build-your-own-cab-12-rein-in-runaway-events-with-the-quot-latch-quot.aspx" rel="nofollow">http://codebetter.com/blogs/jeremy.miller/archive/2007/07/02/build-your-own-cab-12-rein-in-runaway-events-with-the-quot-latch-quot.aspx</a></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-2072">
                    <div id="dsq-comment-header-2072" class="dsq-comment-header">
                        <cite id="dsq-cite-2072">
                                <span id="dsq-author-user-2072">Jason</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2072" class="dsq-comment-body">
                        <div id="dsq-comment-message-2072" class="dsq-comment-message"><p>My interpretation is that with the Supervising Controller variant the View Interface can take the Model (entities) as parameters but in Passive View (PV) it is limited to primitive types that map directly to the UI elements.</p>
<p>The question that I have is how you deal with grids etc. with PV? For example what if you have a List<customer> and want to display in a pageable / sortable form. The ASP.NET GridView control is (deservedly) much maligned but you do get a lot of functionality for free.</customer></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-2073">
                    <div id="dsq-comment-header-2073" class="dsq-comment-header">
                        <cite id="dsq-cite-2073">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-2073">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2073" class="dsq-comment-body">
                        <div id="dsq-comment-message-2073" class="dsq-comment-message"><p>Jason,</p>
<p>All bets are off when you get to needing a Grid.  That alone will force you to a Supervising Controller.  I think 3rd party controls, and especially grid controls, are one of the last redoubts of untestable code.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-2074">
                    <div id="dsq-comment-header-2074" class="dsq-comment-header">
                        <cite id="dsq-cite-2074">
                                <span id="dsq-author-user-2074">Rod</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2074" class="dsq-comment-body">
                        <div id="dsq-comment-message-2074" class="dsq-comment-message"><p>Hi Jeremy,</p>
<p>The Best MVC-MVP article I&#8217;ve read!!! Good work!!!</p>
<p>After creating a sample project to put all interface into action by adding shell and UI I came up with the following questions:</p>
<p>1. Can we combine Passive View and Supervising Controller? Like in the case of the Shipping sample in Supervising Controller, can we add a Cost interface in IShippingScreen view inorder that everytime the Shipment_PropertyChanged event is raised in Presenter Cost field is automatically updated.</p>
<p>2. Is it a good approach to inherit a view interface(s) in another view to combine interfaces into one view. In my experiment I created a IFormView out of  the &#8220;The Humble Dialog Box&#8221; sample and I inherit IFormView in ISheepingScreen view (see Fig 1.0), that way when I inherit ISheepingScreen in my Form (UI) it will have the both ISheepingScreen and IFormView view interfaces (see Fig 2.0). </p>
<p>Fig: 1.0<br />
public interface IShippingScreen : IFormView<br />
{<br />
 &#8230;.<br />
}</p>
<p>Fig: 2.0</p>
<p>public partial class MyForm : Form, IShippingScreen<br />
{<br />
&#8230;<br />
}</p>
<p>Fig: 2.1</p>
<p>public partial class MyForm : Form, IShippingScreen, IFormView<br />
{<br />
&#8230;<br />
}<br />
Do you prefer inheriting view (see Fig 2.0) or just inherit them separately in the Form (UI) (see Fig 2.1)</p>
<p>Thanks in advance!<br />
Rod</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-2075">
                    <div id="dsq-comment-header-2075" class="dsq-comment-header">
                        <cite id="dsq-cite-2075">
                                <span id="dsq-author-user-2075">Rod</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-2075" class="dsq-comment-body">
                        <div id="dsq-comment-message-2075" class="dsq-comment-message"><p>Hi Jeremy,</p>
<p>I want to rephrase my #1 question, Adding Cost interface IShippingScreen view will violate the Supervising Controller pattern? or its a matter of Service vs. Repository/Domain?</p>
<p>Cheers!<br />
Rod</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/jeremymiller/2007/05/31/build-your-own-cab-part-4-the-passive-view/';
    var disqus_identifier = '349 /blogs/jeremy.miller/archive/2007/05/30/build-your-own-cab-part-4-the-passive-view.aspx';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'theshadetreedeveloper';
    var disqus_title = "Build your own CAB Part #4 &#8211; The Passive View";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=349');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/codebetter.com\/jeremymiller\/2007\/05\/31\/build-your-own-cab-part-4-the-passive-view\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">The Shade Tree Developer</h3>Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.
</li><li id="text-3" class="widget-container widget_text"><h3 class="widget-title">Upcoming posts&#8230;</h3>			<div class="textwidget"><p>How I'm using StoryTeller to test FubuMVC<br />
Building a "Lookup" html convention w/ FubuMVC<br />
FubuMVC's Configuration Model "Special Sauce"<br />
Managing Script dependencies with FubuMVC<br />
Authorization and FubuMVC<br />
Continuations<br />
Composing Views with FubuMVC<br />
Extensible Model Binding with FubuMVC<br />
Introducing "Bottles"<br />
Modular Packaging with FubuMVC<br />
Self-Installing Apps w/ FubuMVC<br />
Routing and Behavioral Conventions with FubuMVC<br />
What Should I Learn?</p>
</div>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://twitter.com/jeremydmiller">Follow me on Twitter</a></li>
<li><a href="https://github.com/DarthFubuMVC/fubumvc" target="_blank">FubuMVC on GitHub</a></li>
<li><a href="https://github.com/jeremydmiller">My GitHub Page</a></li>
<li><a href="https://github.com/storyteller/storyteller">StoryTeller on GitHub</a></li>
<li><a href="https://github.com/structuremap/structuremap">StructureMap on GitHub</a></li>

	</ul>
</li>
		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
					<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/jeremymiller/2012/01/' title='January 2012'>January 2012</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/09/' title='September 2011'>September 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/07/' title='July 2011'>July 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/06/' title='June 2011'>June 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/05/' title='May 2011'>May 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/04/' title='April 2011'>April 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/03/' title='March 2011'>March 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/08/' title='August 2010'>August 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/07/' title='July 2010'>July 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/06/' title='June 2010'>June 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/05/' title='May 2010'>May 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/03/' title='March 2010'>March 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/02/' title='February 2010'>February 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/01/' title='January 2010'>January 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/06/' title='June 2009'>June 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/09/' title='September 2008'>September 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/08/' title='August 2008'>August 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/07/' title='July 2008'>July 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/06/' title='June 2008'>June 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/05/' title='May 2008'>May 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/04/' title='April 2008'>April 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/03/' title='March 2008'>March 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/02/' title='February 2008'>February 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/01/' title='January 2008'>January 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/12/' title='December 2007'>December 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/11/' title='November 2007'>November 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/10/' title='October 2007'>October 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/09/' title='September 2007'>September 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/08/' title='August 2007'>August 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/07/' title='July 2007'>July 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/06/' title='June 2007'>June 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/05/' title='May 2007'>May 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/04/' title='April 2007'>April 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/03/' title='March 2007'>March 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/02/' title='February 2007'>February 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/01/' title='January 2007'>January 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/12/' title='December 2006'>December 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/11/' title='November 2006'>November 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/10/' title='October 2006'>October 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/09/' title='September 2006'>September 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/08/' title='August 2006'>August 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/07/' title='July 2006'>July 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/06/' title='June 2006'>June 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/05/' title='May 2006'>May 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/04/' title='April 2006'>April 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/03/' title='March 2006'>March 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/02/' title='February 2006'>February 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/01/' title='January 2006'>January 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/12/' title='December 2005'>December 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/11/' title='November 2005'>November 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/10/' title='October 2005'>October 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/09/' title='September 2005'>September 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/08/' title='August 2005'>August 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/07/' title='July 2005'>July 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/06/' title='June 2005'>June 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/05/' title='May 2005'>May 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/04/' title='April 2005'>April 2005</a></li>
		</ul>
</li><li id="recent-comments-3" class="widget-container widget_recent_comments"><h3 class="widget-title">What others have said&#8230;</h3><ul id="recentcomments"><li class="recentcomments"><a href='http://zacherygaines.webstarts.com/' rel='external nofollow' class='url'>KadeemFulton</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7523">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments"><a href='http://jonsonbettly.wordpress.com/' rel='external nofollow' class='url'>ScottWorkman</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7517">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments">haihao on <a href="http://codebetter.com/jeremymiller/2008/10/18/profile-s-in-structuremap/#comment-7513">Profile’s in StructureMap</a></li><li class="recentcomments">neon on <a href="http://codebetter.com/jeremymiller/2008/09/10/using-the-structuremap-container-independently-of-objectfactory/#comment-7512">Using the StructureMap Container independently of ObjectFactory</a></li><li class="recentcomments">weaponfan on <a href="http://codebetter.com/jeremymiller/2008/09/25/using-structuremap-2-5-to-inject-your-entity-objects-into-services/#comment-7511">Using StructureMap 2.5 to inject your Entity objects into Services</a></li></ul></li>				</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.526 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 12:42:36 -->
<!-- super cache -->