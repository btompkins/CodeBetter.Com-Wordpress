<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Do you really know where that code has been? | Jeremy D. Miller</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/jeremymiller/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/jeremymiller/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/jeremymiller/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/jeremymiller/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/jeremymiller/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Jeremy D. Miller' href='http://codebetter.com/jeremymiller/' />
<link rel='start' title='Bypass VSTS and get yourself a &quot;Poor Man&#8217;s IntelliJ&quot;' href='http://codebetter.com/jeremymiller/2005/04/12/bypass-vsts-and-get-yourself-a-poor-mans-intellij/' />
<link rel='prev' title='A Microcosm of Agile Design' href='http://codebetter.com/jeremymiller/2007/12/04/a-microcosm-of-agile-design/' />
<link rel='next' title='Alt.Net.UK has been announced' href='http://codebetter.com/jeremymiller/2007/12/07/alt-net-uk-has-been-announced/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/jeremymiller/2007/12/06/do-you-really-know-where-that-code-has-been/' />
<link rel='shortlink' href='http://codebetter.com/jeremymiller/?p=463' />
<link rel="stylesheet" href="http://codebetter.com/jeremymiller/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><link rel="stylesheet" href="http://disqus.com/stylesheets/theshadetreedeveloper/disqus.css?v=2.0" type="text/css" media="screen" />	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/jeremymiller/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-463" class="post-463 post type-post status-publish format-standard hentry category-continuous-integration category-featured category-storyteller">
					<h1 class="entry-title">Do you really know where that code has been?</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">Jeremy Miller</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/jeremymiller/2007/12/06/do-you-really-know-where-that-code-has-been/" title="1:56 pm" rel="bookmark"><span class="entry-date">December 6, 2007</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/jeremymiller/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/jeremymiller/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/jeremymiller/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p><P>Last week I did a talk at DevTeach called &#8220;Creating a Maintainable Software Ecosystem&#8221;&nbsp;(<A class="" href="http://codebetter.com/files/folders/171730/download.aspx">the slide deck is here</A>). &nbsp;On one of my slides I had the following bullet point:</P><br />
<BLOCKQUOTE><br />
<P><EM>NEVER build and deploy from a developer environment</EM></P></BLOCKQUOTE><br />
<P>Even though it showed up on the slide I don&#8217;t think I got around to explaining why I don&#8217;t like creating deployment packages on a developer workstation.&nbsp; Yesterday someone pinged me wanting to understand why I say you shouldn&#8217;t make official builds on a development workstation.&nbsp; Why should I make it a standard that we don&#8217;t do builds on a developer workstation?</P><br />
<P>I&#8217;ll start by telling some horror&nbsp;stories.&nbsp; 5 years ago I built my very last Windows DNA web application and left the company the following spring.&nbsp; At the time our standard practice was to compile VB6 DLL&#8217;s on a development workstation and check the build products into source control.&nbsp; I would then write up instructions for our configuration management group to manually deploy the COM DLL&#8217;s as part of any upcoming production push.&nbsp; It worked exactly as well as you&#8217;d think.&nbsp; Almost a year after I left the company and project I got a phone call from a former colleague.&nbsp; He needed to make some changes to one of the COM DLL&#8217;s, but when he downloaded the code out of source control a class was missing and the project wouldn&#8217;t compile.&nbsp; He was screwed.&nbsp; It was worse than he knows because I think I made some last minute code changes in the actual production push that never made it into source control.</P><br />
<P>On another project I was asked to redesign a problematic system.&nbsp; I asked for the source code for the existing system.&nbsp; Nobody knew where it was.&nbsp; The original developer was a victim of a recent &#8220;Reduction in Force&#8221; and wasn&#8217;t around to help.&nbsp; Fortunately, someone thought to go check the original developer&#8217;s old cubicle and found an&nbsp;ancient looking&nbsp;notebook computer in an unlocked drawer that had a copy of the code on its hard drive.&nbsp; We think it was the code anyway.</P><br />
<P>Sure, these are horror stories of incompetence, but if we&#8217;d had a policy forbidding production pushes originating from developer workstations and some level of repeatable builds directly from source control&nbsp;we could have headed off some serious problems.</P><br />
<P>&nbsp;</P><br />
<H4>First Causes</H4><br />
<P>Before I even bother to talk about how and where I want the builds made, let&#8217;s put out the end goals as I see them:</P><br />
<OL><br />
<LI>Repeatable builds.&nbsp; If anything should go wrong, and it will, can I quickly reproduce the build?<br />
<LI>I want to know the provenance of a build.&nbsp; Where did it come from?&nbsp; What exact version of the code is in there?&nbsp; Is it free of foreign bodies of code?&nbsp; When it comes time to troubleshoot production issues, will I know what code to look at?<br />
<LI>I don&#8217;t want to screw up the production deployment.&nbsp; Building is never as simple as just&nbsp;compiling, even for XCopy applications.&nbsp;<br />
<LI>I want to know that the exact version of the code being deployed is the version of the code signed off by my QA folks</LI></OL><br />
<P>If you build on the developer workstation, and especially if you build from your normal working directory, I think you run a significant of blowing all four points.&nbsp; If your building from your source code on your box there&#8217;s nothing to guarantee that all the code you&#8217;re compiling against is both in source control and the proper version of the code.&nbsp; It&#8217;s just the code you happen to have on your workstation.&nbsp; I don&#8217;t care how conscientious you and your team is, you will flub up with source control from time to time.&nbsp; </P><br />
<P>&nbsp;</P><br />
<H4>Build on the Build Server</H4><br />
<P>My teams do official builds to testing and production on the build server as part of the CruiseControl.Net build.&nbsp; One way or another, I like to have the CruiseControl.Net build put together a deployable package on each and every successful build and stash it off to the side somewhere easy to get to.&nbsp; Ideally, I like to have the test deploys be something that can be manually triggered to deploy a given version in a single step by the testers themselves.&nbsp; Why is this important?&nbsp; Let&#8217;s go back to our original list of first causes:</P><br />
<OL><br />
<LI><STRONG>Repeatable builds.</STRONG>&nbsp; CruiseControl.Net runs an automated script with no manual intervention.&nbsp; If the script works, I say we have repeatability.</LI><br />
<LI><STRONG>I want to know the provenance of a build.</STRONG>&nbsp;&nbsp;CruiseControl.Net is pulling the code&nbsp;directly out of the master source control repository.&nbsp; If there&#8217;s anything missing,&nbsp;the build won&#8217;t&nbsp;complete.&nbsp; Besides, we want the master source control repository to be the&nbsp;<A class="" href="http://martinfowler.com/articles/continuousIntegration.html#MaintainASingleSourceRepository">single authoritative source</A> right?&nbsp;<br />
<LI><STRONG>I don&#8217;t want to screw up the production deployment</STRONG>.&nbsp;&nbsp;All build steps should be automated.&nbsp; Manual builds are time consuming, but more importantly, they can be error prone.&nbsp; For example, several of my projects will ratchet up the tracing levels or inject stubs in development environments, but I&#8217;ll use the NAnt build to guarantee that the correct configuration is used in production.&nbsp; I want that configuration step to be automated.<br />
<LI><STRONG>I want to know that the exact version of the code being deployed is the version of the code signed off by my QA folks.</STRONG>&nbsp; See the following sections:</LI></OL><br />
<P>&nbsp;</P><br />
<H4>Tracking Build Number with CruiseControl.Net and NAnt</H4><br />
<P>One of the first targets I add to the NAnt script of a new project is versioning support.&nbsp; In the StoryTeller.build file for my <A href="http://storyteller.tigris.org/">StoryTeller</A> project I have the following target:</P><br />
<DIV><PRE><SPAN>&nbsp; &lt;</SPAN><SPAN>target</SPAN><SPAN> </SPAN><SPAN>name</SPAN><SPAN>=</SPAN>&#8220;<SPAN>version</SPAN>&#8220;<SPAN> </SPAN><SPAN>description</SPAN><SPAN>=</SPAN>&#8220;<SPAN>mark AssemblyInfo builds with the build number</SPAN>&#8220;<SPAN>&gt;</SPAN></PRE><PRE><STRONG><SPAN>&nbsp; &nbsp; &lt;</SPAN><SPAN>property</SPAN><SPAN> </SPAN><SPAN>name</SPAN><SPAN>=</SPAN>&#8220;<SPAN>assembly-version</SPAN>&#8220;<SPAN> </SPAN><SPAN>value</SPAN><SPAN>=</SPAN>&#8220;<SPAN>${project.version}.0000</SPAN>&#8220;<SPAN> /&gt;</SPAN></STRONG></PRE><PRE><STRONG>&nbsp;</STRONG></PRE><PRE><STRONG><SPAN>&nbsp; &nbsp; &lt;</SPAN><SPAN>if</SPAN><SPAN> </SPAN><SPAN>test</SPAN><SPAN>=</SPAN>&#8220;<SPAN>${property::exists(&#8216;CCNetLabel&#8217;)}</SPAN>&#8220;<SPAN>&gt;</SPAN></STRONG></PRE><PRE><STRONG><SPAN>&nbsp; &nbsp; &nbsp; &lt;</SPAN><SPAN>property</SPAN><SPAN> </SPAN><SPAN>name</SPAN><SPAN>=</SPAN>&#8220;<SPAN>assembly-version</SPAN>&#8220;<SPAN> </SPAN><SPAN>value</SPAN><SPAN>=</SPAN>&#8220;<SPAN>${project.version}.${CCNetLabel}</SPAN>&#8220;<SPAN> /&gt;</SPAN></STRONG></PRE><PRE><STRONG><SPAN>&nbsp; &nbsp; &lt;/</SPAN><SPAN>if</SPAN><SPAN>&gt;</SPAN></STRONG></PRE><PRE>&nbsp;</PRE><PRE><SPAN>&nbsp; &nbsp; &lt;</SPAN><SPAN>echo</SPAN><SPAN> </SPAN><SPAN>message</SPAN><SPAN>=</SPAN>&#8220;<SPAN>I&#8217;m running</SPAN>&#8220;<SPAN>/&gt;</SPAN></PRE><PRE><SPAN>&nbsp; &nbsp; &lt;</SPAN><SPAN>echo</SPAN><SPAN> </SPAN><SPAN>file</SPAN><SPAN>=</SPAN>&#8220;<SPAN>version.xml</SPAN>&#8220;<SPAN> </SPAN><SPAN>message</SPAN><SPAN>=</SPAN>&#8220;<SPAN>&amp;lt;</SPAN><SPAN>version</SPAN><SPAN>&amp;gt;</SPAN><SPAN>${assembly-version}</SPAN><SPAN>&amp;lt;</SPAN><SPAN>/version</SPAN><SPAN>&amp;gt;</SPAN>&#8220;<SPAN>&nbsp; /&gt;</SPAN></PRE><PRE>&nbsp;</PRE><PRE><SPAN>&nbsp; &nbsp; &lt;</SPAN><SPAN>echo</SPAN><SPAN> </SPAN><SPAN>message</SPAN><SPAN>=</SPAN>&#8220;<SPAN>Marking this build as version ${assembly-version}</SPAN>&#8220;<SPAN> /&gt;</SPAN></PRE><PRE><SPAN>&nbsp; &nbsp; &lt;</SPAN><SPAN>asminfo</SPAN><SPAN> </SPAN><SPAN>output</SPAN><SPAN>=</SPAN>&#8220;<SPAN>src/CommonAssemblyInfo.cs</SPAN>&#8220;<SPAN> </SPAN><SPAN>language</SPAN><SPAN>=</SPAN>&#8220;<SPAN>CSharp</SPAN>&#8220;<SPAN>&gt;</SPAN></PRE><PRE><SPAN>&nbsp; &nbsp; &nbsp; &#8230;</SPAN></PRE><PRE><SPAN></SPAN>&nbsp;</PRE><PRE><SPAN>&nbsp; &nbsp; &nbsp; &lt;</SPAN><SPAN>attributes</SPAN><SPAN>&gt;</SPAN></PRE><PRE><SPAN>&nbsp; &nbsp; &nbsp; &nbsp; <STRONG>&lt;</STRONG></SPAN><STRONG><SPAN>attribute</SPAN><SPAN> </SPAN><SPAN>type</SPAN><SPAN>=</SPAN>&#8220;<SPAN>AssemblyVersionAttribute</SPAN>&#8220;<SPAN> </SPAN><SPAN>value</SPAN><SPAN>=</SPAN>&#8220;<SPAN>${assembly-version}</SPAN>&#8220;<SPAN> /&gt;</SPAN></STRONG></PRE><PRE><SPAN>&nbsp; &nbsp; &nbsp; &nbsp; &#8230;</SPAN></PRE><PRE><SPAN>&nbsp; &nbsp; &nbsp; &lt;/</SPAN><SPAN>attributes</SPAN><SPAN>&gt;</SPAN></PRE><PRE><SPAN></SPAN>&nbsp;</PRE><PRE><SPAN>&nbsp; &nbsp; &nbsp; &#8230;</SPAN></PRE><PRE><SPAN>&nbsp; &nbsp; &lt;/</SPAN><SPAN>asminfo</SPAN><SPAN>&gt;</SPAN></PRE><PRE><SPAN>&nbsp; &lt;/</SPAN><SPAN>target</SPAN><SPAN>&gt;</SPAN></PRE></DIV><br />
<P>Pay attention to the bolded parts.&nbsp; When the NAnt script runs it will create a new file called CommonAssemblyInfo.cs that contains assembly attributes to identify the product name and build version.&nbsp; This file is linked to each and every binary in my solution.&nbsp; As long as this target runs before the compilation I can embed the contents of the &#8220;assembly-version&#8221; property into the version number of each binary.&nbsp; The &#8220;assembly-version&#8221; is created at runtime by appending the current &#8220;CCNetLabel&#8221; property to the project version.&nbsp; Assuming the build is successful, I get a batch of binaries that can be clearly traced to a known CruiseControl.Net build.&nbsp; The &#8220;CCNetLabel&#8221; is supplied to NAnt from CruiseControl.Net itself and wouldn&#8217;t be available if you simply ran the StoryTeller.build file manually.&nbsp; In fact, when I run the NAnt build manually all the binaries will be versioned (as of this writing) as &#8220;0.8.0.0000.&#8221;&nbsp; Seeing the four zeros at the end of the build tells me this is a local developer build.&nbsp; In a real project that tells me that these assemblies are not to be trusted because <STRONG>I don&#8217;t know where&nbsp;this build&nbsp;came from</STRONG>.</P><br />
<P>Ok, that&#8217;s nice.&nbsp; You know what CC.Net build the assemblies came from, but how can you know exactly which version of the code in source control made up the binaries?&nbsp; Simple, we just have CC.Net tag the source control with the build number after successful builds.&nbsp; Fortunately, the CC.Net + Subversion combo makes this very simple.&nbsp; Here&#8217;s the snippet from the ccnet.config file for StoryTeller to do just this:</P><br />
<P>&nbsp;</P><br />
<DIV><PRE><SPAN>&nbsp; &lt;</SPAN><SPAN>project</SPAN><SPAN> </SPAN><SPAN>name</SPAN><SPAN>=</SPAN>&#8220;<SPAN>StoryTeller</SPAN>&#8220;<SPAN>&nbsp; </SPAN><SPAN>queue</SPAN><SPAN>=</SPAN>&#8220;<SPAN>StoryTeller</SPAN>&#8220;<SPAN>&gt;</SPAN></PRE><PRE><SPAN>&nbsp; &nbsp; &lt;</SPAN><SPAN>workingDirectory</SPAN><SPAN>&gt;</SPAN>d:\work\StoryTeller<SPAN>&lt;/</SPAN><SPAN>workingDirectory</SPAN><SPAN>&gt;</SPAN></PRE><PRE><SPAN>&nbsp; &nbsp; &lt;</SPAN><SPAN>modificationDelaySeconds</SPAN><SPAN>&gt;</SPAN>10<SPAN>&lt;/</SPAN><SPAN>modificationDelaySeconds</SPAN><SPAN>&gt;</SPAN></PRE><PRE>&nbsp;</PRE><PRE><SPAN>&nbsp; &nbsp; &#8230;</SPAN></PRE><PRE>&nbsp;</PRE><PRE><SPAN>&nbsp; &nbsp; &lt;</SPAN><SPAN>sourcecontrol</SPAN><SPAN> </SPAN><SPAN>type</SPAN><SPAN>=</SPAN>&#8220;<SPAN>svn</SPAN>&#8220;<SPAN>&gt;</SPAN></PRE><PRE><SPAN>&nbsp; &nbsp; &nbsp; &lt;</SPAN><SPAN>trunkUrl</SPAN><SPAN>&gt;</SPAN>http://storyteller.tigris.org/svn/storyteller/trunk<SPAN>&lt;/</SPAN><SPAN>trunkUrl</SPAN><SPAN>&gt;</SPAN></PRE><PRE><SPAN>&nbsp; &nbsp; &nbsp; &lt;</SPAN><SPAN>workingDirectory</SPAN><SPAN>&gt;</SPAN>d:\work\StoryTeller<SPAN>&lt;/</SPAN><SPAN>workingDirectory</SPAN><SPAN>&gt;</SPAN></PRE><PRE><STRONG><SPAN>&nbsp; &nbsp; &nbsp; &lt;</SPAN><SPAN>tagBaseUrl</SPAN><SPAN>&gt;</SPAN>http://storyteller.tigris.org/svn/storyteller/tags<SPAN>&lt;/</SPAN><SPAN>tagBaseUrl</SPAN><SPAN>&gt;</SPAN></STRONG></PRE><PRE><STRONG><SPAN>&nbsp; &nbsp; &nbsp; &lt;</SPAN><SPAN>tagOnSuccess</SPAN><SPAN>&gt;</SPAN>true<SPAN>&lt;/</SPAN><SPAN>tagOnSuccess</SPAN><SPAN>&gt;</SPAN></STRONG></PRE><PRE><SPAN>&nbsp; &nbsp; &lt;/</SPAN><SPAN>sourcecontrol</SPAN><SPAN>&gt;</SPAN></PRE><PRE>&nbsp;</PRE><PRE><SPAN>&nbsp; &nbsp; &#8230;</SPAN></PRE><PRE><SPAN>&nbsp; &nbsp; &lt;/</SPAN><SPAN>publishers</SPAN><SPAN>&gt;</SPAN></PRE><PRE>&nbsp;</PRE><PRE><SPAN>&nbsp; &lt;/</SPAN><SPAN>project</SPAN><SPAN>&gt;</SPAN></PRE></DIV><br />
<P>After each successful build, CC.Net will issue a command to Subversion to tag the current revision of the repository trunk as the CCNet build number.&nbsp; At any time I can retrieve the exact version of the code matching the binaries by the tag number.&nbsp;&nbsp;It&#8217;s now trivial to&nbsp;retroactively create a support branch from a given CC.Net build.&nbsp; Any fights over what code made it into the official build&nbsp;are relatively easy to solve by simply going to the repository browser.</P><br />
<P>&nbsp;</P><br />
<H4>Removing&nbsp;Project Friction&nbsp;</H4><br />
<P>The previous part talked about the mechanics of the build, but now let&#8217;s talk over the workflow.&nbsp; I want to be able to deploy code to testing and even production with minimal friction.&nbsp; With a team of any size and embedded testers, I could easily be pushing code to the testers 3-5 times or more&nbsp;a day on average.&nbsp; To do this effectively, I want to shut down the possibility of errors and miscommunication between myself and the testers.&nbsp; Specifically, I&#8217;m concerned about these issues:</P><br />
<OL><br />
<LI>We screwed up the push.&nbsp; I hate getting bug reports that are caused by botched testing pushes.&nbsp; 100% automation of builds&nbsp;with environment tests baby!</LI><br />
<LI>The testers tested the bug fix before the bug fix was deployed.&nbsp; Don&#8217;t waste the testers time.&nbsp; When you fix bugs or new stories, you always tell the testers which build number contains the fixes and new features.&nbsp; On the other side, the testers have to be aware of the current build number.&nbsp; Make the build number obvious in some way.&nbsp; Either teach them to check the assembly versions themselves, put the build number in some kind of &#8220;About&#8221; screen, or put the build number into the title bar.&nbsp; However you do it, strive to cut down on miscommunication problems betwixt you and the tester.&nbsp; &#8220;I thought you had already pushed that code&#8221; or &#8220;oops, you don&#8217;t have the right code yet&#8221; comments need to become a thing of the past.</LI><br />
<LI>I want to do the push fast and get right back to work.&nbsp; By wanting to work iteratively in smaller steps I&#8217;m going to need to make far more pushes to testing.&nbsp; I want them to be automated to spare my time.</LI></OL><br />
<P>&nbsp;</P><br />
<H4>Closing Thoughts</H4><br />
<P>I find it more than a little ironic that traditionalists like to label Extreme Programming as irresponsible hacking, but yet I&#8217;ve learned far more about better configuration management practices from my XP experience than I ever did in a traditional software shop that was desperately chasing higher CMM levels.&nbsp; </P><br />
<P>We all want to be safe, know where things are, and generally stay under control.&nbsp; I also want to go fast and get stuff done.&nbsp; I don&#8217;t want laborious configuration management practices holding me back and retarding my progress.&nbsp; I never want the fear of the configuration management process to stop me from making the right technical decisions.&nbsp; For all of these reasons and more, I strongly prefer using&nbsp;project automation wherever possible in place of fancy manual work processes.&nbsp; The case in point for me was a situation last spring where we hacked up some code because it was just too freaking hard to go through the client&#8217;s database change management process.</P><br />
<P>I think this issue is another point in favor of blurring the lines between project roles.&nbsp; In my old traditional environment we had a separate configuration management team and the developers had nothing to do with this process other than filling out paperwork.&nbsp; As I discussed in my horror stories, I was able to color within the lines of their official process and still screw up the configuration management royally.&nbsp; In a small Agile shop us developers were responsible for configuration management.&nbsp; We implemented Continuous Integration and automated builds ourselves.&nbsp; We actually had far, far better control over what code was where inside our environment because change management was baked into the day to day development.</P><br />
<P>&nbsp;</P><br />
<P>The morale of the story.&nbsp; If you have a request for a blog topic, you&#8217;re not in a hurry, and I already have the content sitting around, I will happily write up a blog post for you.</P></p>
											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/db65c5c5cf9f1c51e842f733892eace1?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Jeremy Miller</h2>
							Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.							<div id="author-link">
								<a href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">View all posts by Jeremy Miller &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/jeremymiller/category/continuous-integration/" title="View all posts in Continuous Integration" rel="category tag">Continuous Integration</a>, <a href="http://codebetter.com/jeremymiller/category/featured/" title="View all posts in Featured" rel="category tag">Featured</a>, <a href="http://codebetter.com/jeremymiller/category/storyteller/" title="View all posts in StoryTeller" rel="category tag">StoryTeller</a>. Bookmark the <a href="http://codebetter.com/jeremymiller/2007/12/06/do-you-really-know-where-that-code-has-been/" title="Permalink to Do you really know where that code has been?" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/jeremymiller/2007/12/06/do-you-really-know-where-that-code-has-been/feed/" title="Comments RSS to Do you really know where that code has been?" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-463 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/jeremymiller/2007/12/04/a-microcosm-of-agile-design/" rel="prev"><span class="meta-nav">&larr;</span> A Microcosm of Agile Design</a></div>
					<div class="nav-next"><a href="http://codebetter.com/jeremymiller/2007/12/07/alt-net-uk-has-been-announced/" rel="next">Alt.Net.UK has been announced <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
					<div id="dsq-content">
			<ul id="dsq-comments">
					<li id="dsq-comment-3132">
					<div id="dsq-comment-header-3132" class="dsq-comment-header">
						<cite id="dsq-cite-3132">
	http://weblogs.asp.net/bsimser							<span id="dsq-author-user-3132">Bil Simser</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3132" class="dsq-comment-body">
						<div id="dsq-comment-message-3132" class="dsq-comment-message"><p>Thanks mate. This is perfect and what I was looking for. I encourage everyone to go check out the StoryTeller.build file as it contains some nice pieces for handling the build process. I need to figure out how to tag builds with TFS so I&#8217;ll probably blog that shortly as a companion to this post.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3133">
					<div id="dsq-comment-header-3133" class="dsq-comment-header">
						<cite id="dsq-cite-3133">
	http://bryantb.blogspot.com							<span id="dsq-author-user-3133">Bryant</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3133" class="dsq-comment-body">
						<div id="dsq-comment-message-3133" class="dsq-comment-message"><p>Great post! Long time reader, first time poster here. Your blog saves me a lot of time as a manager of a team of developers. We&#8217;re currently in the middle of a two+ year migration from an enterprise Oracle Forms application using a modified Scrum development process. Several of the developers are new to .NET so have a lot of questions. Many times I can just give them a URL to one of your posts and their questions are answered.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3134">
					<div id="dsq-comment-header-3134" class="dsq-comment-header">
						<cite id="dsq-cite-3134">
								<span id="dsq-author-user-3134">rgdavies71</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3134" class="dsq-comment-body">
						<div id="dsq-comment-message-3134" class="dsq-comment-message"><p>Good stuff as always.</p>
<p>One point &#8211; by labelling the source post-build, is there not a danger of code being checked in between the build and the labeling?  We prefer to label first, then get the source from that label.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3135">
					<div id="dsq-comment-header-3135" class="dsq-comment-header">
						<cite id="dsq-cite-3135">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-3135">Jeremy D. Miller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3135" class="dsq-comment-body">
						<div id="dsq-comment-message-3135" class="dsq-comment-message"><p>I&#8217;d have to dig for a second, but I believe that CC.Net remembers the SVN revision number and uses that to create the tags for that very reason.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3136">
					<div id="dsq-comment-header-3136" class="dsq-comment-header">
						<cite id="dsq-cite-3136">
								<span id="dsq-author-user-3136">rgdavies71</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3136" class="dsq-comment-body">
						<div id="dsq-comment-message-3136" class="dsq-comment-message"><p>That makes sense, I knew you&#8217;d have it covered <img src='http://codebetter.com/jeremymiller/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>We are just getting the build process automated with TFS, I&#8217;ll go and dig around myself and see what the story is &#8230;</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3137">
					<div id="dsq-comment-header-3137" class="dsq-comment-header">
						<cite id="dsq-cite-3137">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-3137">Jeremy D. Miller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3137" class="dsq-comment-body">
						<div id="dsq-comment-message-3137" class="dsq-comment-message"><p>Not me, thank Owen Rogers, Mike Roberts, and the CC.Net gang</p>
<p>P.S.  To you TFS using folks, did I mention how easy CC.Net and Subversion is?  <img src='http://codebetter.com/jeremymiller/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> </p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3138">
					<div id="dsq-comment-header-3138" class="dsq-comment-header">
						<cite id="dsq-cite-3138">
	http://weblogs.asp.net/bsimser							<span id="dsq-author-user-3138">Bil Simser</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3138" class="dsq-comment-body">
						<div id="dsq-comment-message-3138" class="dsq-comment-message"><p>Dude, don&#8217;t remind me about TFS->Subversion. I&#8217;ll get you on the phone to my boss and you can duke it out with him over it.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3139">
					<div id="dsq-comment-header-3139" class="dsq-comment-header">
						<cite id="dsq-cite-3139">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-3139">Jeremy D. Miller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3139" class="dsq-comment-body">
						<div id="dsq-comment-message-3139" class="dsq-comment-message"><p>@Bil,</p>
<p>It&#8217;s more fun to taunt you.  </p>
<p>If you want a comeback, you could try:  &#8220;Hey Jeremy, having fun with legacy .Net 1.1 code today?&#8221;</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3140">
					<div id="dsq-comment-header-3140" class="dsq-comment-header">
						<cite id="dsq-cite-3140">
	http://brewder.blogspot.com/							<span id="dsq-author-user-3140">Brian Brewder</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3140" class="dsq-comment-body">
						<div id="dsq-comment-message-3140" class="dsq-comment-message"><p>I completely agree. I&#8217;ve been responsible for automating the build for my team and it&#8217;s been a great success. Before I did it some of the devs were not too sure about it, but they have all been converted to believers <img src='http://codebetter.com/jeremymiller/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> . </p>
<p>If anybody is interested, I&#8217;ve got some posts on my blog on automated builds. <a href="http://brewder.blogspot.com/search/label/build" rel="nofollow">http://brewder.blogspot.com/search/label/build</a>. One of the posts includes links to an article I wrote on Code Project about how to compile projects (VB.Net and C# projects anyway) in the correct order without solution files or manual configuration (just standard project files).</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3141">
					<div id="dsq-comment-header-3141" class="dsq-comment-header">
						<cite id="dsq-cite-3141">
	http://codeprairie.net/blogs/chrisortman							<span id="dsq-author-user-3141">Chris Ortman</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3141" class="dsq-comment-body">
						<div id="dsq-comment-message-3141" class="dsq-comment-message"><p>Could you explain why you prefer to tag the build on success rather than use the SVN revision as part of your assembly version?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3142">
					<div id="dsq-comment-header-3142" class="dsq-comment-header">
						<cite id="dsq-cite-3142">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-3142">Jeremy D. Miller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3142" class="dsq-comment-body">
						<div id="dsq-comment-message-3142" class="dsq-comment-message"><p>Chris,</p>
<p>I think I&#8217;d be fibbing if I gave you too much more than &#8220;that&#8217;s the way I learned to do it.&#8221;  I do like using the CC.Net build because:</p>
<p>* lots of things trip off SVN versioning besides code changes<br />
* I only want to care about versions that pass a CC.Net build anyway</p>
<p>You can simply switch CC.Net to use the SVN number and make that visible throughout.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3143">
					<div id="dsq-comment-header-3143" class="dsq-comment-header">
						<cite id="dsq-cite-3143">
	http://codeprairie.net/blogs/chrisortman/default.aspx							<span id="dsq-author-user-3143">chrisortman</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3143" class="dsq-comment-body">
						<div id="dsq-comment-message-3143" class="dsq-comment-message"><p>On one of my projects I&#8217;m on build 230. Do you periodically delete old tags?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3144">
					<div id="dsq-comment-header-3144" class="dsq-comment-header">
						<cite id="dsq-cite-3144">
	http://thunkthing.blogspot.com/							<span id="dsq-author-user-3144">AndyB</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3144" class="dsq-comment-body">
						<div id="dsq-comment-message-3144" class="dsq-comment-message"><p>Jeremy</p>
<p>As a matter of practice, do you take tags for every single build or just release (incl. release-to-test) builds?</p>
<p>The reason I ask is in a similar vein to that of Chris&#8217;s question &#8211; you will end up with a major amount of tags (e.g. I&#8217;m currently on build 1251 of the project I&#8217;m developing at the moment as we do our CI nightly).</p>
<p>Also, if you have the build number and you always commit to the trunk of Subversion, then surely that will give you the snapshot of code you require?</p>
<p>BTW, great post again Jeremy.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3145">
					<div id="dsq-comment-header-3145" class="dsq-comment-header">
						<cite id="dsq-cite-3145">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-3145">Jeremy D. Miller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3145" class="dsq-comment-body">
						<div id="dsq-comment-message-3145" class="dsq-comment-message"><p>@AndyB,</p>
<p>The tagging is done automatically with the build.  I haven&#8217;t had any space issues with that yet.  SVN at least makes soft copies, so it isn&#8217;t that expensive.  For releases I generally just like to track the CC version in production.  I can make retroactive branches at will if necessary.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3146">
					<div id="dsq-comment-header-3146" class="dsq-comment-header">
						<cite id="dsq-cite-3146">
	http://sharpbites.blogspot.com							<span id="dsq-author-user-3146">alberto</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3146" class="dsq-comment-body">
						<div id="dsq-comment-message-3146" class="dsq-comment-message"><p>My comment just got lost. <img src='http://codebetter.com/jeremymiller/wp-includes/images/smilies/icon_sad.gif' alt=':(' class='wp-smiley' /> </p>
<p>I&#8217;ll try to write it again.</p>
<p>I have a couple of questions about your slides.</p>
<p>What do you mean by &#8220;One database per developer &#8220;AND ENVIRONMENT&#8221;?</p>
<p>Whats your answer to your question:<br />
Propagating dependent libraries. Manual or Automatic?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3147">
					<div id="dsq-comment-header-3147" class="dsq-comment-header">
						<cite id="dsq-cite-3147">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-3147">Jeremy D. Miller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3147" class="dsq-comment-body">
						<div id="dsq-comment-message-3147" class="dsq-comment-message"><p>@Alberto,</p>
<p>You wrote:  What do you mean by &#8220;One database per developer &#8220;AND ENVIRONMENT&#8221;?</p>
<p>By environment I just meant that the build server should have a dedicated database and the test and/or UAT environments should also have their own dedicated databases.  Sharing a database is tantamount to sharing needles as far as automated testing is concerned.</p>
<p>&#8220;Propagating dependent libraries. Manual or Automatic?&#8221;</p>
<p>If at all possible the mechanical act of propogating binary dependencies from one codebase to another is automated.  The question really becomes:  &#8220;does the dependency push happen automatically during the CI build, or is it kicked off manually?&#8221;</p>
<p>If you own both codebases I say automated.  If it&#8217;s a team handoff, I vote for manually kicked off scripts.  Purely manual processes are bad no matter what in my book.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3148">
					<div id="dsq-comment-header-3148" class="dsq-comment-header">
						<cite id="dsq-cite-3148">
								<span id="dsq-author-user-3148">alberto</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3148" class="dsq-comment-body">
						<div id="dsq-comment-message-3148" class="dsq-comment-message"><p>Could you deep on those two topics a little more?<br />
How do you keep changing databases (the tables themselves, not the data) in sync when changes are made?<br />
How do you keep the state of your databases consistent between tests?</p>
<p>How do you automatically push a dependency?<br />
I have considered two approaches for my libraries (both of which I code).<br />
One is to build it and include it in SVN as any other 3rd party lib.<br />
The other is to build the project using a reference to the library project.<br />
A  third approach would be to use something like Maven to manage dependencies, but I haven&#8217;t found anything specific for .Net.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3149">
					<div id="dsq-comment-header-3149" class="dsq-comment-header">
						<cite id="dsq-cite-3149">
								<span id="dsq-author-user-3149">alberto</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3149" class="dsq-comment-body">
						<div id="dsq-comment-message-3149" class="dsq-comment-message"><p>Just as a clarification.<br />
My concern with dependant home-made libraries is with a couple of libraries that I use in several projects. That&#8217;s why I don&#8217;t really like the idea of using a reference to the project, because when you introduce a breaking change, you are automatically breaking all the other projects.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3150">
					<div id="dsq-comment-header-3150" class="dsq-comment-header">
						<cite id="dsq-cite-3150">
								<span id="dsq-author-user-3150">PascalL</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3150" class="dsq-comment-body">
						<div id="dsq-comment-message-3150" class="dsq-comment-message"><p>@alberto</p>
<p>What we do for that is we branch the code for the libraries.  We update the assembly reference only has needed.  If we don&#8217;t any new feature we just don&#8217;t update the reference until after a release so we could control behavior changes or bugs using the librairies.</p>
<p>The libraries have their own CI build and we update the DLLs in SVN only on a succesfull build.  We also ask the libraries team to handle breaking changes in all the projects using them.</p>
<p>For DB upgrading we write scripts and it&#8217;s the CI job to actually update our QA DB.  Developpers can also update their own DB every time they update the code.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3151">
					<div id="dsq-comment-header-3151" class="dsq-comment-header">
						<cite id="dsq-cite-3151">
								<span id="dsq-author-user-3151">alberto</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3151" class="dsq-comment-body">
						<div id="dsq-comment-message-3151" class="dsq-comment-message"><p>Ok, so you pull the libraries. That&#8217;s the approach i&#8217;m following right now. But I don&#8217;t have an easy way to get the inverse dependencies of the libraries (to see which projects are using the library). Do you?</p>
<p>For the databases, it&#8217;s then again up to the developer when to update the db, while the code may not work if he doesn&#8217;t. That&#8217;s a smell for me. Anyway, do you update or drop and create the DB?</p>
<p>I&#8217;m sorry if I am being too bore. I&#8217;ve just discovered CI and there&#8217;s a lot of stuff and good practices I want to learn about.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3152">
					<div id="dsq-comment-header-3152" class="dsq-comment-header">
						<cite id="dsq-cite-3152">
								<span id="dsq-author-user-3152">PascalL</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3152" class="dsq-comment-body">
						<div id="dsq-comment-message-3152" class="dsq-comment-message"><p>@alberto</p>
<p>>I&#8217;ve just discovered CI and there&#8217;s a lot of stuff and good practices I want to learn about.</p>
<p>Then I suggest you go read all the older stuff on this blog, that&#8217;s how I&#8217;ve learned about CI, testing and stuff.</p>
<p>We got like 15 projects in production right now.  About 10 of them use our core librairies and only 6 use our financial librairies.  It&#8217;s not that hard to know which project use what version of the librairies and we have a tool to search the source code of every project in case we want to make a breaking change.  We are also trying to keep the public API as thin as possible to avoid problems with the librairies consumers.</p>
<p>Our code and DB scripts are in the same repository branch so when I do an update and see that new scripts have been commited I run a macro to update my personnal DB on the server.  Then I know my code and DB are in synch.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3153">
					<div id="dsq-comment-header-3153" class="dsq-comment-header">
						<cite id="dsq-cite-3153">
								<span id="dsq-author-user-3153">alberto</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3153" class="dsq-comment-body">
						<div id="dsq-comment-message-3153" class="dsq-comment-message"><p>> Then I suggest you go read all the older stuff on this blog, that&#8217;s how I&#8217;ve learned about CI, testing and stuff.</p>
<p>I&#8217;m doing it already. A lot. It&#8217;s not that I want you guys to solve all my newbie questions without reading a word.</p>
<p>Thanks both for your  insights, double to Jeremy for your blog, I&#8217;ve found a lot of very interesting stuff.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3154">
					<div id="dsq-comment-header-3154" class="dsq-comment-header">
						<cite id="dsq-cite-3154">
								<span id="dsq-author-user-3154">flipdoubt</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3154" class="dsq-comment-body">
						<div id="dsq-comment-message-3154" class="dsq-comment-message"><p>Great post! One thing that bugs me about CI is that it requires sooooo much configuration. </p>
<p>Right now, I work in a shop that does things the &#8220;horror story&#8221; way. Heck, I&#8217;m the only one that checks things into SVN because others find it mysterious. But even I don&#8217;t use Nant. I &#8220;use&#8221; MSBuild. Really, I have a .BAT file that builds my solution with DEVENV.EXE. Still, it all comes from my developer machine because we only have so many licenses of the components.</p>
<p>Anyway, with all time you have to invest in Nant and CCNet, do you guys have any insights on the recently released TeamCity Professional Edition from JetBrains? It seems to do most of the same stuff, but I wonder whether someone with real experience has used it enough to give a true evaluation. I&#8217;m just afraid of going down one path, spending gobs of time configuring the environment, cajoling the component vendors to cough up licenses for the build server, and then find that I have a very fragile environment based on an inferior tool. I dunno.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3155">
					<div id="dsq-comment-header-3155" class="dsq-comment-header">
						<cite id="dsq-cite-3155">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-3155">Jeremy D. Miller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3155" class="dsq-comment-body">
						<div id="dsq-comment-message-3155" class="dsq-comment-message"><p>@flipdoubt,</p>
<p>&#8220;One thing that bugs me about CI is that it requires sooooo much configuration.&#8221;</p>
<p>How so?  Vanilla CC.Net takes very little configuration to get up and going.  I&#8217;ve set up a new CC.Net build from scratch in under an hour on several occasions.  I&#8217;ve given TeamCity a couple tries, mostly to get a unified build monitor for both Java server and .Net client.  My feeling was that I can get CC.Net up much faster than I can TeamCity, even with TeamCity&#8217;s GUI screens for configuration.  </p>
<p>JetBrains did open source it though.</p>
<p>The components on the build server is a bit of a nightmare.  They should have a solution for licensing strictly on the build server.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3156">
					<div id="dsq-comment-header-3156" class="dsq-comment-header">
						<cite id="dsq-cite-3156">
								<span id="dsq-author-user-3156">flipdoubt</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3156" class="dsq-comment-body">
						<div id="dsq-comment-message-3156" class="dsq-comment-message"><p>Hmmm, the Tomcat, JRE, and MySql of TeamCity seem kinda intimidating. I think Iâ€™ll go back to digging into  CC.NET.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3157">
					<div id="dsq-comment-header-3157" class="dsq-comment-header">
						<cite id="dsq-cite-3157">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-3157">Jeremy D. Miller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3157" class="dsq-comment-body">
						<div id="dsq-comment-message-3157" class="dsq-comment-message"><p>Feel free to send in questions, or better yet, post it here.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3158">
					<div id="dsq-comment-header-3158" class="dsq-comment-header">
						<cite id="dsq-cite-3158">
								<span id="dsq-author-user-3158">flipdoubt</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3158" class="dsq-comment-body">
						<div id="dsq-comment-message-3158" class="dsq-comment-message"><p>Thanks for the offer of help!</p>
<p>I spent some time wiring up a three project solution using an MSBuild task in CC.NET. If I use the solution file as the MSBuild file, I can&#8217;t set the Target property to Build. Does the solution file not contain any targets?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3159">
					<div id="dsq-comment-header-3159" class="dsq-comment-header">
						<cite id="dsq-cite-3159">
								<span id="dsq-author-user-3159">flipdoubt</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3159" class="dsq-comment-body">
						<div id="dsq-comment-message-3159" class="dsq-comment-message"><p>Nevermind. I figured out that I need to set the build argument to /p:Configuration=Release and leave the Targets property blank. Now I just have to figure out how to pull off your labeler magic without Nant or figure out how to get the SVN revision number.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3160">
					<div id="dsq-comment-header-3160" class="dsq-comment-header">
						<cite id="dsq-cite-3160">
								<span id="dsq-author-user-3160">Ian Wood</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3160" class="dsq-comment-body">
						<div id="dsq-comment-message-3160" class="dsq-comment-message"><p>It is easy to get the SVN Revision number. Here is how we use SVN checkout.</p>
<p>	<target Name="Checkout" DependsOnTargets="GetSVNCodePath;CreateDirectories"><br />
		<svncheckout RepositoryPath="$(SVNRepositoryPath)"<br />
						 LocalPath="..\Code"><br />
			<output TaskParameter="Revision" PropertyName="Revision" /><br />
		</svncheckout><br />
		<message Text="Revision: $(Revision)"/><br />
	</target></p>
<p>You can then use $(Revision) where ever you need it.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3161">
					<div id="dsq-comment-header-3161" class="dsq-comment-header">
						<cite id="dsq-cite-3161">
								<span id="dsq-author-user-3161">flipdoubt</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3161" class="dsq-comment-body">
						<div id="dsq-comment-message-3161" class="dsq-comment-message"><p>@Ian,</p>
<p>Cool beans! But what kind of markup is that? Does it go in the MSBuild file, the CC.NET config, or what?</p>
<p>Thanks, by the way.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3162">
					<div id="dsq-comment-header-3162" class="dsq-comment-header">
						<cite id="dsq-cite-3162">
								<span id="dsq-author-user-3162">Ian Wood</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3162" class="dsq-comment-body">
						<div id="dsq-comment-message-3162" class="dsq-comment-message"><p>Dear flipdoubt,</p>
<p>Sorry not be clearer. </p>
<p>That is in the MSbuild file. </p>
<p>The way I have set up out Build is that all the work is done in the MSbuild files ( there are several ) rather than CCNET. </p>
<p>I have done this so that the scripts are more reusable and to be able to isolate things when there are problems. For instance there were the occasional problem due to the fact that the CCNet runs as ASPNET<br />
rather than the user of the box. As I was able to run the exact same script I was able to tell the problem was due to it been run as ASPNET.</p>
<p>As an aside we use the CCNETLabel to version our deployment assemblies.  This is $(CCNetLabel) which is passed to MSBuild from CCNET &#8220;by magic&#8221;.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3163">
					<div id="dsq-comment-header-3163" class="dsq-comment-header">
						<cite id="dsq-cite-3163">
								<span id="dsq-author-user-3163">flipdoubt</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3163" class="dsq-comment-body">
						<div id="dsq-comment-message-3163" class="dsq-comment-message"><p>So you&#8217;re saying you have $(CCNetLabel) in your AssemblyInfo.cs or SolutionInfo.cs? If so, that&#8217;s pretty cool, but you obviously can&#8217;t compile and debug it in VS.NET that way. In what part of the process do you slip it in?</p>
<p>I would love to version my deployment assemblies that way.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3164">
					<div id="dsq-comment-header-3164" class="dsq-comment-header">
						<cite id="dsq-cite-3164">
								<span id="dsq-author-user-3164">flipdoubt</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3164" class="dsq-comment-body">
						<div id="dsq-comment-message-3164" class="dsq-comment-message"><p>Here is a general question: How do I turn my .SLN file into an MSBUILD file so I can add tasks? Maybe that is a silly question that simply show how little I know.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3165">
					<div id="dsq-comment-header-3165" class="dsq-comment-header">
						<cite id="dsq-cite-3165">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-3165">Jeremy D. Miller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3165" class="dsq-comment-body">
						<div id="dsq-comment-message-3165" class="dsq-comment-message"><p>Assuming that you&#8217;re on 2.0+, there isn&#8217;t anything to it.  The .SLN file is an MSBuild file.  In NAnt I just shell out to MSBuild to do the compile step like this:</p>
<p>    <msbuild project="src\StoryTeller.sln"><br />
      <arg value="/property:Configuration=${compile.target}" /><br />
      <arg value="/t:Rebuild" /><br />
    </msbuild></p>
<p>where ${compile.target} is either &#8220;debug&#8221; or &#8220;release&#8221;</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3166">
					<div id="dsq-comment-header-3166" class="dsq-comment-header">
						<cite id="dsq-cite-3166">
								<span id="dsq-author-user-3166">Ian Wood</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3166" class="dsq-comment-body">
						<div id="dsq-comment-message-3166" class="dsq-comment-message"><p>@flipdoubt </p>
<p>You may find this article useful. Its a little old but answers some of the questions you have asked.</p>
<p><a href="http://blogs.msdn.com/mswanson/archive/2004/10/05/238423.aspx" rel="nofollow">http://blogs.msdn.com/mswanson/archive/2004/10/05/238423.aspx</a> </p>
<p>>So you&#8217;re saying you have $(CCNetLabel) in your AssemblyInfo.cs or SolutionInfo.cs?<br />
No, the PropertyGroup is in an MSBuild file, e.g. Build.pro.</p>
<p>Also, as far as I know, .sln files are strictly MSBuild files, the .csprojs are. However the MSBuild Task can .sln file as its Projects Property. </p>
<p>We version are assemblies using a Task file from GotDotNet  ( <a href="http://www.gotdotnet.com/Community/UserSamples/Details.aspx?SampleGuid=5C455590-332C-433B-A648-E368B9515580" rel="nofollow">http://www.gotdotnet.com/Community/UserSamples/Details.aspx?SampleGuid=5C455590-332C-433B-A648-E368B9515580</a> )  but instead of modifying the .csproj of each project it is done on the CI machine during its build. This way there is nothing for developers to do when a new project is added.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3167">
					<div id="dsq-comment-header-3167" class="dsq-comment-header">
						<cite id="dsq-cite-3167">
								<span id="dsq-author-user-3167">Ian Wood</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3167" class="dsq-comment-body">
						<div id="dsq-comment-message-3167" class="dsq-comment-message"><p>Sorry, bit of a typo &#8211; this should be</p>
<p>Also, as far as I know, .sln files are NOT strictly MSBuild files, the .csprojs are. However the MSBuild Task can a .sln file as its Projects Property.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3168">
					<div id="dsq-comment-header-3168" class="dsq-comment-header">
						<cite id="dsq-cite-3168">
								<span id="dsq-author-user-3168">flipdoubt</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3168" class="dsq-comment-body">
						<div id="dsq-comment-message-3168" class="dsq-comment-message"><p>@Ian:<br />
I figured a .SLN file must not be an MSBuild file because a .SLN does not contain XML. I&#8217;m asking how to convert it to a true MSBuild file so that I can add some of these additional tasks you&#8217;re suggesting.</p>
<p>@Jeremy:<br />
I know you&#8217;re not saying this outright, but it sounds like your general recommendation would be to switch from MSBuild to Nant. I&#8217;m asking about a tool to translate .SLN to either MSBuild or Nant because I want to keep this as simple as possible. I just want to build the assemblies and add a task  to assign the SVN revision number as the assembly version.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3169">
					<div id="dsq-comment-header-3169" class="dsq-comment-header">
						<cite id="dsq-cite-3169">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-3169">Jeremy D. Miller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3169" class="dsq-comment-body">
						<div id="dsq-comment-message-3169" class="dsq-comment-message"><p>@flipdoubt,</p>
<p>You don&#8217;t need to convert the sln file to anything else.  Either MSBuild or NAnt can happily compile just by feeding in the sln filepath and build target.  I&#8217;m not necessarily recommending NAnt over MSBuild.  I use NAnt because I&#8217;ve used it for quite a while and I don&#8217;t see anything compelling about MSBuild to make the switch.  Either tool will get the job done.</p>
<p>Of course I&#8217;m going to give a long, hard look at moving to Rake for the next adventure.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3170">
					<div id="dsq-comment-header-3170" class="dsq-comment-header">
						<cite id="dsq-cite-3170">
								<span id="dsq-author-user-3170">flipdoubt</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3170" class="dsq-comment-body">
						<div id="dsq-comment-message-3170" class="dsq-comment-message"><p>@Jeremy,</p>
<p>Thanks for all the advice.</p>
<p>If my CCNET label makes a valid assembly version, how would I go about slipping that into the one and only SolutionInfo.cs file I have referenced by all  24 projects in my solution? Do I use some kind of CCNET task before the MSBuild task? Which one?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3171">
					<div id="dsq-comment-header-3171" class="dsq-comment-header">
						<cite id="dsq-cite-3171">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-3171">Jeremy D. Miller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3171" class="dsq-comment-body">
						<div id="dsq-comment-message-3171" class="dsq-comment-message"><p>@flipdoubt,</p>
<p>You&#8217;ve created a build script in either NAnt or MSBuild right?  Before the &#8220;compile&#8221; step, you need to call some sort of &#8220;version&#8221; task to build a CommonAssemblyInfo.  There&#8217;s an example of doing this in NAnt in this post with the <asminfo> task in NAnt.  I know there&#8217;s an MSBuild equivalent, but I think you have to go to MSBuildContrib for that.</p>
<p>Once you can generate the CommonAssemblyInfo file, you just make every single project in your solution *link* to that file and remove everything but the assembly name from each AssemblyInfo.cs file created by Visual Studio.</asminfo></p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3172">
					<div id="dsq-comment-header-3172" class="dsq-comment-header">
						<cite id="dsq-cite-3172">
								<span id="dsq-author-user-3172">flipdoubt</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3172" class="dsq-comment-body">
						<div id="dsq-comment-message-3172" class="dsq-comment-message"><p>@Jeremy<br />
Thanks for all the very valuable help thus far. I&#8217;m having a hard time finding the MSBuildContrib project. I&#8217;ve searched both CodePlex and Sourceforge. Any ideas as to where I can find it?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3173">
					<div id="dsq-comment-header-3173" class="dsq-comment-header">
						<cite id="dsq-cite-3173">
								<span id="dsq-author-user-3173">flipdoubt</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3173" class="dsq-comment-body">
						<div id="dsq-comment-message-3173" class="dsq-comment-message"><p>I wrote my own silly little executable to update Assembly attributes by name. Thanks for all your help guys!</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3174">
					<div id="dsq-comment-header-3174" class="dsq-comment-header">
						<cite id="dsq-cite-3174">
								<span id="dsq-author-user-3174">Paul Hatcher</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3174" class="dsq-comment-body">
						<div id="dsq-comment-message-3174" class="dsq-comment-message"><p>Regarding the comment made about how &#8220;expensive&#8221; CI can be to set up, what I&#8217;ve done is to make a very simple common msbuild file and an additional msbuild file per solution that just lists the assemblies to be tested.</p>
<p>This gets me the best of both worlds; I can build on my development machine before checkin to see if the unit tests pass and get the code coverage stats etc, but I know that when I check in, that the same build process will be executed on the build server.</p>
<p>The trick is to put the tools (NUnit, NCover, etc) into source control as well and have that as the primary dependency for each project on the build server and also grab a copy onto each developer&#8217;s workstation &#8211; this ensures that most environmental build issues disappear.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-3175">
					<div id="dsq-comment-header-3175" class="dsq-comment-header">
						<cite id="dsq-cite-3175">
								<span id="dsq-author-user-3175">LiamD</span>
							</cite>
					</div>
					<div id="dsq-comment-body-3175" class="dsq-comment-body">
						<div id="dsq-comment-message-3175" class="dsq-comment-message"><p>Should AssemblyInfo.cs not be placed in Version Control? What if I want to go back to an old revision in the repository and try to build it the build output will be different from that created by the CC build, since AssemblyInfo.cs is created on the fly based on &#8220;CCNetLabel&#8221;.</p>
<p>So in order to create the exact same executable AssemblyInfo has to be in version control too?</p>
</div>
					</div>
				</li>
				</ul>
		</div>
	</div>

<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript">
/* <![CDATA[ */
	var disqus_url = 'http://codebetter.com/jeremymiller/2007/12/06/do-you-really-know-where-that-code-has-been/ ';
	var disqus_identifier = '463 /blogs/jeremy.miller/archive/2007/12/06/do-you-really-know-where-that-code-has-been.aspx';
	var disqus_container_id = 'disqus_thread';
	var disqus_domain = 'disqus.com';
	var disqus_shortname = 'theshadetreedeveloper';
	var disqus_title = "Do you really know where that code has been?";
		var disqus_config = function () {
	    var config = this; // Access to the config object

	    /* 
	       All currently supported events:
	        * preData â€” fires just before we request for initial data
	        * preInit - fires after we get initial data but before we load any dependencies
	        * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
	        * afterRender - fires when template is rendered but before we show it
	        * onReady - everything is done
	     */

		config.callbacks.preData.push(function() {
			// clear out the container (its filled for SEO/legacy purposes)
			document.getElementById(disqus_container_id).innerHTML = '';
		});
				config.callbacks.onReady.push(function() {
			// sync comments in the background so we don't block the page
			DISQUS.request.get('?cf_action=sync_comments&post_id=463');
		});
					};
	var facebookXdReceiverPath = 'http://codebetter.com/jeremymiller/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
	var DsqLocal = {
		'trackbacks': [
		],
		'trackback_url': "http:\/\/codebetter.com\/jeremymiller\/2007\/12\/06\/do-you-really-know-where-that-code-has-been\/trackback\/"	};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript';
	dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.61';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">The Shade Tree Developer</h3>Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.
</li><li id="text-3" class="widget-container widget_text"><h3 class="widget-title">Upcoming posts&#8230;</h3>			<div class="textwidget"><p>How I'm using StoryTeller to test FubuMVC<br />
Building a "Lookup" html convention w/ FubuMVC<br />
FubuMVC's Configuration Model "Special Sauce"<br />
Managing Script dependencies with FubuMVC<br />
Authorization and FubuMVC<br />
Continuations<br />
Composing Views with FubuMVC<br />
Extensible Model Binding with FubuMVC<br />
Introducing "Bottles"<br />
Modular Packaging with FubuMVC<br />
Self-Installing Apps w/ FubuMVC<br />
Routing and Behavioral Conventions with FubuMVC<br />
What Should I Learn?</p>
</div>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://twitter.com/jeremydmiller">Follow me on Twitter</a></li>
<li><a href="https://github.com/DarthFubuMVC/fubumvc" target="_blank">FubuMVC on GitHub</a></li>
<li><a href="https://github.com/jeremydmiller">My GitHub Page</a></li>
<li><a href="https://github.com/storyteller/storyteller">StoryTeller on GitHub</a></li>
<li><a href="https://github.com/structuremap/structuremap">StructureMap on GitHub</a></li>

	</ul>
</li>
		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
					<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/jeremymiller/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/08/' title='August 2010'>August 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/07/' title='July 2010'>July 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/06/' title='June 2010'>June 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/05/' title='May 2010'>May 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/03/' title='March 2010'>March 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/02/' title='February 2010'>February 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/01/' title='January 2010'>January 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/06/' title='June 2009'>June 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/09/' title='September 2008'>September 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/08/' title='August 2008'>August 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/07/' title='July 2008'>July 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/06/' title='June 2008'>June 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/05/' title='May 2008'>May 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/04/' title='April 2008'>April 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/03/' title='March 2008'>March 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/02/' title='February 2008'>February 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/01/' title='January 2008'>January 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/12/' title='December 2007'>December 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/11/' title='November 2007'>November 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/10/' title='October 2007'>October 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/09/' title='September 2007'>September 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/08/' title='August 2007'>August 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/07/' title='July 2007'>July 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/06/' title='June 2007'>June 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/05/' title='May 2007'>May 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/04/' title='April 2007'>April 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/03/' title='March 2007'>March 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/02/' title='February 2007'>February 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/01/' title='January 2007'>January 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/12/' title='December 2006'>December 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/11/' title='November 2006'>November 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/10/' title='October 2006'>October 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/09/' title='September 2006'>September 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/08/' title='August 2006'>August 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/07/' title='July 2006'>July 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/06/' title='June 2006'>June 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/05/' title='May 2006'>May 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/04/' title='April 2006'>April 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/03/' title='March 2006'>March 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/02/' title='February 2006'>February 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/01/' title='January 2006'>January 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/12/' title='December 2005'>December 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/11/' title='November 2005'>November 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/10/' title='October 2005'>October 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/09/' title='September 2005'>September 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/08/' title='August 2005'>August 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/07/' title='July 2005'>July 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/06/' title='June 2005'>June 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/05/' title='May 2005'>May 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/04/' title='April 2005'>April 2005</a></li>
		</ul>
</li><li id="recent-comments-3" class="widget-container widget_recent_comments"><h3 class="widget-title">What others have said&#8230;</h3><ul id="recentcomments"><li class="recentcomments"><a href='http://weblogs.asp.net/thangchung' rel='external nofollow' class='url'>thangchung</a> on <a href="http://codebetter.com/jeremymiller/2009/01/16/quot-buildup-quot-existing-objects-with-structuremap/#comment-6764">&quot;BuildUp&quot; Existing Objects with StructureMap</a></li><li class="recentcomments">Steven Gentile on <a href="http://codebetter.com/jeremymiller/2011/01/23/if-you-are-using-structuremap-with-mvc3-please-read-this/#comment-6763">If you are using StructureMap with MVC3, please read this:</a></li><li class="recentcomments">jabits on <a href="http://codebetter.com/jeremymiller/2011/01/16/a-train-of-thought-wrapping-up-codemash-2011/#comment-6761">A Train of Thought &ndash; Wrapping up CodeMash 2011</a></li><li class="recentcomments">Michael Meadows on <a href="http://codebetter.com/jeremymiller/2011/01/16/a-train-of-thought-wrapping-up-codemash-2011/#comment-6754">A Train of Thought &ndash; Wrapping up CodeMash 2011</a></li><li class="recentcomments">InspiringCode on <a href="http://codebetter.com/jeremymiller/2011/01/16/a-train-of-thought-wrapping-up-codemash-2011/#comment-6753">A Train of Thought &ndash; Wrapping up CodeMash 2011</a></li></ul></li>				</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.700 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-27 04:05:56 -->
<!-- super cache -->