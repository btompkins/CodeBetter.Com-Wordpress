<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Don&#8217;t Let the Database Dictate Your Object Model | Jeremy D. Miller</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/jeremymiller/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/jeremymiller/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Being afraid of your backhand' href='http://codebetter.com/jeremymiller/2007/02/21/being-afraid-of-your-backhand/' />
<link rel='next' title='Lipstick on a Pig' href='http://codebetter.com/jeremymiller/2007/02/24/lipstick-on-a-pig/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/jeremymiller/?p=288' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,163] -->
<link rel="canonical" href="http://codebetter.com/jeremymiller/2007/02/23/dont-let-the-database-dictate-your-object-model/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-288" class="post-288 post type-post status-publish format-standard hentry category-database-and-persistence category-legacy-code">
					<h1 class="entry-title">Don&#8217;t Let the Database Dictate Your Object Model</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">Jeremy Miller</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/jeremymiller/2007/02/23/dont-let-the-database-dictate-your-object-model/" title="2:18 pm" rel="bookmark"><span class="entry-date">February 23, 2007</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/jeremymiller/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/jeremymiller/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>Before&nbsp;you go on, I&#039;m specifically&nbsp;worried at the moment&nbsp;about &quot;Logic Intensive Systems&quot; here.&nbsp; Systems that perform complex calculations, make optimizations, determinations, decisions, etc.&nbsp; </p>
<p>Many, if not most, enterprise applications have both an object model and the database model.&nbsp; For the most part, convergent evolution will probably&nbsp;lead the two models to be very similar, but <strong>it&#039;s potentially dangerous to constrain the two models to match perfectly </strong>because the two models reflect different concerns altogether.</p>
<ul>
<li>Database Model -&nbsp;When you design a database model you&#039;re primarily worried about the best way to structure data for&nbsp;efficient storage and retrieval, while also&nbsp;enforcing data integrity rules</li>
<li>Object Model &#8211; The object model is first and foremost concerned with modelling the behavior and business logic&nbsp;of the system.</li>
</ul>
<p>Ideally, I&#039;d like to work on these two models somewhat independently and allow both models to reflect their different concerns first,&nbsp;and each other second.</p>
<p>O/R mapping of all flavors isn&#039;t that difficult to use (authoring an O/R mapper is a totally different story) when the database and the object model are very similar.&nbsp; The problem is that making the persistence easier by locking the object model to the database model can make writing and&nbsp;consuming the business logic harder.&nbsp; I&#039;m working with a system that uses business objects that are basically codegen&#039;d one to one from a legacy codebase with 400+ tables.&nbsp; The temptation and driver for codegen&#039;ing the business objects is obvious (400+ tables).&nbsp; </p>
<p>The problem I&#039;m seeing though is that consuming these business objects in the service layer is that the business objects do not really reflect the behavior of the business logic.&nbsp;&nbsp;Even worse in my mind is the fact that there is no encapsulation of the raw database structure from the service layer.&nbsp; If we had designed the business classes to reflect the behavioral needs to make writing the business logic easier (and testable), we would have ended up with a quite different structure.&nbsp; Just to throw up some examples:</p>
<ul>
<li>Big tables don&#039;t map to a single object.&nbsp; I don&#039;t think it&#039;s possible that a class with a 100 different properties can possibly be cohesive.&nbsp; We&#039;d be much better off in terms of writing business logic if that 100 column table is modelled in the middle tier by a half dozen classes, each with a cohesive responsibility.&nbsp; It may&nbsp;make perfect&nbsp;sense to have only one table for the entire object hierarchy, but big classes are almost always a bad thing.</li>
<li><a href="http://www.codinghorror.com/blog/archives/000589.html">Data Clump and Primitive Obsession code smells</a>.&nbsp; A database row is naturally flat.&nbsp; I want to do a bigger post on this later, but think about a database table(s) with lot&#039;s of something_currency/something_amount combinations.&nbsp; There&#039;s a separate object for&nbsp;<a href="http://www.martinfowler.com/eaaCatalog/money.html">Money</a>&nbsp;wanting to come out.&nbsp; If you make your business objects pure representations of the database you could easily end up with a large amount of duplicate logic around currency and quantity conversions.</li>
<li>Natural cases for polymorphism in your object model.&nbsp; I think the roughest part of O/R mapping is handling polymorphism inside the database.&nbsp; Check out Fowler&#039;s patterns on <a href="http://www.martinfowler.com/eaaCatalog/">database mappings for inheritance</a>.</li>
</ul>
<p>Back to the 400+ table problem.&nbsp; Yes, their database model is huge, but they aren&#039;t actually consuming most of the generated classes anyway.&nbsp; Looking at the bigger picture, I think it would have probably been easier to deal with the dissonance between business logic needs and the existing database structure in the database mapping, even though that&nbsp;potentially represents more work to do persistence, &nbsp;instead of exposing the raw database structure to the business domain classes and their&nbsp;consumers.&nbsp; In this case, I think making the business logic easier to use and consume would more than offset the extra persistence cost.&nbsp; Since I would expect the business logic to change more often than the database structure, I would also&nbsp;prefer to optimize my ability to modify the business logic in isolation from the database.</p>
<p>Besides, you definitely want to minimize coupling to a legacy database on the off chance that you might get to fix it up or move away from it later.&nbsp;</p>
<p>&nbsp;</p>
<p>WARNING &#8212; If you are&nbsp;going to use O/R mapping of any kind, it&#039;s even more important than ever to properly enforce referential integrity rules in your database.&nbsp; I don&#039;t know if it&#039;s just my&nbsp;bad luck or what, but the legacy databases I&#039;ve hit in the past couple years were all&nbsp;missing a lot of logical referential checks &#8211;and unexpected problems with orphan records quite logically ensued.</p>
<h4>Object Relational Mapping is Hard at the Edges</h4>
<p>If you haven&#039;t already read it, take a look at <a href="http://blogs.tedneward.com/2006/06/26/The+Vietnam+Of+Computer+Science.aspx">Ted Neward&#039;s seminal paper on the O/R quagmire</a>.&nbsp; I thought he was exagerrating the problem on my first read, but now I&#039;m not so sure.&nbsp; Automated, metadata driven O/R mapping (and I&#039;m broadly including the&nbsp;LINQ varieties and codegen tools&nbsp;here too) gets really nasty at edge cases.&nbsp; There comes a point when the metadata driven approach starts to hurt more than it helps and&nbsp;it&#039;s&nbsp;probably&nbsp;better to revert to hand-rolled&nbsp;database mapper&nbsp;code in these cases.&nbsp; This issue is part of&nbsp;what drove me to write <a href="/blogs/jeremy.miller/archive/2007/02/21/Being-afraid-of-your-backhand.aspx">Being afraid of your backhand.</a>&nbsp; One way or another, you will occasionally need the ability to&nbsp;allow the object model to&nbsp;diverge from the database model.</p>
<p>Not to put words into Neward&#039;s mouth, but reverse engineering your business domain classes from an existing database definitely fits his analogy comparing O/R mapping to a quagmire.&nbsp; This especially holds true for a legacy database that isn&#039;t, shall we say, pristine in structure.</p>
<p>Heck, the last time I willingly wrote a stored procedure was to take advantage of a PL/SQL feature to pull a logical&nbsp;hierarchy of data out of a flat database table.&nbsp; It worked beautifully thank you (of course the rest of the team threw a fit about using a sproc).&nbsp; </p>
<h4>The Role of the Database</h4>
<p>When people think about the role of a database in an enterprise system, I think there&#039;s a spectrum of thought&nbsp;with two polar&nbsp;extremes.&nbsp; I think the proper place in the spectrum <strong>should vary by application</strong>, but we all come in with presuppositions on the best way to write software based on our prior experences that impact the direction of our design.&nbsp; Where you&nbsp;sit on this spectrum has a lot to do with how you will&nbsp;approach application architecture vis a vis the database:</p>
<ol>
<li>The&nbsp;database is paramount, and the system is expressed and understood&nbsp;in terms of the tables and rows in the database.&nbsp; The application code and even user interface is just a conduit to get information back and forth into the database.&nbsp; You design the database first and then build the business and data layers to&nbsp;match the database.&nbsp; In the .Net world we might just&nbsp;consume raw&nbsp;DataSet&#039;s in the application, effectively just working with the database tables offline.</li>
<li>The&nbsp;behavior of the system, primarily&nbsp;in the middle tier and user interface,&nbsp;is paramount, and the database is &quot;just&quot; a means to persist the state of the system.&nbsp; The database is either built to match the business classes or designed somewhat&nbsp;independently.</li>
</ol>
<p>Reporting applications and simpler data entry applications can happily sit at the #1 data centric&nbsp;end of the spectrum.&nbsp; I think any system with significant business logic really needs to be edging over to the second end of the spectrum.&nbsp; The tricky part is recognizing when an application crosses the line from purely data centric to logic centric.&nbsp; I&#039;m of the opinion that applying data centric development approaches to logic intensive systems leads to a world of trouble.</p>
<div class="shr-publisher-288"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/db65c5c5cf9f1c51e842f733892eace1?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Jeremy Miller</h2>
							Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.							<div id="author-link">
								<a href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">View all posts by Jeremy Miller &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/jeremymiller/category/database-and-persistence/" title="View all posts in Database and Persistence" rel="category tag">Database and Persistence</a>, <a href="http://codebetter.com/jeremymiller/category/legacy-code/" title="View all posts in Legacy Code" rel="category tag">Legacy Code</a>. Bookmark the <a href="http://codebetter.com/jeremymiller/2007/02/23/dont-let-the-database-dictate-your-object-model/" title="Permalink to Don&#8217;t Let the Database Dictate Your Object Model" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/jeremymiller/2007/02/23/dont-let-the-database-dictate-your-object-model/feed/" title="Comments RSS to Don&#8217;t Let the Database Dictate Your Object Model" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-288 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/jeremymiller/2007/02/21/being-afraid-of-your-backhand/" rel="prev"><span class="meta-nav">&larr;</span> Being afraid of your backhand</a></div>
					<div class="nav-next"><a href="http://codebetter.com/jeremymiller/2007/02/24/lipstick-on-a-pig/" rel="next">Lipstick on a Pig <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-1487">
                    <div id="dsq-comment-header-1487" class="dsq-comment-header">
                        <cite id="dsq-cite-1487">
                                <span id="dsq-author-user-1487">Lucas Goodwin</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1487" class="dsq-comment-body">
                        <div id="dsq-comment-message-1487" class="dsq-comment-message"><p>I just wanted to point out that going the other way, designing your database to reflect your business object model (Atleast in an RDBMS) is equally bad.</p>
<p>This has been my long-time struggle with DB design having come from a C++ environment using binary files (game programs).  My natural instinct is to think of the DB as nothing more then a fancy binary object store.</p>
<p>On another note, for our shop we&#8217;re looking at following 2 paths.  For small applications use SubSonic (AKA ActionPack).  For largerprojects, MyGeneration looks like a decent ORM.  Obviously hand-rolled solutions can and will be merged into these two other solutions when appropriate.</p>
<p>The biggest problem I see with most of these ORMs is the goal of removing your ability to modify and extend them outside of the tools.  I suspect that&#8217;s a good deal of the issue with why people tend to &#8220;be afraid of their back hand&#8221;.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1488">
                    <div id="dsq-comment-header-1488" class="dsq-comment-header">
                        <cite id="dsq-cite-1488">
                                <span id="dsq-author-user-1488">Dan Maharry</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1488" class="dsq-comment-body">
                        <div id="dsq-comment-message-1488" class="dsq-comment-message"><p>Just to clarify here, are you saying that using something like the Entity Data Modeller in Visual Studio Orcas is a bad thing because it does act as glue between data model and object model? Or is it a good thing because it allows the two to be distinct and then translates between the two?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1489">
                    <div id="dsq-comment-header-1489" class="dsq-comment-header">
                        <cite id="dsq-cite-1489">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-1489">jmiller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1489" class="dsq-comment-body">
                        <div id="dsq-comment-message-1489" class="dsq-comment-message"><p>Dan,</p>
<p>I haven&#8217;t looked hard enough at the LINQ for Entities stuff to have too much of an opinion yet.  The query language is obviously pretty cool, but I&#8217;m a little dubious about some of the details.  </p>
<p>&#8220;something like the Entity Data Modeller in Visual Studio Orcas is a bad thing because it does act as glue between data model and object model? Or is it a good thing because it allows the two to be distinct and then translates between the two?&#8221;</p>
<p>If it works without being a PITA, isn&#8217;t optimized strictly for &#8220;write once,&#8221; and lets me do DDD and TDD without the database getting in the way, then it&#8217;s a good thing. </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1490">
                    <div id="dsq-comment-header-1490" class="dsq-comment-header">
                        <cite id="dsq-cite-1490">
    http://devauthority.com/blogs/devprime/default.aspx                            <span id="dsq-author-user-1490">DevPrime</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1490" class="dsq-comment-body">
                        <div id="dsq-comment-message-1490" class="dsq-comment-message"><p>The problem is vaguely this &#8211;<br />
when designing a system, you have a conceptual model, a logical model, and a physical model (which in a minute, I&#8217;ll make multiply, so find a seat <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> ). The conceptual model is a thinned version of the how the business sees the processes and entities that will eventually make up the system. It&#8217;s not rare to see conceptual models only showing bare minimum details to get the major ideas across. The logical model more acurately shows what needs to be done to create real entities in full detail, capable of enacting a real-life system. The physical model is a real-life implementation of the logical model. However, between the conceptual model and the logical model, you have a number of things that go on, for example, database object normalization. So &#8220;entities&#8221; don&#8217;t really map one-to-one between those two models. Now, so far I&#8217;ve only talked about data models, so what happens with domain model classes?<br />
Strictly speaking, domain model classes don&#8217;t necessarily care about things like normal forms, at least in the traditional relational data sort of way. In fact, they try to be the conceptual model with full details (after all, they are modeling the business, not the database). So there is in fact a big disconnect between domain entity classes and domain entity database objects, bigger than just the relational-to-object rift. It&#8217;s a huge mistake to assume that anyone *should* map objects to tables or views one-to-one for many reasons. Having said that, current O/R tools fall into camps that are mostly described as:<br />
1) don&#8217;t support any model other than one-to-one<br />
2) support other models, but only with some &#8220;backhand&#8221; magic and elbow grease (sometimes more, sometimes less)</p>
<p>To answer another comment, while I can&#8217;t comment (yet) on much of the new progress with LINQ entities, I can say that I&#8217;m not 100% satisfied that it will be everything we want (and for more reasons than just the O/R mapping aspect), though the functionality has some great ideas and features in it.</p>
<p>On a more positive note, I am currently working on such a system that allows very rich domain model classes and has an extremely high level of flexibility in terms of persistance (in fact, it will even take entities from service output rather than databases if need be). On the down side, it will be a while before I finish all the tools to go with it that will eventually make this framework as simple to use as current O/R mappers <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' />  Basically, the technology is more than possible, but current offerings just seem to be coming up a bit short, mostly because of the original intent and design of the tools.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1491">
                    <div id="dsq-comment-header-1491" class="dsq-comment-header">
                        <cite id="dsq-cite-1491">
    http://blah.winsmarts.com                            <span id="dsq-author-user-1491">sahilmalik</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1491" class="dsq-comment-body">
                        <div id="dsq-comment-message-1491" class="dsq-comment-message"><p>This cannot be used as a one size fits all approach. There may be instances where your main focus is early delivery and rapid application development. In such cases, you want the two to be as closely aligned to each other, in fact constrain the DB design to a specific set of rules, so the application can be delivered quicker.</p>
<p>But yes, in an ideal world, with world peace, no hunger, loving spouses, trainable cats, and frictionless surfaces &#8211; this is the way to go.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1492">
                    <div id="dsq-comment-header-1492" class="dsq-comment-header">
                        <cite id="dsq-cite-1492">
    http://weblogs.asp.net/fbouma                            <span id="dsq-author-user-1492">Frans Bouma</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1492" class="dsq-comment-body">
                        <div id="dsq-comment-message-1492" class="dsq-comment-message"><p>If you think starting with classes is any different than starting with an NIAM/ORM model which is transfered into E/R for tables you&#8217;re clearly mistaken: they both describe the same concepts: entities and relations between them, which attributes are in which entity, which entity inherits from which entity, what are the constraints etc. etc. </p>
<p>So if you reverse engineer a relational model to a model which is at the same level as a NIAM/ORM model (and ORM means &#8216;Object Role Modelling&#8217; <a href="http://www.orm.net" rel="nofollow">http://www.orm.net</a>) you simply can use that model to create entity classes which comes down to th same things as you would have when you would created the classes by hand first. </p>
<p>Better yet, if you think you can simply create 500+ entity classes without thinking them through, you&#8217;re mistaken as well. No big relational model is created without a proper abstract model, and it&#8217;s perfectly doable to get back to that model with a relational schema at hand. </p>
<p>Furthermore, the concept of the entity doesn&#8217;t change if you talk about classes or tables, they&#8217;re both containers which are physical representations of the entity definitions. </p>
<p>I wrote an essay about this once, it&#8217;s in Jimmy Nilsson&#8217;s ADDD&#038;P patterns book as well:<br />
<a href="http://weblogs.asp.net/fbouma/archive/2006/08/23/Essay_3A00_-The-Database-Model-is-the-Domain-Model.aspx" rel="nofollow">http://weblogs.asp.net/fbouma/archive/2006/08/23/Essay_3A00_-The-Database-Model-is-the-Domain-Model.aspx</a></p>
<p>Oh that Ted Neward article&#8230; What a joke. The thing is that the problem is very simple and it doesn&#8217;t matter at which side you&#8217;re starting, the END RESULT is the same. At least with the proper tools when you&#8217;re starting from the db side and with the proper level of knowledge when you&#8217;re starting at the classes side. </p>
<p>So the situation actually is that you start with a set of abstract definitions of entities, which we could define as an entity model, at the level of a NIAM / ORM diagram for example. With that model you can for example create entity classes (if you&#8217;re into S&#038;M, you can write them by hand for example for all 500 tables in your system) and you can also create the tables which will contain the entity instances. (You all do know the difference between an entity definition, entity class, entity class instance, and entity instance?)</p>
<p>So really, I disagree with what you&#8217;re trying to say, Jeremy, because your article breaths &#8216;Don&#8217;t start with the database model!!&#8217;, while that&#8217;s completely not what most o/r mappers do. They reverse engineer the relational model to a higher level, which is the same level on which you&#8217;re thinking when you&#8217;re creating the entity classes. </p>
<p>Because, and this is perhaps the hardest part, what&#8217;s in the DB and what&#8217;s in memory in your entity class instances, that&#8217;s THE SAME THING. </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1493">
                    <div id="dsq-comment-header-1493" class="dsq-comment-header">
                        <cite id="dsq-cite-1493">
    http://weblogs.asp.net/fbouma                            <span id="dsq-author-user-1493">Frans Bouma</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1493" class="dsq-comment-body">
                        <div id="dsq-comment-message-1493" class="dsq-comment-message"><p>DevPrime: I don&#8217;t understand what you mean with:<br />
&#8220;So there is in fact a big disconnect between domain entity classes and domain entity database objects, bigger than just the relational-to-object rift. It&#8217;s a huge mistake to assume that anyone *should* map objects to tables or views one-to-one for many reasons.&#8221;<br />
The reason I don&#8217;t understand it is that you apparently use 2 different definitions of &#8216;entity&#8217; which simply has 1 definition, the one it has had since the late 70&#8242;ies. </p>
<p>An entity instance, i.e. the DATA forming the entity instance, is the instance of the single entity definition you use in your SYSTEM: e.g. the customer entity definition. That data is for example stored in a table Customer, and in memory the data is loaded into instances of the Customer class. Or perhaps it&#8217;s stored in multiple tables, and stored in a single instance of a single class. </p>
<p>Does that matter? No not a single bit, because they&#8217;re conceptually the same thing. THAT&#8217;S why you can map one onto the other. Your argument implies that o/r mapping isn&#8217;t even possible. </p>
<p>Everyone who claims there&#8217;s a big disconnect between entity classes and entity data in the DB has no clue whatsoever what an entity is in the first place. </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1494">
                    <div id="dsq-comment-header-1494" class="dsq-comment-header">
                        <cite id="dsq-cite-1494">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-1494">jmiller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1494" class="dsq-comment-body">
                        <div id="dsq-comment-message-1494" class="dsq-comment-message"><p>Frans,</p>
<p>&#8220;If you think starting with classes is any different than starting with an NIAM/ORM model which is transfered into E/R for tables you&#8217;re clearly mistaken: they both describe the same concepts: entities and relations between them, which attributes are in which entity, which entity inherits from which entity, what are the constraints etc. etc.&#8221;</p>
<p>It&#8217;s not completely about data, relationships, and constraints.  I&#8217;m also worried about cohesive classes, encapsulation, and reducing the duplication of business logic in the domain model.  Yes, Frans, I get it, they represent the same logical data.  Duh.  But the domain model is responsible for the behavior and business logic of the application, and the exact structure of the database may not be the best way to build the domain model to carry out that business logic.  What I should probably say more clearly is that the domain model is shaped by a little bit different set of forces and deserves its own design, which might easily need to diverge from the database model.  </p>
<p>I am generally against creating a database model first, or at least making the database the paramount piece, for a logic intensive application because I think it always seems to lead to an anemic domain model, procedural code, duplication, and tight coupling.  If all of the early focus is on the database model the domain model tends not to get enough attention.   </p>
<p>When it comes time to choose a persistence tool, I want the flexibility to allow the domain model to diverge from the strict table model and an easy ability to evolve both models.  Personally, I dislike any tool or framework that forces me to codegen my domain model classes, but I&#8217;m willing to write that off as a preference.</p>
<p>I wouldn&#8217;t necessarily advocate trying to dump the database out of the object model  ala NEO either.  I&#8217;ll compromise with you and say there&#8217;s no reason you couldn&#8217;t happily shape the domain model and the database model at the same time, but I&#8217;ll never agree with database first on anything but reporting applications.</p>
<p>Jeremy</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1495">
                    <div id="dsq-comment-header-1495" class="dsq-comment-header">
                        <cite id="dsq-cite-1495">
    http://vikasnetdev.blogspot.com/                            <span id="dsq-author-user-1495">Vikas Kerni</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1495" class="dsq-comment-body">
                        <div id="dsq-comment-message-1495" class="dsq-comment-message"><p><a href="http://vikasnetdev.blogspot.com/2006/07/domain-driven-design-vs-data-driven.html" rel="nofollow">http://vikasnetdev.blogspot.com/2006/07/domain-driven-design-vs-data-driven.html</a></p>
<p><a href="http://vikasnetdev.blogspot.com/2006/08/domain-driven-design-based-on-entity.html" rel="nofollow">http://vikasnetdev.blogspot.com/2006/08/domain-driven-design-based-on-entity.html</a></p>
<p>Common legacy data challenges</p>
<p>1. A single data field is used for several purposes.<br />
2. The purpose of a data field is determined by the values of one or more columns.<br />
3. Inconsistent values are being stored in a single data field<br />
4.There is inconsistent/incorrect data formatting with in a column.<br />
5.Important entities, attributes and relationships are hidden and floating in text fields.<br />
Data values can stray from their field descriptions and business rules.<br />
6. One attribute is stored in several fields.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1496">
                    <div id="dsq-comment-header-1496" class="dsq-comment-header">
                        <cite id="dsq-cite-1496">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1496">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1496" class="dsq-comment-body">
                        <div id="dsq-comment-message-1496" class="dsq-comment-message"><p>vikas (<a href="http://vikasnetdev.blogspot.com/" rel="nofollow">http://vikasnetdev.blogspot.com/</a>) mentioned this discussion to me. Obviously, I am on Frans’s side <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' />   Take a look of this site: <a href="http://www.geocities.com/tablizer/whypr.htm" rel="nofollow">http://www.geocities.com/tablizer/whypr.htm</a> I do not agree with all of it, but it really an antidote of DDD or OO.  </p>
<p>However, do not get me wrong. My background is NOT VB6; and I am constantly trying to change VB6 culture. </p>
<p>As a result, as you may guess, I have another side of the story. Recently, I feel that it is very important that we have to insist the domain entity model “first”. </p>
<p>Note that as Fran pointed out, even you start from database schema, you can still do that, because here “first” is logical, not chronological.   </p>
<p>My experience is that a lot of VB6ers simply cannot use a “conceptual model”. It does not matter where that model comes from. My observation is that even they know the database very well, very strangely, they simply cannot leverage that when they do coding. You may think, my goodness, how difficult can that be! However, that is the reality. Poor guys. The paradigm shift is so difficult!</p>
<p>My guess is that the logic importance of the “model” makes some of us believe it must be chronologically first. That is not true. However, I now do believe that because the “model” is so important, so, “politically”, it is worth it to say that it must be done first.     </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1497">
                    <div id="dsq-comment-header-1497" class="dsq-comment-header">
                        <cite id="dsq-cite-1497">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1497">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1497" class="dsq-comment-body">
                        <div id="dsq-comment-message-1497" class="dsq-comment-message"><p>By “politically”, I mean, in theory, using “database” scheme as the “entity model” is more friendly to VB6ers, however, they cannot get it anyway, why bother. It actually gives their opportunities to mess things up. “Entity” first, it means a total new start, it is a harsh “shut up, listen, and learn” style. From what I have observed, the latter is a better way. </p>
<p>This means, even you are using database scheme as your baseline or first-cut, you will not advertise it. Throw some inheritance on it, mix the entity part with other layers (DAO, façade, command, singleton etc), so that the whole things look like an OO model instead of data model. </p>
<p>So, technically, I agree with Fran (I even say that the core of OO is actually relational. Come one, what is the foundation of OO, nothing! The core is ER!), politically, I agree with Jeremy. Let’s take over the world from VB6ers by using OO, that is, if those VB6ers refuse to be assimilated to be part of us <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> .   </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1498">
                    <div id="dsq-comment-header-1498" class="dsq-comment-header">
                        <cite id="dsq-cite-1498">
    http://www.rgoarchitects.com/blog                            <span id="dsq-author-user-1498">Arnon Rotem-Gal-Oz</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1498" class="dsq-comment-body">
                        <div id="dsq-comment-message-1498" class="dsq-comment-message"><p>I don&#8217;t think this dilemma is different from any of the other design dilemmas &#8211; the answer is still it depends.</p>
<p>I would tend to agree that in most system that aren&#8217;t just data entry or reporting  you shouldn&#8217;t let the database dictate the object model &#8211; but many if not most systems are a mix of both data centric tasks and logic centric tasks &#8211; so you either mix approaches or you use one and suffer where it isn&#8217;t appropriate.</p>
<p>Regarding Ted Neward&#8217;s post- I don&#8217;t agree with him. It was true once but  O/R Mapping is quite mature now. Yes, it isn&#8217;t a panacea but it works well where it fits.<br />
You can also see a  paper I published awhile ago on O/R mapping (<a href="http://www.rgoarchitects.com/Files/ormappin.pdf" rel="nofollow">http://www.rgoarchitects.com/Files/ormappin.pdf</a>) </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1499">
                    <div id="dsq-comment-header-1499" class="dsq-comment-header">
                        <cite id="dsq-cite-1499">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-1499">jmiller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1499" class="dsq-comment-body">
                        <div id="dsq-comment-message-1499" class="dsq-comment-message"><p>Arnon,</p>
<p>I&#8217;d prefer to eat any necessary mismatch betweeen object and data models in persistence mapping rather than sacrifice either model.  I really didn&#8217;t mean to sound that down on O/R mapping.  All I meant to say is that when you do hit an edge case that your O/R mapping tool doesn&#8217;t handle, I don&#8217;t think it&#8217;s that big a deal to hand roll a hard coded database mapper for the exceptions.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1500">
                    <div id="dsq-comment-header-1500" class="dsq-comment-header">
                        <cite id="dsq-cite-1500">
    http://www.dotnettricks.com/                            <span id="dsq-author-user-1500">Fregas</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1500" class="dsq-comment-body">
                        <div id="dsq-comment-message-1500" class="dsq-comment-message"><p>Jeremy,</p>
<p>I think you&#8217;re wasting your time with Frans.  His &#8220;O/R Mapper&#8221; and his whole thought process is that the database is the center of the universe, and that the business classes are merely a by-product of that.  He is too arrogant and defensive to consider any other thought process as being worthy.  </p>
<p>I totally agree with you that a good O/R Mapper should let you define business objects separately from the database tables.  On simple stuff it doesn&#8217;t matter, but like you said, when you get to a system that has lots of business logic, or in your case a (legacy?) database that has over 500 tables, you&#8217;ll end up with lots of duplication.  </p>
<p>Think how many tables have address information duplicated in them.  If you simply gen the business classes from the tables, you&#8217;ll end up with many classes with duplicate address information (and likely duplicate business logic.)  At the same time, if you start with the domain layer and make &#8220;Address&#8221; a separate class, then you may not want to generate a separate address database table.  There may be some relationships where the information should be in its own table and others where it should be part of a parent table such as customer, because its a one-to-one relationship.  Instead, having a single address CLASS separate from various TABLES that store address information, is the way to go in complex applications.</p>
<p>You article is similar to one i wrote a while back:<br />
<a href="http://dotnettricks.com/blogs/craigbowesblog/archive/2005/09/05/33.aspx" rel="nofollow">http://dotnettricks.com/blogs/craigbowesblog/archive/2005/09/05/33.aspx</a></p>
<p>Great article Jeremy.  Keep up  the good work.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1501">
                    <div id="dsq-comment-header-1501" class="dsq-comment-header">
                        <cite id="dsq-cite-1501">
    http://devauthority.com/blogs/devprime/default.aspx                            <span id="dsq-author-user-1501">DevPrime</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1501" class="dsq-comment-body">
                        <div id="dsq-comment-message-1501" class="dsq-comment-message"><p>Frans, are you always this caustic? Is it not possible to have a reasonable discussion between various developers without resorting to &#8220;you have no clue whatsoever&#8221;? Sorry, but that&#8217;s just a lame stance to take.</p>
<p>I have no idea where the analysis you make comes from, because I am *not* saying that O/RM is impossible. In fact, the point of my post was to say that it *is* possible, but that most O/RM tools in existence don&#8217;t do a very good job and make too many bad assumptions about mappings.</p>
<p>And yes, there *is* a big rift between entity classes and entity database objects, not because the data they define is all that different (I made no such claim), but because one does not normalize or optimize entity classes in the same manner as database entities. Of course it&#8217;s possible to map both types of entities, that was never in question. The problem is the flexibility and amount of work required with existing mapping tools. Now please, settle down before you pop an artery.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1502">
                    <div id="dsq-comment-header-1502" class="dsq-comment-header">
                        <cite id="dsq-cite-1502">
    http://www.dotnettricks.com/                            <span id="dsq-author-user-1502">Fregas</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1502" class="dsq-comment-body">
                        <div id="dsq-comment-message-1502" class="dsq-comment-message"><p>DevPrime,</p>
<p>One of the things i read in a book called &#8220;Object Thinking&#8221; is that objects/classes are defined by BEHAVIOR not DATA (nor where or how that data is stored.) This principle has served me well over and over.</p>
<p>In Frans&#8217; world, everything is modeled on the data, the relational data structure, and your classes HAVE TO follow suit, which really sacrifices a lot in your object model.  I believe that Frans is probably correct that the original meaning of the word &#8220;Entity&#8221; was from the RDBMS world, but language inevitable evolves (for good or ill) and that doesn&#8217;t mean classes should be the same as database entities/tables, just because some people seem to think or talk as if they are always the same.  In many cases they can be, (in simple applications especially) but complicated business logic often dictates that they should differ  if you want to avoid code duplication etc, as you and Jeremy have already pointed out.  A good ORM product or a good ORM strategy if your hand-coding it all yourself, should allow for these differences.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1503">
                    <div id="dsq-comment-header-1503" class="dsq-comment-header">
                        <cite id="dsq-cite-1503">
    http://devauthority.com/blogs/devprime/default.aspx                            <span id="dsq-author-user-1503">DevPrime</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1503" class="dsq-comment-body">
                        <div id="dsq-comment-message-1503" class="dsq-comment-message"><p>Good point Fregas. Actually, the whole concept of encapsulation (one of the pillars of OOP) is that an object encapsulates both the behaviors and the data associated with the behaviors (a slight divergence from your sentence, but the important thing is that it&#8217;s more than just a set of data, as you say) <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> </p>
<p>Entity is really a conceptual thing. Your database can physically implement an entity, but a class can too. You can have tables and classes that both represent entities. The difference we&#8217;re all talking about here is how they are physically laid out and how they can map to each other given those differences. And yes, it can get pretty complex as we all seem to saying, especially if your database wasn&#8217;t implemented to deal with ORMs from the start.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1504">
                    <div id="dsq-comment-header-1504" class="dsq-comment-header">
                        <cite id="dsq-cite-1504">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1504">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1504" class="dsq-comment-body">
                        <div id="dsq-comment-message-1504" class="dsq-comment-message"><p>I know the following can be perceived as offensive, especially for long time experts in a different tradition. However it is the price to be on a platform that is undertaking a huge quantum jump. </p>
<p>1.	OR mapping is the way to go. Java did it, M$ now finally makes up its mind to follow suit. So, do not even try to be different, just follow it.<br />
2.	This means, the so called “anemic domain model” is actually the way to go. J2EE entity bean started it, OR mapping makes it ubiquitous in Java world (come on, in this regard, there is no difference between entity bean and OR mapping). Again, do not even try other way around, just follow it.<br />
3.	This also means stored procedures are gone forever, of course, you can use them in some weird cases, but as a “layer”, it is gone forever. Again, do not even try to complain, just follow it.<br />
4.	Because of all the above, the only reason to emphasize the “first-ness” of “entity classes” over database schema is political – to shut up people who cannot understand “entity classes”, and, it is a good political technique. However, truth being told, it is only a political tool, nothing else.<br />
5.	As for OO, it is odd that so few people realize that the core of OO is indeed ER. I am glad that Frans knows it. I guess the reason for that is that to understand it, you really need first understand that inheritance and design patterns are easy and not that important. Once you really get that (it takes years, of course – sorry for being offensive, but truth must be told <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> , then, you will really appreciate that the real core of OO is indeed ER, or, normalization. To speed up the process, read Martin Fowler’s analysis patterns, together with David C. Hay ‘s Data Model Patterns: Conventions of Thought. </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1505">
                    <div id="dsq-comment-header-1505" class="dsq-comment-header">
                        <cite id="dsq-cite-1505">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1505">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1505" class="dsq-comment-body">
                        <div id="dsq-comment-message-1505" class="dsq-comment-message"><p>“Anemic Domain Model”(ADM, or, Anemic Domain Objects, i.e. ADO <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> , is not the result of last century’s antique OO. It is the result of modern distributed computing – it started with J2EE entity bean. The key concept of “entity bean” has been carried over by “ADO” (ok, ADM), and then, SOA. As a result, it is ridiculous to say that ADM is a bad thing because it does not comply with antique OO! (Or, because it is a terrible name, but who cares names!). </p>
<p>Really, ADM is a hard but good compromise in modern distributed computing. Do not stay in the stoneage’s OO, enter modern OO, which by definition, inherits from modern C++ and Java. You cannot get modern OO by “strengthening” antique OO; it is a gestalt shift.   </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1506">
                    <div id="dsq-comment-header-1506" class="dsq-comment-header">
                        <cite id="dsq-cite-1506">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1506">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1506" class="dsq-comment-body">
                        <div id="dsq-comment-message-1506" class="dsq-comment-message"><p>I read Fregas&#8217;s blog, I noticed: </p>
<p>>>>>I prefer strongly typed collections (or possibly generics in .NET 2.0) so my Content object would have a HistoryItems property which is Read Only and of type ContentHistoryCollection.</p>
<p>&#8212;&#8212;&#8212;&#8212;&#8211;<br />
My goodness! It is another example of antique OO directly from the time-froze machine VB6. “Strongly typed collections” are pure evil, period. </p>
<p>Of course, use generics – but it is pure, bare bone generics, no strongly typed collections at all. </p>
<p>Further, if you use .Net 1.1, then, use casting. Type safe and performance? Give me break, in Java, people have been doing that for many years, for serious enterprise applications – again, modern OO, not antique pseudo OO from VB6.   </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1507">
                    <div id="dsq-comment-header-1507" class="dsq-comment-header">
                        <cite id="dsq-cite-1507">
    http://Lotofplaces,DatabaseDesignisdonebyDBAwhodon’thaveOOA&#038;Dskills,simplybecause,theydon’thaveto.TheirjobismakesureDataisstoredandretrievedveryefficiently.Henceth                            <span id="dsq-author-user-1507">Vikas Kerni</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1507" class="dsq-comment-body">
                        <div id="dsq-comment-message-1507" class="dsq-comment-message"><p>Lot of places, Database Design is done by DBA who don’t have OOA  &#038; D skills , simply because, they don’t have to. Their job is make sure Data is stored and retrieved very efficiently. Hence they make compromises as I mentioned in my previous post.</p>
<p>It is interesting to note that Data Centric Design assumes that database should be designed to support application. In my opinion, data is too strategically important for enterprise. Applications may be retired by new technology or replaced by third party vendor’s tools, applications. Data is going to stay forever.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1508">
                    <div id="dsq-comment-header-1508" class="dsq-comment-header">
                        <cite id="dsq-cite-1508">
    http://devauthority.com/blogs/devprime/default.aspx                            <span id="dsq-author-user-1508">DevPrime</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1508" class="dsq-comment-body">
                        <div id="dsq-comment-message-1508" class="dsq-comment-message"><p>Survic, you have some good points, and I agree completely with getting away from what I call impeded OO models (mostly due to deficient OO capabilities in certain languages, i.e. VB pre .NET for example). However, with regards to some of your other arguments, the problem is that while what you suggest works well for new projects, there are a lot of databases out there that were not designed to be used with ORM technologies, and it&#8217;s difficult (sometimes impossible) to use certain ORM products on these. These companies  have been running for years on that data and aren&#8217;t willing to so easily migrate. As a developer, there&#8217;s nothing you can do about that situation except deal with it.</p>
<p>Secondly, what&#8217;s wrong with type-safe collections? After all, generic collections produce type-safe collections (either at compile time with Java or run-time with C#/VB.NET). A List<customer> is a Customer-type-safe list. You cannot add an OrderLineItem to it.</customer></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1509">
                    <div id="dsq-comment-header-1509" class="dsq-comment-header">
                        <cite id="dsq-cite-1509">
                                <span id="dsq-author-user-1509">vega</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1509" class="dsq-comment-body">
                        <div id="dsq-comment-message-1509" class="dsq-comment-message"><p>I believe that both the object (domain) model and the relational (db) model should evolve independently using their own methodologies best tailored to their individual purposes. Really they would be working off of the same base *conceptual* business model.  The DB will start off with the conceptual but once it goes through the logical and then the physical design model it will eventually lose some of the conceptual pieces that the object model tends to address.  Your final “entities” and relationships for the db might not look the same when you first started off as they might change to optimize performance.</p>
<p>Why separate models? For the exact same classical OO “best practice” reasons: loose coupling, separation of concerns, yada-yada, etc.  O/R mappers will always play an essential if not critical role to bridge the two models.  I think the problem Miller is discussing is how mappers are sometimes used (or misused) in lieu of a real domain model that can fully handle/solve the business&#8217; process/requirements.</p>
<p>Also, E/R (concept shared by both models) is only part of the equation.  The other half of it is what the object model is suppose to handle and where the relational one falls short which is *behavior*.  Sure you can enforce business rules via constraints (PKs, FKs, Nulls, check, default, etcs) on the db side of things but it can not cover all the possible scenarios and logic that most business processes need to operate (at least not in a very manageable fashion; sprocs/triggers do not count because they are not part of the relational model- if any thing they violate the model).  DBs should really just concern itself with storing/retrieval of data which is what it does best by using its own model.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1510">
                    <div id="dsq-comment-header-1510" class="dsq-comment-header">
                        <cite id="dsq-cite-1510">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1510">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1510" class="dsq-comment-body">
                        <div id="dsq-comment-message-1510" class="dsq-comment-message"><p>By “Strongly typed collections”, I mean pre-generic ones. Strangely, they are carried over in .Net 20, even when we have generics (i.e., you use both generics and custom collections). People can argue whatever, I will always see it as a clear sign that ‘this guy is still in VB6’!</p>
<p>The test stone is that, when you were in .Net 1.1, did you use “strongly typed collections” or not. If you did not, then, we know you are a hardcore of modern OO; if yes, you are somehow still in VB6. Consider being warned <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> </p>
<p>As for old databases, I certainly agree that in that situation, OR mapping sometimes is more trouble than solution. Actually that is a rule number one of OR: the technology you choose must be compatible with manual DAO, and you should feel free to it anytime! A lot of times, the sql queries are used freely. Who need another semi-completed query language! </p>
<p>Then, we have to concede to ADM-only. You can do whatever in DAO, as long as you have ADM. Really, OR or not, it does not matter, the real key is ADM. It is not strange: ADM is the core of SOA, anyway.</p>
<p>Strangely, I find myself totally agree the “parallel evolution” concept &#8212; as long as they are not “separated”. The implementations are certainly in parallel, however, conceptually they are one. </p>
<p>Because of ADM, down with the “behavior” thing. I keep fighting this thing for so long, and just recently I have realized its nature: antique OO! In modern OO, “behavior” must immediately be split into two: validation or “real” behavior (service-like behavior). Validation is with the ADM, and it does not hurt anything. The “real” behavior is not with the ADM, and rightly so – the antique OO is very misleading here. </p>
<p>Vega: I like you say “sprocs/triggers do not count”, for me, the reason is that they are just evil. Once you got the idea of OR and application server (it started from “entity bean”, which itself is evil, ironic!), you really begin to treat DB just as DB.  </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1511">
                    <div id="dsq-comment-header-1511" class="dsq-comment-header">
                        <cite id="dsq-cite-1511">
    http://udidahan.weblogs.us                            <span id="dsq-author-user-1511">Udi Dahan</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1511" class="dsq-comment-body">
                        <div id="dsq-comment-message-1511" class="dsq-comment-message"><p>I think that there are enough issues on the table without dragging in SOA, but that&#8217;s just me.</p>
<p>Also, there are times when implementing complex business rules using OO techniques on the Domain Model works well. O/R mappers help with the persistence. Some OO practices (like polymorphism) are better supported than others (Decorator pattern).</p>
<p>Performance often requires a denormalization of both the Domain Model and the tables it maps to. For instance, in order to support a business rule stating that &#8220;if a customer&#8217;s orders total more than $1000 do&#8230;&#8221; it might make sense to keep that field persistent on the customer class, rather than loading all the orders.</p>
<p>I think that the &#8220;Entity&#8221; view of the world that Frans et al are pushing comes from the Coad Method (correct me if I&#8217;m wrong) which focuses on data. The Domain Model pattern (by Fowler) and the following practice of Domain-Driven Design focus more on behavior. Both have their place. It appears that O/R mappers are used in both cases &#8211; thus it makes sense to frame an opinion in the appropriate context.</p>
<p>At the start of this post, Jeremy tries to frame a certain context: &#8220;Logic Intensive Systems&#8221;. I think that he might have intended to specify &#8220;using the Domain Model pattern&#8221; &#8211; again, correct me if I&#8217;m wrong. I do quite a bit of work on these kinds of systems using these patterns and find that I iterate back and forth &#8211; the db doesn&#8217;t dictate the object model, and the object model doesn&#8217;t dicate the db. In order to create a performant solution, both sides must be well understood.</p>
<p>If I offended anybody in any way by these comments, please be assured that it was not my intent.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1512">
                    <div id="dsq-comment-header-1512" class="dsq-comment-header">
                        <cite id="dsq-cite-1512">
    http://www.dotnettricks.com/                            <span id="dsq-author-user-1512">Fregas</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1512" class="dsq-comment-body">
                        <div id="dsq-comment-message-1512" class="dsq-comment-message"><p>Survic,</p>
<p>I don&#8217;t see how strongly typed collections offend you so much. In most cases they were a means to get around the lack of generic support in .NET 1.1.  However, in a couple of weird cases, it may STILL make sense to make a custom, strongly typed collection.  Perhaps you need an OrderLine collection that will not accept more than 100 lines.  You could create a custom collection (strongly typed) that throws an exception or triggers a validation rule or something when the count goes over 100.  I realize this is a weird, rare case, but it could happen.   There are other ways to accomplish this, but making your own collection (that inherits from CollectionBase so its very little custom code) just isn&#8217;t very hard.  I don&#8217;t see how that constitutes &#8220;PURE EVIL.&#8221;</p>
<p>Additionally, I wrote that blog article when i was still doing .NET 1.1.  For .NET 2.0, i can&#8217;t remember a time where i really need my own, custom, strongly typed collection.  It doesn&#8217;t mean it will never happen, but so far, I just use generics.  But if i had to do a .NET 1.1 project, i might use codesmith or something to generate my strongly typed collections for me.</p>
<p>-Craig/Fregas</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1513">
                    <div id="dsq-comment-header-1513" class="dsq-comment-header">
                        <cite id="dsq-cite-1513">
    http://www.dotnettricks.com/                            <span id="dsq-author-user-1513">Fregas</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1513" class="dsq-comment-body">
                        <div id="dsq-comment-message-1513" class="dsq-comment-message"><p>All, forgive me for getting off topic.</p>
<p>Survic,</p>
<p>I was not even thinking about collections at all, when i came across this post on the DDD site:</p>
<p><a href="http://domaindrivendesign.org/articles/archive/gordon_bruce_2003_10.html" rel="nofollow">http://domaindrivendesign.org/articles/archive/gordon_bruce_2003_10.html</a></p>
<p>In this article, Bruce Gordon talks about his use of domain driven design for a university&#8217;s student registration system:</p>
<p>&#8220;By using a common set of objects, across the tiers (except the host), all layers could reuse the objects, the common vocabulary, and the behavior and constraints of the objects. (For example, instead of having simply a collection of Sections, a SectionList could prohibit duplicates, or enforce other application rules).&#8221;</p>
<p>&#8220;Ah ha!&#8221;  I thought.  SectionList is probably nothing more than a strongly typed collection, with some custom business rules added.  And this led me to think of another obvious one: shopping carts!  One could (should) make a shoppingcart class that is merely a strongly typed collection holding cart objects (again, you can inherit from collectionbase, or use generics internally) that avoids having duplicate line items.  When a product is added to the cart that has already been added, it should just update the quantity.</p>
<p>What do you think?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1514">
                    <div id="dsq-comment-header-1514" class="dsq-comment-header">
                        <cite id="dsq-cite-1514">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1514">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1514" class="dsq-comment-body">
                        <div id="dsq-comment-message-1514" class="dsq-comment-message"><p>You may call me a snob, however, because of my continuous VB background (from VB3, then, a lot of VB6, some VB.Net), and because I always have a soft spot toward it because of its lightweight “get things done” attitude (RAD attitude, or, agile attitude), to be fair to myself <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> , it would be a stretch to say that. </p>
<p>Having said that, when I use .Net, even in VB.net (I try very hard avoiding it), I follow exactly what I do in Java. That is the source that I do not like strongly typed collection so much, because you do not have that kind of thing in java (just like you do not have dataset in java!), and you are used to it. The style is actually just like generics, paying some price on performance and type safety. </p>
<p>Then, some people pushed using strongly typed collection systematically, and braging it as “best practice”, that basically made me think and pushed me to the edges, that was when the “do not like it” became “dislike it”. </p>
<p>And I justified my “dislikeness” by creating a theory, saying that modern OO does not use the concept of “custom strongly typed collections”. If you need some logic, create a non-collection class that contains a general collection (list or dictionary). &#8212; I am using a cynical tone to keep myself honest here, because perehaps it is all biassed; however, I really believe it is actually true: in modern C++ and Java (I am not sure smalltalk, but I suspect it is the case also), the concept of “custom strongly typed collections” is simply dropped. </p>
<p>So, if you use strongly typed collections, you are messing up people’s brain, do not do that! It is not about how easy it is, it is about thinking! A typed colleciton simply throw people off. </p>
<p>By the way, I observed that most people here treat Martin Fowler and DDD as unambiguous &#8220;source of truth&#8221;, so to speak. I do not share that at all. I love Martin&#8217;s &#8220;Analysis Patterns&#8221; (still, I always believe it should be read together with David C. Hay&#8217;s book). However, I put his other stuff and DDD in the category of “antique OO”. Surprise? Not at all. By &#8220;antique OO&#8221;, again call me a snob, I basically mean that a person have no serious experience in modern C++ AND (not or!) Java, or, did not learn very hard from modern C++ AND (not or) Java. </p>
<p>After being in Java and reading Java book, I simply cannot see any value in Martin’s recent work, and the DDD. There are just too much renaming and confusion. Trying to be “neutral” between M$ and Java, or, trying to “invent” something by renaming things, it is simply not right; also, in enterprise computing, M$ has nothing to offer (except RAD, as I said, we should be brave to take it into enterprise computing), why even bother, call “dataset” as … &#8212; I resent it the renaming scam to such a degree, I do not even remember it – it is totally ridiculous. I say it again, ridiculous – dataset does not become better or justified by being given a “pattern” name, give me break!!! To me, the whole thing is simply a strategy to get M$’s contract, that is all about it.</p>
<p>My source of modern OO? Experiences in EJB, and books on J2EE. One of the best among them is “ejb design patterns”.</p>
<p>With this disclosure, you know what I am going to say about SectionList <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' />   </p>
<p>Another example; however, before I say it, I want to point out that I recommend loudly CSLA to everybody, anybody. However, I use it by tearing it apart, use its good parts, and show its terrible parts as anti-patterns. </p>
<p>Now back to strongly typed collections. If you like them, take a look of CSLA, then, you will know the real nature of strongly typed collection: pure evil. </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1515">
                    <div id="dsq-comment-header-1515" class="dsq-comment-header">
                        <cite id="dsq-cite-1515">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1515">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1515" class="dsq-comment-body">
                        <div id="dsq-comment-message-1515" class="dsq-comment-message"><p>Sorry for taking off the topic.<br />
However, strongly typed collection is indeed one of the major obstacles for OR mapping, and, if you use OR mapping, even just conceptually (because of huge amount of de-normalized legacy databases), you will “naturally” and merrily believe that tables and entities are “the same thing”. </p>
<p>so, we are not really off, yet <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1516">
                    <div id="dsq-comment-header-1516" class="dsq-comment-header">
                        <cite id="dsq-cite-1516">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1516">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1516" class="dsq-comment-body">
                        <div id="dsq-comment-message-1516" class="dsq-comment-message"><p>Fregas: I read your posts again. </p>
<p>You said: “For .NET 2.0, i can&#8217;t remember a time where i really need my own, custom, strongly typed collection.  It doesn&#8217;t mean it will never happen, but so far, I just use generics.” </p>
<p>– we agree here. </p>
<p>You also said: “&#8221;Ah ha!&#8221;  I thought.  SectionList is probably nothing more than a strongly typed collection, with some custom business rules added.  And this led me to think of another obvious one: shopping carts! “ </p>
<p>&#8211; And this led me to think of yet another even more obvious one ……..</p>
<p>Do you see the problem? DDD is crap. You have to agree with me, because you said, you did not use “strongly typed collection” in .net20. If DDD is right, you should have used that evil thing all over the places!</p>
<p>I bet a coke that after one more year, if somehow you are required to use .net 1.1 (why, do not ask me, in M$ world, time can go back easily <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> , you will use casting, instead of the STC. Casting is ugly, but it does not mess up your thinking.  </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1517">
                    <div id="dsq-comment-header-1517" class="dsq-comment-header">
                        <cite id="dsq-cite-1517">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1517">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1517" class="dsq-comment-body">
                        <div id="dsq-comment-message-1517" class="dsq-comment-message"><p>Do not get me wrong about DDD. I fully understand its political value &#8212; I am pushing very hard to make sure management knows it &#8212; I guess everybody is doing it, and that explains its popularity. </p>
<p>All I am saying is that, to developers, nothing new (but nothing wrong either, except some “details”, such as STC).</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1518">
                    <div id="dsq-comment-header-1518" class="dsq-comment-header">
                        <cite id="dsq-cite-1518">
    http://www.dotnettricks.com/                            <span id="dsq-author-user-1518">Fregas</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1518" class="dsq-comment-body">
                        <div id="dsq-comment-message-1518" class="dsq-comment-message"><p>Survic,</p>
<p>Rather than cluttering up Jeremy&#8217;s blog, i&#8217;ve posted a more detailed response to you here:</p>
<p><a href="http://dotnettricks.com/blogs/craigbowesblog/archive/2007/03/03/255.aspx" rel="nofollow">http://dotnettricks.com/blogs/craigbowesblog/archive/2007/03/03/255.aspx</a></p>
<p>Thanks,<br />
Craig</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1519">
                    <div id="dsq-comment-header-1519" class="dsq-comment-header">
                        <cite id="dsq-cite-1519">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1519">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1519" class="dsq-comment-body">
                        <div id="dsq-comment-message-1519" class="dsq-comment-message"><p>By the way, I studied very seriously about CSLA, DDD, Analysis Pattern, and Refactoring. I recommend them highly. &#8220;Crap&#8221; can be good crap.    </p>
<p>Now, let’s be back to the topic. </p>
<p>My point is that “database is deep; so, it should be the first”, here is a quote from DDD (Crunching Knowledge > Deep Models): </p>
<p>&#8220;This deeper view of the shipping business did not lead to the removal of the Itinerary object, but the model changed profoundly. Our view of shipping changed from moving containers from place to place, to transferring responsibility for cargo from entity to entity. Features for handling these transfers of responsibility were no longer awkwardly attached to loading operations, but were supported by a model that came out of an understanding of the significant relationship between those operations and those responsibilities.&#8221;</p>
<p>If you start from DB, this is the first step. We all know that, to model a business process, the first thing is to collection the paper work, and immediately imagine they are paper-database (normalized or not, we do not care for now).</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1520">
                    <div id="dsq-comment-header-1520" class="dsq-comment-header">
                        <cite id="dsq-cite-1520">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1520">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1520" class="dsq-comment-body">
                        <div id="dsq-comment-message-1520" class="dsq-comment-message"><p>the souls of behaviors are data</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1521">
                    <div id="dsq-comment-header-1521" class="dsq-comment-header">
                        <cite id="dsq-cite-1521">
                                <span id="dsq-author-user-1521">Ivan</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1521" class="dsq-comment-body">
                        <div id="dsq-comment-message-1521" class="dsq-comment-message"><p>@constrain the db design</p>
<p>only a consultant would say something so profoundly shortsighted.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1522">
                    <div id="dsq-comment-header-1522" class="dsq-comment-header">
                        <cite id="dsq-cite-1522">
                                <span id="dsq-author-user-1522">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1522" class="dsq-comment-body">
                        <div id="dsq-comment-message-1522" class="dsq-comment-message"><p>Noone really understands half of what Survic is saying.  His English is so bad and his thoughts so incomplete that you all should just ignore him instead of responding.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1523">
                    <div id="dsq-comment-header-1523" class="dsq-comment-header">
                        <cite id="dsq-cite-1523">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-1523">jmiller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1523" class="dsq-comment-body">
                        <div id="dsq-comment-message-1523" class="dsq-comment-message"><p>Hey, keep it nice.  Besides, we&#8217;re talking about code here, not something life and death like Star Wars vs. Star Trek.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1524">
                    <div id="dsq-comment-header-1524" class="dsq-comment-header">
                        <cite id="dsq-cite-1524">
    http://swcses.eponym.com/                            <span id="dsq-author-user-1524">Joe</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1524" class="dsq-comment-body">
                        <div id="dsq-comment-message-1524" class="dsq-comment-message"><p>So after catching up on all of this (took me way too long to read) I don&#8217;t think my mind was changed. There are a million ways to skin a cat. Regardless how you do it, don&#8217;t let your database design dictate your object model design and don&#8217;t let your object model design dictate your database design.  However, quite naturally the two will look a lot alike more often than different.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1525">
                    <div id="dsq-comment-header-1525" class="dsq-comment-header">
                        <cite id="dsq-cite-1525">
    http://www.buunguyen.net/blog                            <span id="dsq-author-user-1525">Buu Nguyen</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1525" class="dsq-comment-body">
                        <div id="dsq-comment-message-1525" class="dsq-comment-message"><p>So far, I have not seen any ORM tool which allows a transparent and simple mapping as well as enables the object model and data model to evolve independently &#8211; each tool just sucks in one goal or another (and tools like EJB 2.x suck in both).  Given that, whatever spectrum that you go with (database-first, or domain model-first), there can always be a point in which you will find it hard to evolve any of the model without having to do a lot of work in the other model and the mapping layer itself.  </p>
<p>So unless you have to go with relational database (for reasons like legacy data, same data for multiple applications etc.), you can consider a native object database, e.g. db4o, as a way to go &#8211; in that case, you only need to care about one single model: the object model.</p>
<p>I blogged about these topics here:<br />
<a href="http://www.buunguyen.net/blog/the-legend-of-data-persistence-part-1.html" rel="nofollow">http://www.buunguyen.net/blog/the-legend-of-data-persistence-part-1.html</a></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1526">
                    <div id="dsq-comment-header-1526" class="dsq-comment-header">
                        <cite id="dsq-cite-1526">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1526">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1526" class="dsq-comment-body">
                        <div id="dsq-comment-message-1526" class="dsq-comment-message"><p>OODB – It is so interesting: The order I experienced is Poet (an OODB) by C++ and then Java, then, Poet’s OR mapping, then, other OR mapping tools. The history is that in modern C++ age, we have OODB hype; then, during Java age, we moved to more realistic OR; I really hope .Net can revive OODB, so that we can be proud of something new.  </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1527">
                    <div id="dsq-comment-header-1527" class="dsq-comment-header">
                        <cite id="dsq-cite-1527">
    http://survic.blogspot.com/                            <span id="dsq-author-user-1527">survic</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1527" class="dsq-comment-body">
                        <div id="dsq-comment-message-1527" class="dsq-comment-message"><p>This blog demos why strongly typed collections and databases, CSLA, and ADM (amazing! and the eNglish is much better, of course <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> </p>
<p><a href="http://www.avocadosoftware.com/csblogs/dredge/archive/2007/01/28/681.aspx" rel="nofollow">http://www.avocadosoftware.com/csblogs/dredge/archive/2007/01/28/681.aspx</a></p>
<p><a href="http://www.avocadosoftware.com/csblogs/dredge/archive/2007/02/19/687.aspx" rel="nofollow">http://www.avocadosoftware.com/csblogs/dredge/archive/2007/02/19/687.aspx</a></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1528">
                    <div id="dsq-comment-header-1528" class="dsq-comment-header">
                        <cite id="dsq-cite-1528">
                                <span id="dsq-author-user-1528">RogerBlake</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1528" class="dsq-comment-body">
                        <div id="dsq-comment-message-1528" class="dsq-comment-message"><p>< <Don't Let the Database Dictate Your Object Model>><br />
What is Object Model anyway?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1529">
                    <div id="dsq-comment-header-1529" class="dsq-comment-header">
                        <cite id="dsq-cite-1529">
    http://www.jasonbunting.com                            <span id="dsq-author-user-1529">Jason Bunting</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1529" class="dsq-comment-body">
                        <div id="dsq-comment-message-1529" class="dsq-comment-message"><p>Jeremy,</p>
<p>It has been years since the last time I used it (embarrased to say that), but NIAM/ORM (object role modeling) is something you should look into. Frans made some good points that you may have missed because they were dependent on understanding the intent of using an NIAM/ORM approach to designing and application. Do you know much about it? I rarely run into people that do. I worked, for a very brief time, with Dr. Terry Halpin, who formalized ORM and continues to move things forward on it, and I had to learn quite a bit about it (mostly forgotten, unfortunately). When you use ORM to modelling data, you do so by capturing business rules as they relate to the data. From that you can generate a fully-normalized relational data model that correctly represents the business domain&#8217;s concerns as they relate to the data. Of course, that is the caveat &#8211; you had to *correctly* utilize ORM to model the concerns of the business as they relate to the data in order to get a correct relational data model out of it.</p>
<p>Anyway, I am probably repeating myself and rambling a bit &#8211; but unless you understand NIAM/ORM pretty well, the point Frans is trying to make may not be fully appreciated by anyone reading it. Go look into it at <a href="http://www.orm.net" rel="nofollow">http://www.orm.net</a> &#8211; better yet, get the books that Dr. Halpin has published on the subject &#8211; the guy knows what he is doing and you might change your mind about a few things. <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_razz.gif' alt=':P' class='wp-smiley' /> </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1530">
                    <div id="dsq-comment-header-1530" class="dsq-comment-header">
                        <cite id="dsq-cite-1530">
    http://montpetit.net                            <span id="dsq-author-user-1530">Claude</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1530" class="dsq-comment-body">
                        <div id="dsq-comment-message-1530" class="dsq-comment-message"><p>This post is right in line with a decision I must make. On my current project, the data model started bottom up (the DB schema first &#8212; the domain expert is a DB guy). The persistence layer is built with the DAO/entities pattern, with JPA and hibenate. We are building the domain model on top, following DDD patterns. </p>
<p>We defined entities with JPA annotations that map to the DB schema. This database will contain a lot of data: it stores electrical meter data from million homes with usage snapshots at every 5 minutes. Therefore, the DB schema is optimized for that, which results in annotated entities that are not always best suited for the domain model where we need to implement a lot of complicated behaviors and data analysis code.</p>
<p>I am tempted to define ddd domain entities that are different from the persistence JPA entities. This has many implementation consequences: we need to convert between JPA entities and DDD entities back and forth, we can&#8217;t use the JPQL from the client side, we can&#8217;t take advatage of many of the ORM facilities.</p>
<p>As a bonus, some of these DDD modules may be used by the legacy application (the current project is a rewrite of this legacy app)</p>
<p>For these reason, this post comforts me in the idea of having a clear separation between my domain and the persistence layer.</p>
<p>Still not sure thouth&#8230; not an easy choice. This has a clear impact on the long run and will be difficult to refactor.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1531">
                    <div id="dsq-comment-header-1531" class="dsq-comment-header">
                        <cite id="dsq-cite-1531">
    http://www.entityspaces.net                            <span id="dsq-author-user-1531">Mike Griffin</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1531" class="dsq-comment-body">
                        <div id="dsq-comment-message-1531" class="dsq-comment-message"><p>I never have bought into this &#8220;impedence mismatch&#8221; stuff. While you guys are engaged in philosophical debate our customers will be knocking out projects with the very techniques you say don&#8217;t work &#8230;.</p>
<p>This sounds like a hit piece by Microsoft, ORM is okay, kind of, but our way is &#8220;the way&#8221; &#8230; </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1532">
                    <div id="dsq-comment-header-1532" class="dsq-comment-header">
                        <cite id="dsq-cite-1532">
    http://www.dotnettricks.com/                            <span id="dsq-author-user-1532">Fregas</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1532" class="dsq-comment-body">
                        <div id="dsq-comment-message-1532" class="dsq-comment-message"><p>Mike,</p>
<p>Jeremy is specifically referring to &#8220;business logic intensive&#8221; systems.  For most simple applications, a 1:1 ratio between tables and classes works fine.  In fact, i would go further to say that it works fine for many moderately complex applications.  Where it doesn&#8217;t work well is:</p>
<p>- Legacy databases that are not well-normalized and/or have weird schemas.  I have a real life example for a health related application.  There are 4 tables that all hold diabetes information for patients.  The only difference is there is different data in each table based upon a flag.  Its a bad design and all should be in one table with an extra column to flag which type of diabetes patient it is.  I don&#8217;t really want 4 DiabetesInfo classes.  Of course in this case, most O/R Mappers won&#8217;t do you much good either, except maybe as a wrapper for data access.<br />
- Applications that have a lot of business complexity.  The example i like to use is a Address class.  You may have address related fields in your database in an Orders table, an Address table (with a CustomerID relating back to Customers) or an Employees table all in the same database.  However, you don&#8217;t want address logic in 3 places if you&#8217;re doing more than simple CRUD stuff.  What if there is business logic to compare the distance between two addresses based on City, State and Zip.  This may need to be rolled into its own class.    </p>
<p>There are a number of ways to get around this:<br />
-Duplicate (copy &#038; paste) the business logic from one mapped class to another. (BLEH!)<br />
-Don&#8217;t  use the O/R Mapper for those specific tables and instead roll your own business objects and data access code.<br />
-Create &#8220;Helper&#8221; classes (AddressHelper, DiabetesInfoHelper) in a very procedural fashion that have static methods which grab all the related data from the OR Mapped classes and performs the business logic and return the results.<br />
-Create another domain object that the O/R Mapper classes use or refer to that handles the business logic. (NHibernate does something similar to this out of the box with a feature called components.)<br />
-Create another domain object that wraps the O/R Mapped classes where necessary.</p>
<p>I&#8217;m sure there are more ways, but what i&#8217;ve noticed is that almost all the solutions cause your class/object model to be different than the actual tables, IF you don&#8217;t want to copy and paste. </p>
<p>I don&#8217;t want to copy and paste.</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/jeremymiller/2007/02/23/dont-let-the-database-dictate-your-object-model/';
    var disqus_identifier = '288 /blogs/jeremy.miller/archive/2007/02/23/Don_2700_t-Let-the-Database-Dictate-Your-Object-Model.aspx';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'theshadetreedeveloper';
    var disqus_title = "Don&#8217;t Let the Database Dictate Your Object Model";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=288');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/codebetter.com\/jeremymiller\/2007\/02\/23\/dont-let-the-database-dictate-your-object-model\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">The Shade Tree Developer</h3>Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.
</li><li id="text-3" class="widget-container widget_text"><h3 class="widget-title">Upcoming posts&#8230;</h3>			<div class="textwidget"><p>How I'm using StoryTeller to test FubuMVC<br />
Building a "Lookup" html convention w/ FubuMVC<br />
FubuMVC's Configuration Model "Special Sauce"<br />
Managing Script dependencies with FubuMVC<br />
Authorization and FubuMVC<br />
Continuations<br />
Composing Views with FubuMVC<br />
Extensible Model Binding with FubuMVC<br />
Introducing "Bottles"<br />
Modular Packaging with FubuMVC<br />
Self-Installing Apps w/ FubuMVC<br />
Routing and Behavioral Conventions with FubuMVC<br />
What Should I Learn?</p>
</div>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://twitter.com/jeremydmiller">Follow me on Twitter</a></li>
<li><a href="https://github.com/DarthFubuMVC/fubumvc" target="_blank">FubuMVC on GitHub</a></li>
<li><a href="https://github.com/jeremydmiller">My GitHub Page</a></li>
<li><a href="https://github.com/storyteller/storyteller">StoryTeller on GitHub</a></li>
<li><a href="https://github.com/structuremap/structuremap">StructureMap on GitHub</a></li>

	</ul>
</li>
		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
					<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/jeremymiller/2012/01/' title='January 2012'>January 2012</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/09/' title='September 2011'>September 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/07/' title='July 2011'>July 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/06/' title='June 2011'>June 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/05/' title='May 2011'>May 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/04/' title='April 2011'>April 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/03/' title='March 2011'>March 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/08/' title='August 2010'>August 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/07/' title='July 2010'>July 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/06/' title='June 2010'>June 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/05/' title='May 2010'>May 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/03/' title='March 2010'>March 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/02/' title='February 2010'>February 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/01/' title='January 2010'>January 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/06/' title='June 2009'>June 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/09/' title='September 2008'>September 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/08/' title='August 2008'>August 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/07/' title='July 2008'>July 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/06/' title='June 2008'>June 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/05/' title='May 2008'>May 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/04/' title='April 2008'>April 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/03/' title='March 2008'>March 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/02/' title='February 2008'>February 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/01/' title='January 2008'>January 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/12/' title='December 2007'>December 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/11/' title='November 2007'>November 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/10/' title='October 2007'>October 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/09/' title='September 2007'>September 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/08/' title='August 2007'>August 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/07/' title='July 2007'>July 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/06/' title='June 2007'>June 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/05/' title='May 2007'>May 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/04/' title='April 2007'>April 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/03/' title='March 2007'>March 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/02/' title='February 2007'>February 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/01/' title='January 2007'>January 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/12/' title='December 2006'>December 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/11/' title='November 2006'>November 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/10/' title='October 2006'>October 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/09/' title='September 2006'>September 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/08/' title='August 2006'>August 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/07/' title='July 2006'>July 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/06/' title='June 2006'>June 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/05/' title='May 2006'>May 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/04/' title='April 2006'>April 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/03/' title='March 2006'>March 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/02/' title='February 2006'>February 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/01/' title='January 2006'>January 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/12/' title='December 2005'>December 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/11/' title='November 2005'>November 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/10/' title='October 2005'>October 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/09/' title='September 2005'>September 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/08/' title='August 2005'>August 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/07/' title='July 2005'>July 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/06/' title='June 2005'>June 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/05/' title='May 2005'>May 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/04/' title='April 2005'>April 2005</a></li>
		</ul>
</li><li id="recent-comments-3" class="widget-container widget_recent_comments"><h3 class="widget-title">What others have said&#8230;</h3><ul id="recentcomments"><li class="recentcomments"><a href='http://zacherygaines.webstarts.com/' rel='external nofollow' class='url'>KadeemFulton</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7523">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments"><a href='http://jonsonbettly.wordpress.com/' rel='external nofollow' class='url'>ScottWorkman</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7517">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments">haihao on <a href="http://codebetter.com/jeremymiller/2008/10/18/profile-s-in-structuremap/#comment-7513">Profile’s in StructureMap</a></li><li class="recentcomments">neon on <a href="http://codebetter.com/jeremymiller/2008/09/10/using-the-structuremap-container-independently-of-objectfactory/#comment-7512">Using the StructureMap Container independently of ObjectFactory</a></li><li class="recentcomments">weaponfan on <a href="http://codebetter.com/jeremymiller/2008/09/25/using-structuremap-2-5-to-inject-your-entity-objects-into-services/#comment-7511">Using StructureMap 2.5 to inject your Entity objects into Services</a></li></ul></li>				</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 7.410 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 12:26:09 -->
<!-- super cache -->