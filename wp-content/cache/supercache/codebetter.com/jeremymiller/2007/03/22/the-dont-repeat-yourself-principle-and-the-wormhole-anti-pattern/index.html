<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>The Don&#8217;t Repeat Yourself Principle and the Wormhole Anti-Pattern | Jeremy D. Miller</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/jeremymiller/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/jeremymiller/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Really fast way to get a StackOverflowException' href='http://codebetter.com/jeremymiller/2007/03/20/really-fast-way-to-get-a-stackoverflowexception/' />
<link rel='next' title='I wish I&#8217;d written this post&#8230;' href='http://codebetter.com/jeremymiller/2007/03/22/i-wish-id-written-this-post/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/jeremymiller/?p=300' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,180] -->
<link rel="canonical" href="http://codebetter.com/jeremymiller/2007/03/22/the-dont-repeat-yourself-principle-and-the-wormhole-anti-pattern/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-300" class="post-300 post type-post status-publish format-standard hentry category-maintainability category-structuremap">
					<h1 class="entry-title">The Don&#8217;t Repeat Yourself Principle and the Wormhole Anti-Pattern</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">Jeremy Miller</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/jeremymiller/2007/03/22/the-dont-repeat-yourself-principle-and-the-wormhole-anti-pattern/" title="3:07 am" rel="bookmark"><span class="entry-date">March 22, 2007</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/jeremymiller/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/jeremymiller/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>Getting back on track with the &quot;<a href="/blogs/jeremy.miller/archive/category/1341.aspx">Maintainability</a>&quot; series of posts.&nbsp; I&#039;m doing this way too late at night, so the coherence might be lacking.</p>
<h4>Don&#039;t Repeat Yourself</h4>
<p><a href="http://www.artima.com/intv/dry.html">Don&#039;t Repeat Yourself</a>&nbsp;(DRY) is a statement exhorting developers to avoid duplication in code.&nbsp; Duplication isn&#039;t always the easiest thing to spot or even prevent.&nbsp; From the <a href="http://www.artima.com/intv/dry.html">Pragmatic Programmers</a>:</p>
<blockquote><p>DRY says that every piece of system knowledge should have one authoritative, unambiguous representation. Every piece of knowledge in the development of something should have a single representation. A system&#039;s knowledge is far broader than just its code. It refers to database schemas, test plans, the build system, even documentation.</p>
</blockquote>
<p>Duplication is an obvious problem for maintenance, but there&#039;s a secondary meaning to the DRY Principle.&nbsp; When I&#039;m adding&nbsp;an all&nbsp;new feature to a system with new classes, database mappings and tables, new screens, web services, etc. I want to&nbsp;make the change with the fewest steps possible with a minimum of repetition.&nbsp; I want to tell the system what I want to happen, and I want to say it only once.&nbsp; More on that second meaning later.</p>
<p>&nbsp;</p>
<h4>Duplication Retards Change</h4>
<p>For the upcoming (soon, knock on wood) StructureMap 2.0 release, I got in and added support for generic templated types.&nbsp; It was nasty.&nbsp; It wasn&#039;t really&nbsp;nasty because of Generics, it was nasty because I blundered with this innocuous looking code:</p>
<div style="background: white none repeat scroll 0% 50%;font-size: 10pt;color: black;font-family: courier new">
<p style="margin: 0px"><span style="color: blue">&nbsp;&nbsp;&nbsp; return</span> _pluginType.FullName;</p>
</div>
<p>In some spots it was useful or necessary to identify a .Net Type with a string value and early on I&nbsp;fell into&nbsp;using the full class name as a convention.&nbsp; I then promptly duplicated that simple Type.FullName logic over 70 times in the codebase.&nbsp; Flash forward 3 1/2 years to the new Generics support, and I needed a way to go from a string to a type.&nbsp; The obvious answer was to&nbsp;finally change&nbsp;to using&nbsp;assembly qualified names.&nbsp; It took me about 6-8 hours total to make that one&nbsp;little change because of the stupid amount of duplication I had introduced with the FullName logic.</p>
<p>Some other cases:</p>
<ul>
<li>Multiple applications, or even subsystems of the same system,&nbsp;reading and writing to&nbsp;a shared database.&nbsp; You almost inevitably end up with duplicated work to read, write, validate, and interpret the exact same data.&nbsp; Think about&nbsp;a column in a database that represents the status of some sort of work item.&nbsp; The logical entity represented by this row has different constraints and business rules depending upon what the value in&nbsp;that status column.&nbsp; If you have more than a single piece of code that &quot;knows&quot; how to interpret that status value, you have duplication, and a particularly pernicious sort of duplication because it&#039;s hard to spot by looking at any one codebase.&nbsp; Just as a warning, coding in a data-centric manner can open the door to a great deal of harmful&nbsp;duplication.&nbsp; Ask yourself, if the database structure or status field changes, how many other pieces of code have to be changes?&nbsp;  </li>
<li>Reading and writing values from the HttpContext in ASP.Net.&nbsp; This little bit of code represents a great deal of potential&nbsp;duplication (even if you eliminate the <a href="http://en.wikipedia.org/wiki/Magic_number_(programming)">Magic Number Antipattern</a>):&nbsp; <font face="Courier New">string something = (string) HttpContext.Current.Session[&quot;something&quot;];&nbsp; </font><font face="ari">What if you want to change your state management strategy altogether?&nbsp; You&#039;ll have to change every single&nbsp;piece of code that dipped directly into HttpContext.</font>  </li>
<li>In .Net applications, you often need to use a subclass of <font face="Courier New">System.Text.Encoding</font> when converting byte arrays to strings or vice versa.&nbsp; In an application I worked with there were&nbsp;67 different references to the <font face="Courier New">ASCIIEncoding</font> class.&nbsp; Why do I distinctly&nbsp;remember this number you might ask?&nbsp; Because we needed to localize the application to a Unicode encoding and I found out quickly that the change was going to lead to considerable change and effort to hunt down and make all the necessary changes.&nbsp; If the character conversion code had been more centralized into some sort of helper class, that change could have been easier. </li>
</ul>
<p>&nbsp;</p>
<h4>Stop Duplication in its Tracks</h4>
<p>The worst case I&#039;ve ever observed was a factory automation system.*&nbsp; The system&nbsp;was originally&nbsp;built to pull upcoming factory build jobs from a MQSeries queue,&nbsp;go through a series of&nbsp;business rules, then determine the proper routing and push the new directions to other MQSeries queues.&nbsp; Fine and dandy, until the day that the factory needed to start the basic process manually from a client application on the factory floor.&nbsp; The developers decided to recreate the business rules portion of the existing code, rule by rule, and created a new&nbsp;implementation of the business rules&nbsp;for the new client.&nbsp; I spent some time learning about both components, and it was very apparent that the new code was better structured, but trouble was right around the corner.&nbsp; It&#039;s easy to guess what&nbsp;happened next.&nbsp;&nbsp;Those particular&nbsp;business rules were volatile, but only now you had to make functionally equivalent rules changes in two very different components.&nbsp; The system became harder to maintain and extend.</p>
<p>The duplication was created purposely because the team felt that the original code was just too hard to reuse because the business rules and the workflow was deeply intertwined with the code that called into MQSeries.&nbsp; They didn&#039;t have any test automation to catch regression bugs, and the system was hard to deploy, so modifying the existing code was quite risky.&nbsp; If the original code had been <a href="/blogs/jeremy.miller/archive/2007/01/08/Orthogonal-Code.aspx">much more orthogonal</a> between business rules and the communication infrastructure, they might have been able to simply write some new glue code to interact with the existing code.&nbsp; If the system had been backed up with <a href="/blogs/jeremy.miller/archive/2006/08/13/148258.aspx">a software ecosystem of effective build automation and comprehensive test automation coverage</a>, the team would have been much better positioned to morph the existing code into a structure that would allow for reuse between both the automatic MQSeries mechanism and the newer manual client process.</p>
<p>Part of the reason duplication creeps into code is the ease of copy/paste/modify operations to create new code.&nbsp;&nbsp;Runaway &quot;IDE inheritance&quot; (copy/paste/edit coding, I couldn&#039;t find a link) can lead to a system that&#039;s very difficult to maintain.&nbsp; Sometimes developers do the copy/paste/modify trick because the original code isn&#039;t quite what they need in the second case.&nbsp; It definitely requires some skill and experience, but in the &quot;not quite what I need&quot; case, I&#039;d much rather a developer take&nbsp;a little time to refactor out the common pieces first before making the second set of changes.&nbsp; Refactoring is perhaps&nbsp;more work than copy/paste in the short term, but stamping out duplication can only help in the longer run.&nbsp; Refactoring is an invaluable skill that&#039;s well worth your time.</p>
<p>&nbsp;</p>
<h4>The Wormhole Anti-Pattern</h4>
<p>Bill Caputo&nbsp;wrote&nbsp;a good&nbsp;description of the <a href="http://www.williamcaputo.com/archives/000083.html">Wormhole Anti-Pattern</a> that so commonly afflicts enterprise software systems.&nbsp; Roughly stated, I would define the wormhole as&nbsp;all of the stages a piece of data goes through to get from the database to the screen or service interface and back again.&nbsp; When the wormhole gets long and involved, your development work is going to be a struggle &#8212; hence the &quot;Anti-Pattern&quot; designation.</p>
<p>As an almost canonical example, my first official job in software&nbsp;was supporting a data integration between a third party engineering application and a downstream construction application.&nbsp; Between the two databases, a flat file report, two rule files, and the Tibco definitions, I counted 8 different variable names and mappings for a single piece of data along the data exchange.&nbsp; The big problem was that I had to change that mapping pretty frequently &#8212; and that meant following the path through all 8 steps.&nbsp; Needless to say, that code was very difficult to troubleshoot and modify.&nbsp; Of course I made all of the modifications in production to support ongoing engineering projects because there wasn&#039;t any such thing as a development environment;)&nbsp; If you&#039;re a thrill seeker, nothing is more&nbsp;exciting than coding in the&nbsp;production environment while it&#039;s live.</p>
<p>To apply the Wormhole Anti-Pattern to your&nbsp;architecture efforts, think about how many steps you would have to go through to get a new element on a screen persisted in the database.&nbsp; Or to add a new feature to your application.&nbsp; If the thought of jumping through a lot of Xml configuration hoops or database metadata setup or the sheer number of changes gives you pause, you may be exhibiting the Wormhole Anti-Pattern.&nbsp; At that point you need to start working towards eliminating or combining some of the steps to shorten your wormhole.</p>
<p>Just for comparison, we had to add some fields to a screen after it was built&nbsp;one week.&nbsp; Here is the wormhole we have to go through on my current project.&nbsp; I&#039;ve had worse, but this is more than enough:</p>
<ul>
<li>Element on the screen  </li>
<li>Property on a Domain&nbsp;class  </li>
<li>Property on at least one&nbsp;<a href="http://www.martinfowler.com/eaaCatalog/dataTransferObject.html">Data Transfer Object</a> (DTO)  </li>
<li>Mapping from &nbsp;DTO to Domain class in the client </li>
<li>Repeat on the server side, but differently </li>
<li>Change unit tests  </li>
<li>Add new field to FitNesse tests</li>
</ul>
<p>&nbsp;</p>
<p>In line with the Wormhole Anti-Pattern, you might also check out the <a href="http://www.codinghorror.com/blog/archives/000589.html">Shotgun Surgery code smell</a>.&nbsp; If&nbsp;you constantly make a&nbsp;repetitive set of changes to the same classes anytime one changes, it might be a sign that you&nbsp;should shorten your Wormhole by collapsing the class structure down into fewer pieces to consolidate related code into a more cohesive structure.&nbsp; Your goal is to enable changes to your application to be made in fewer mechanical steps.</p>
<p>&nbsp;</p>
<h4>I only want to tell you this once!</h4>
<p>Going back to the previous section on The Wormhole Anti-Pattern, the second, more proactive goal of the DRY Principle is to express changes in as few steps and places as possible.&nbsp; My thinking in regards to the quality of a &nbsp;system architecture has changed quite a bit from my brief exposure to Ruby on Rails.</p>
<p>From <a href="http://www.methodsandtools.com/archive/archive.php?id=47">Nico Mommaerts</a>,</p>
<blockquote><p>One of the selling points of Rails is that it is built with the DRY principle in mind. DRY stands for Don&#039;t Repeat Yourself, meaning that every piece of your system is described once and only once, which should make development and maintenance a lot easier since there is no need to keep multiple parts of the code in sync. Hand in hand with DRY goes &#039;Convention over Configuration&#039;, another one of Rails&#039; core philosophies. Rails uses a set of code and naming conventions that when adhered to eliminates the need for configuring every single aspect of your application. Only the extraordinary stuff needs to be configured, like legacy database schemas or other resources you don&#039;t control. Using these two philosophies, DRY and &#039;Convention Over Configuration&#039;, Rails lets you write less code AND more features in the same time as with a typical Java or .NET application, with easier maintenance afterwards.</p>
</blockquote>
<p>Even if you&#039;re never going to code in Ruby or build web applications, take a look at how Rails puts the various pieces together to eliminate repetition in code and configuration.&nbsp; A good design allows for minimizing the amount of repetitious information.</p>
<h4>DRY-ing out StructureMap</h4>
<p>After seeing how Ruby on Rails works, it made StructureMap feel just a little shabby in some places.&nbsp; Here&#039;s a specific example, one of the features in StructureMap is the ability to define configuration profiles and easily switch between them.&nbsp; Typically, I like to use this feature to handle environmental differences between development, testing, and production.&nbsp; There&#039;s a lot more to the functionality, but for now let&#039;s just look at the configuration needed for just a single <font face="Courier New">IService</font> today.&nbsp; </p>
<p>Look how ugly this is in general (couldn&#039;t get CopyAsHtml to format this for some reason), and the duplicated information between the Profile nodes, the PluginFamily nodes, the Plugin nodes, and the Instance nodes.</p>
<pre>&lt;StructureMap MementoStyle='Attribute' DefaultProfile='Development'&gt;<br />  &lt;Assembly Name=&quot;SomeAssembly&quot;/&gt;<br /><br />  &lt;Profile Name=&quot;Production&quot;&gt;<br />    &lt;Override Type=&quot;SomeAssembly.IService&quot; DefaultKey=&quot;Production&quot;/&gt;<br />  &lt;/Profile&gt;<br /><br />  &lt;Profile Name=&quot;Testing&quot;&gt;<br />    &lt;Override Type=&quot;SomeAssembly.IService&quot; DefaultKey=&quot;Testing&quot;/&gt;<br />  &lt;/Profile&gt;<br /><br />  &lt;Profile Name=&quot;Development&quot;&gt;<br />    &lt;Override Type=&quot;SomeAssembly.IService&quot; DefaultKey=&quot;Development&quot;/&gt;<br />  &lt;/Profile&gt;<br /><br /><br />  &lt;PluginFamily Type=&quot;SomeAssembly.IService&quot; Assembly=&quot;SomeAssembly&quot;&gt;<br />    &lt;Plugin Type=&quot;SomeAssembly.ConcreteService&quot; Assembly=&quot;SomeAssembly&quot; ConcreteKey=&quot;Concrete&quot;/&gt;<br />    <br />    &lt;Instance Type=&quot;Concrete&quot; Key=&quot;Production&quot;&gt;<br />      &lt;Property Name=&quot;host&quot; Value=&quot;PROD-SERVER&quot;/&gt;<br />      &lt;Property Name=&quot;port&quot; Value=&quot;5050&quot;/&gt;<br />    &lt;/Instance&gt;<br />    <br />    &lt;Instance Type=&quot;Concrete&quot; Key=&quot;Testing&quot;&gt;<br />      &lt;Property Name=&quot;host&quot; Value=&quot;TEST-SERVER&quot;/&gt;<br />      &lt;Property Name=&quot;port&quot; Value=&quot;5050&quot;/&gt;<br />    &lt;/Instance&gt;<br />    <br />    &lt;Instance Type=&quot;Concrete&quot; Key=&quot;Development&quot;&gt;<br />      &lt;Property Name=&quot;host&quot; Value=&quot;localhost&quot;/&gt;<br />      &lt;Property Name=&quot;port&quot; Value=&quot;2000&quot;/&gt;<br />    &lt;/Instance&gt;<br />  &lt;/PluginFamily&gt;<br /><br />&lt;/StructureMap&gt;<br /></pre>
<p>A major part of my work for StructureMap 2.0 has been ease of use, and that has meant eliminating the duplication and mechanical steps in configuration.&nbsp; Below is the exact equivalent of the profile in StructureMap 2.0:</p>
<p>&nbsp;</p>
<p><span><span><span style="color: blue">&lt;</span><span style="color: maroon">StructureMap</span><span style="color: blue"> </span><span style="color: red">MementoStyle</span><span style="color: blue">=</span>&quot;<span style="color: blue">Attribute</span>&quot;<span style="color: blue"> </span><span style="color: red">DefaultProfile</span><span style="color: blue">=</span>&quot;<span style="color: blue">Development</span>&quot;<span style="color: blue">&gt;</span> </span></span></p>
<div style="background: white none repeat scroll 0% 50%;font-size: 10pt;color: black;font-family: courier new">
<p>&nbsp;</p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &lt;</span><span style="color: maroon">Assembly</span><span style="color: blue"> </span><span style="color: red">Name</span><span style="color: blue">=</span>&quot;<span style="color: blue">SomeAssembly</span>&quot;<span style="color: blue">/&gt;</span></p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &lt;</span><span style="color: maroon">Profile</span><span style="color: blue"> </span><span style="color: red">Name</span><span style="color: blue">=</span>&quot;<span style="color: blue">Production</span>&quot;<span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &nbsp; &lt;</span><span style="color: maroon">Override</span><span style="color: blue"> </span><span style="color: red">Type</span><span style="color: blue">=</span>&quot;<span style="color: blue">SomeAssembly.IService</span>&quot;<span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &nbsp; &nbsp; &lt;</span><span style="color: maroon">Instance</span><span style="color: blue"> </span><span style="color: red">PluggedType</span><span style="color: blue">=</span>&quot;<span style="color: blue">SomeAssembly.ConcreteService,SomeAssembly</span>&quot;<span style="color: blue"> </span><span style="color: red">host</span><span style="color: blue">=</span>&quot;<span style="color: blue">PROD-SERVER</span>&quot;<span style="color: blue"> </span><span style="color: red">port</span><span style="color: blue">=</span>&quot;<span style="color: blue">5050</span>&quot;<span style="color: blue">/&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &nbsp; &lt;/</span><span style="color: maroon">Override</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &lt;/</span><span style="color: maroon">Profile</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &lt;</span><span style="color: maroon">Profile</span><span style="color: blue"> </span><span style="color: red">Name</span><span style="color: blue">=</span>&quot;<span style="color: blue">Testing</span>&quot;<span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &nbsp; &lt;</span><span style="color: maroon">Override</span><span style="color: blue"> </span><span style="color: red">Type</span><span style="color: blue">=</span>&quot;<span style="color: blue">SomeAssembly.IService</span>&quot;<span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &nbsp; &nbsp; &lt;</span><span style="color: maroon">Instance</span><span style="color: blue"> </span><span style="color: red">PluggedType</span><span style="color: blue">=</span>&quot;<span style="color: blue">SomeAssembly.ConcreteService,SomeAssembly</span>&quot;<span style="color: blue"> </span><span style="color: red">host</span><span style="color: blue">=</span>&quot;<span style="color: blue">TEST-SERVER</span>&quot;<span style="color: blue"> </span><span style="color: red">port</span><span style="color: blue">=</span>&quot;<span style="color: blue">5050</span>&quot;<span style="color: blue">/&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &nbsp; &lt;/</span><span style="color: maroon">Override</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &lt;/</span><span style="color: maroon">Profile</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &lt;</span><span style="color: maroon">Profile</span><span style="color: blue"> </span><span style="color: red">Name</span><span style="color: blue">=</span>&quot;<span style="color: blue">Development</span>&quot;<span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &nbsp; &lt;</span><span style="color: maroon">Override</span><span style="color: blue"> </span><span style="color: red">Type</span><span style="color: blue">=</span>&quot;<span style="color: blue">SomeAssembly.IService</span>&quot;<span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &nbsp; &nbsp; &lt;</span><span style="color: maroon">Instance</span><span style="color: blue"> </span><span style="color: red">PluggedType</span><span style="color: blue">=</span>&quot;<span style="color: blue">SomeAssembly.ConcreteService,SomeAssembly</span>&quot;<span style="color: blue"> </span><span style="color: red">host</span><span style="color: blue">=</span>&quot;<span style="color: blue">localhost</span>&quot;<span style="color: blue"> </span><span style="color: red">port</span><span style="color: blue">=</span>&quot;<span style="color: blue">2000</span>&quot;<span style="color: blue">/&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &nbsp; &lt;/</span><span style="color: maroon">Override</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&nbsp; &lt;/</span><span style="color: maroon">Profile</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px"><span style="color: blue">&lt;/</span><span style="color: maroon">StructureMap</span><span style="color: blue">&gt;</span></p>
</div>
<p><font size="3"></font>&nbsp;</p>
<p>All I really did was enable a user to make all the configuration inline in the Profile node itself.&nbsp; Just doing that took down the number of moving parts and centralized the&nbsp;semantic meaning of the profile configuration into one spot instead of being spread out throughout the Xml file.&nbsp; The underlying model of StructureMap is unchanged, only the configuration code got more sophisticated to streamline the user experience.</p>
<p><font size="3"></font>&nbsp;</p>
<p><font size="3"></font>&nbsp;</p>
<h4>More than the Code</h4>
<p>Anytime you talk about improving the way you create software it&#039;s very hard to&nbsp;treat coding, design, process, and infrastructure as separate topics because they&#039;re all tightly intertwined.&nbsp;&nbsp;You definitely want to apply the&nbsp;DRY Principle to your change management.&nbsp; Here are a couple examples of what I mean:</p>
<ul>
<li>Long lived code branches.&nbsp; A temporary branch that&#039;s short lived for production support or a risky change is one thing, but a long lived branch essentially represents a whole new system.&nbsp; I&#039;ve seen a couple smaller product companies jeopardize their very existence by maintaining and extending customer specific branches of their system.&nbsp; Hot fixes and newly demanded features often had to be implemented several different times on somewhat divergent versions of the same code.&nbsp; Long lived branches need to be treated as a last resort.&nbsp; If there&#039;s any possible way to arrange your system to allow for customer specific features and customizations while maintaining one version of the core code, your company will be far better off.&nbsp; Microkernal designs with <a href="/blogs/jeremy.miller/archive/2005/09/20/132290.aspx">IoC</a> engines (like <a href="http://structuremap.sourceforge.net">StructureMap</a>)&nbsp;can help.&nbsp; Orthogonal code will help by creating plenty of seams to allow for customization.&nbsp; Build and test automation makes changing code much less risky.
</li>
<li>WSDL or XSD schemas for integration.&nbsp; We hit this on my current project.&nbsp; Our new&nbsp;.Net client communicates with the existing Java server platform by sending Xml messages over a stateful socket.&nbsp; Quite naturally, we devolved into using XSD schema&#039;s to describe the contract of the messages.&nbsp; Great, we use the XSD.exe tool in .Net to codegen DTO classes on one side, and JAXB to do the same on the Java side.&nbsp; Both codebases need to have a copy of the XSD&#039;s, and that&#039;s what we did.&nbsp; A copy in the .Net SVN repository and another in the Java CVS repository.&nbsp; Needless to say, any change in schema from either side requires the XSD&#039;s to be copied back and forth.&nbsp;&nbsp;This situation has&nbsp;caused us no small amount of pain from mismatches in the Xml definitions.&nbsp; One way or&nbsp;another, the XSD definitions from .Net to Java need to be locked together automatically to shut down the potential discrepancies.</li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h4>The Highlander Puts it all into Perspective</h4>
<p><a href="/blogs/scott.bellware/">Bellware</a> thought this was an awful analogy, so I absolutely have to use it.&nbsp; If you&#039;re a big fan of the cult movie Highlander (and who isn&#039;t?), this will put it all into perspective.&nbsp; The main characters in the movie were all striving to be the last one standing to win&nbsp;the &quot;Prize.&quot;&nbsp; As Christopher Lambert and Sean Connery intone&nbsp;constantly throughout the movie, &quot;there can be only one!&quot;</p>
<p>The Don&#039;t Repeat Yourself Principle is &quot;There can be only one!&quot; (expression of any rule or functionality that could conceivably change)</p>
<p>Unfortunately I&#039;ve&nbsp;been on and seen&nbsp;a couple projects where the basic architecture just didn&#039;t allow for outwardly small changes to be made efficiently.&nbsp; A nasty case of a Wormhole, plus clumsy or inefficient build processes,&nbsp;can make the simple addition of an extra piece of information from persistence to user interface turn into a living hell.&nbsp; In the Highlander, there is a scene where the bad guy, the &quot;Kurgan&quot; played by Canadian character actor&nbsp;extraordinaire Clancy Brown, wins a sword duel and disembowels Sean Connery&#039;s character.&nbsp; As the Kurgan twists the sword to inflict more pain he utters the line &quot;it hurts, doesn&#039;t it!&quot;&nbsp; When a request for a small change comes across your desk and all you can think about is all of the painful and tedious work it will take to get that change done, that&#039;s what I call the &quot;Kurgan Moment.&quot;</p>
<p>To wrap up, the Highlander and DRY good, Kurgan and Wormhole bad.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Appropos of nothing here, Locke is easily the best character on Lost.</p>
<div class="shr-publisher-300"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/db65c5c5cf9f1c51e842f733892eace1?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Jeremy Miller</h2>
							Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.							<div id="author-link">
								<a href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">View all posts by Jeremy Miller &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/jeremymiller/category/maintainability/" title="View all posts in Maintainability" rel="category tag">Maintainability</a>, <a href="http://codebetter.com/jeremymiller/category/structuremap/" title="View all posts in StructureMap" rel="category tag">StructureMap</a>. Bookmark the <a href="http://codebetter.com/jeremymiller/2007/03/22/the-dont-repeat-yourself-principle-and-the-wormhole-anti-pattern/" title="Permalink to The Don&#8217;t Repeat Yourself Principle and the Wormhole Anti-Pattern" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/jeremymiller/2007/03/22/the-dont-repeat-yourself-principle-and-the-wormhole-anti-pattern/feed/" title="Comments RSS to The Don&#8217;t Repeat Yourself Principle and the Wormhole Anti-Pattern" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-300 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/jeremymiller/2007/03/20/really-fast-way-to-get-a-stackoverflowexception/" rel="prev"><span class="meta-nav">&larr;</span> Really fast way to get a StackOverflowException</a></div>
					<div class="nav-next"><a href="http://codebetter.com/jeremymiller/2007/03/22/i-wish-id-written-this-post/" rel="next">I wish I&#8217;d written this post&#8230; <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-1681">
                    <div id="dsq-comment-header-1681" class="dsq-comment-header">
                        <cite id="dsq-cite-1681">
    http://joeydotnet.com/blog                            <span id="dsq-author-user-1681">JoeyDotNet</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1681" class="dsq-comment-body">
                        <div id="dsq-comment-message-1681" class="dsq-comment-message"><p>Great post as usual, Jeremy!  I think Pragmatic Programmer should be *required* reading for every developer, bottom line.  We&#8217;ve had to deal with the Wormhole anti-pattern quite a bit on a couple of our current Smart Client/WCF projects.  I&#8217;ve seen adding an element to a screen pass through 7 or 8 layers before it gets to the database  on some of these kinds of apps.  Very tedious and is a maintenance nightmare.  </p>
<p>I&#8217;m working on a different project now, for which I&#8217;m probably going to be using MonoRail + ActiveRecord (as close to RoR as us .NET&#8217;ers can get).  It&#8217;s simplicity is very refreshing.</p>
<p>BTW, agreed about Locke.  <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' />   This show just gets crazier each year.  </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1682">
                    <div id="dsq-comment-header-1682" class="dsq-comment-header">
                        <cite id="dsq-cite-1682">
    http://www.rgoarchitects.com/blog                            <span id="dsq-author-user-1682">Arnon Rotem-Gal-Oz</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1682" class="dsq-comment-body">
                        <div id="dsq-comment-message-1682" class="dsq-comment-message"><p>On the flip side of the &#8220;wormhole anti-pattern&#8221; you have too few layers which will result in an architecture which is also problematic (at least for many cases)<br />
since if we go with this anti-pattern we will end up with binding a textbox to a dataset (or even a resultset) which is the result of a direct  query  to a database</p>
<p>Arnon</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1683">
                    <div id="dsq-comment-header-1683" class="dsq-comment-header">
                        <cite id="dsq-cite-1683">
                                <span id="dsq-author-user-1683">Chuggle</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1683" class="dsq-comment-body">
                        <div id="dsq-comment-message-1683" class="dsq-comment-message"><p>Another well written article J and certainly food for thought but Im not sure I agree 100% with this &#8211; lets say Ive just finished building my fantastic ASP.NET application and the business decides to add a new field (like we dont see that coming!).  Well I have to add it to both the web page &#038; database (as that is the business requirement) &#8211; no getting away from that.<br />
Say Ive used NHibernate &#8211; I&#8217;ll obviously have to add it to the hbm file and add an additional property to the domain abject this new field is a part of (or create a new class if required).<br />
I&#8217;ll then have to amend my service that feeds the UI to include the new field<br />
So all in all 4 or so steps &#8211; which you may class as a wormhole<br />
Im a big fan of KISS (no not the rather sad 80s rock group &#8211; rather Keep it simple stupid) and I think adding a new field across 4 well documented layers is a lot easier to understand than using configuration files (which normally confuses the hell out of newbies&#8230;..and seeing as programmers here come and go regularly its difficult enforce a common skillset) &#8211; yes you type a bit more but then thats what intellisense is for <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>In my experience (what little there is) maintainability is often about writing code that &#8220;those that will come after you&#8221; can understand (unfortunately)</p>
<p>Just my 2cents</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1684">
                    <div id="dsq-comment-header-1684" class="dsq-comment-header">
                        <cite id="dsq-cite-1684">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-1684">jmiller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1684" class="dsq-comment-body">
                        <div id="dsq-comment-message-1684" class="dsq-comment-message"><p>Chuggle,</p>
<p>I can&#8217;t disagree with you at all, and like Arnon said above, you do need some layering to avoid tight coupling.  4 steps sounds pretty tight to me anyway, I was thinking more about our 8-10 step wormhole.</p>
<p>Coding in a configuration file isn&#8217;t something I would recommend offhand.  Almost anything is more expressive than an xml file. </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1685">
                    <div id="dsq-comment-header-1685" class="dsq-comment-header">
                        <cite id="dsq-cite-1685">
                                <span id="dsq-author-user-1685">Yoni</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1685" class="dsq-comment-body">
                        <div id="dsq-comment-message-1685" class="dsq-comment-message"><p>I truely believe there will come a day when adding a field will be as simple as adding a line of code which states &#8220;AddField()&#8221;.<br />
The database should be modified automatically in the next version update and the appropriate UI should find room and automatically include the new piece of data. All of this should be a direct result of the AddField method call&#8230; (or a similar mechanism)</p>
<p>I am in the process of creating that future (though it may take a while <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> .</p>
<p>Like Arnon said sometimes you need layers in-between but sometimes you simply don&#8217;t and for those times things sould be as simple as possible.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1686">
                    <div id="dsq-comment-header-1686" class="dsq-comment-header">
                        <cite id="dsq-cite-1686">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-1686">jmiller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1686" class="dsq-comment-body">
                        <div id="dsq-comment-message-1686" class="dsq-comment-message"><p>or just make OODB&#8217;s a practical reality</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1687">
                    <div id="dsq-comment-header-1687" class="dsq-comment-header">
                        <cite id="dsq-cite-1687">
                                <span id="dsq-author-user-1687">Jacob Atzen</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1687" class="dsq-comment-body">
                        <div id="dsq-comment-message-1687" class="dsq-comment-message"><p>Jeremy wrote: A copy in the .Net SVN repository and another in the Java CVS repository.</p>
<p>In my twisted mind keeping two different versioning systems is also a kind of violation of DRY. If you used Subversion for everything the problem would as easy as configuring an external. I guess you should even keep your tools dry.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1688">
                    <div id="dsq-comment-header-1688" class="dsq-comment-header">
                        <cite id="dsq-cite-1688">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-1688">jmiller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1688" class="dsq-comment-body">
                        <div id="dsq-comment-message-1688" class="dsq-comment-message"><p>Jacob,</p>
<p>You&#8217;re absolutely right, and we&#8217;ve talked about it, but moving the server code into SVN has turned into a &#8220;get around to it&#8221; project that just isn&#8217;t happening soon.</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/jeremymiller/2007/03/22/the-dont-repeat-yourself-principle-and-the-wormhole-anti-pattern/';
    var disqus_identifier = '300 /blogs/jeremy.miller/archive/2007/03/21/The-Don_2700_t-Repeat-Yourself-Principle-and-the-Wormhole-Anti_2D00_Pattern.aspx';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'theshadetreedeveloper';
    var disqus_title = "The Don&#8217;t Repeat Yourself Principle and the Wormhole Anti-Pattern";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=300');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/codebetter.com\/jeremymiller\/2007\/03\/22\/the-dont-repeat-yourself-principle-and-the-wormhole-anti-pattern\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">The Shade Tree Developer</h3>Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.
</li><li id="text-3" class="widget-container widget_text"><h3 class="widget-title">Upcoming posts&#8230;</h3>			<div class="textwidget"><p>How I'm using StoryTeller to test FubuMVC<br />
Building a "Lookup" html convention w/ FubuMVC<br />
FubuMVC's Configuration Model "Special Sauce"<br />
Managing Script dependencies with FubuMVC<br />
Authorization and FubuMVC<br />
Continuations<br />
Composing Views with FubuMVC<br />
Extensible Model Binding with FubuMVC<br />
Introducing "Bottles"<br />
Modular Packaging with FubuMVC<br />
Self-Installing Apps w/ FubuMVC<br />
Routing and Behavioral Conventions with FubuMVC<br />
What Should I Learn?</p>
</div>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://twitter.com/jeremydmiller">Follow me on Twitter</a></li>
<li><a href="https://github.com/DarthFubuMVC/fubumvc" target="_blank">FubuMVC on GitHub</a></li>
<li><a href="https://github.com/jeremydmiller">My GitHub Page</a></li>
<li><a href="https://github.com/storyteller/storyteller">StoryTeller on GitHub</a></li>
<li><a href="https://github.com/structuremap/structuremap">StructureMap on GitHub</a></li>

	</ul>
</li>
		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
					<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/jeremymiller/2012/01/' title='January 2012'>January 2012</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/09/' title='September 2011'>September 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/07/' title='July 2011'>July 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/06/' title='June 2011'>June 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/05/' title='May 2011'>May 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/04/' title='April 2011'>April 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/03/' title='March 2011'>March 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/08/' title='August 2010'>August 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/07/' title='July 2010'>July 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/06/' title='June 2010'>June 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/05/' title='May 2010'>May 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/03/' title='March 2010'>March 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/02/' title='February 2010'>February 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/01/' title='January 2010'>January 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/06/' title='June 2009'>June 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/09/' title='September 2008'>September 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/08/' title='August 2008'>August 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/07/' title='July 2008'>July 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/06/' title='June 2008'>June 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/05/' title='May 2008'>May 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/04/' title='April 2008'>April 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/03/' title='March 2008'>March 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/02/' title='February 2008'>February 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/01/' title='January 2008'>January 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/12/' title='December 2007'>December 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/11/' title='November 2007'>November 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/10/' title='October 2007'>October 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/09/' title='September 2007'>September 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/08/' title='August 2007'>August 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/07/' title='July 2007'>July 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/06/' title='June 2007'>June 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/05/' title='May 2007'>May 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/04/' title='April 2007'>April 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/03/' title='March 2007'>March 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/02/' title='February 2007'>February 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/01/' title='January 2007'>January 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/12/' title='December 2006'>December 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/11/' title='November 2006'>November 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/10/' title='October 2006'>October 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/09/' title='September 2006'>September 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/08/' title='August 2006'>August 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/07/' title='July 2006'>July 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/06/' title='June 2006'>June 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/05/' title='May 2006'>May 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/04/' title='April 2006'>April 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/03/' title='March 2006'>March 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/02/' title='February 2006'>February 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/01/' title='January 2006'>January 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/12/' title='December 2005'>December 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/11/' title='November 2005'>November 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/10/' title='October 2005'>October 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/09/' title='September 2005'>September 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/08/' title='August 2005'>August 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/07/' title='July 2005'>July 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/06/' title='June 2005'>June 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/05/' title='May 2005'>May 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/04/' title='April 2005'>April 2005</a></li>
		</ul>
</li><li id="recent-comments-3" class="widget-container widget_recent_comments"><h3 class="widget-title">What others have said&#8230;</h3><ul id="recentcomments"><li class="recentcomments"><a href='http://zacherygaines.webstarts.com/' rel='external nofollow' class='url'>KadeemFulton</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7523">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments"><a href='http://jonsonbettly.wordpress.com/' rel='external nofollow' class='url'>ScottWorkman</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7517">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments">haihao on <a href="http://codebetter.com/jeremymiller/2008/10/18/profile-s-in-structuremap/#comment-7513">Profile’s in StructureMap</a></li><li class="recentcomments">neon on <a href="http://codebetter.com/jeremymiller/2008/09/10/using-the-structuremap-container-independently-of-objectfactory/#comment-7512">Using the StructureMap Container independently of ObjectFactory</a></li><li class="recentcomments">weaponfan on <a href="http://codebetter.com/jeremymiller/2008/09/25/using-structuremap-2-5-to-inject-your-entity-objects-into-services/#comment-7511">Using StructureMap 2.5 to inject your Entity objects into Services</a></li></ul></li>				</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.552 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 13:51:15 -->
<!-- super cache -->