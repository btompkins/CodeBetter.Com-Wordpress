<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Dynamic Behavior with the Decorator Pattern | Jeremy D. Miller</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/jeremymiller/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/jeremymiller/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Having COM flashbacks &#8212; The horror, the horror!' href='http://codebetter.com/jeremymiller/2005/09/01/having-com-flashbacks-the-horror-the-horror/' />
<link rel='next' title='Why I&#8217;m looking forward to this Fall (Off Topic)' href='http://codebetter.com/jeremymiller/2005/09/05/why-im-looking-forward-to-this-fall-off-topic/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/jeremymiller/?p=68' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,152] -->
<link rel="canonical" href="http://codebetter.com/jeremymiller/2005/09/02/dynamic-behavior-with-the-decorator-pattern/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-68" class="post-68 post type-post status-publish format-standard hentry category-design-patterns">
					<h1 class="entry-title">Dynamic Behavior with the Decorator Pattern</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">Jeremy Miller</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/jeremymiller/2005/09/02/dynamic-behavior-with-the-decorator-pattern/" title="3:00 am" rel="bookmark"><span class="entry-date">September 2, 2005</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/jeremymiller/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/jeremymiller/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p><P>The <A href="http://www.dofactory.com/Patterns/PatternDecorator.aspx">Decorator</A> pattern is a means to transparently add responsibilities to another object on the fly.&nbsp; In some cases it&#8217;s a simpler solution than creating additional subclasses through inheritance.&nbsp; A decorator is implemented by creating a class that wraps&nbsp;access to another class.&nbsp; The decorator implements the exact same public interface as&nbsp;it&#8217;s&nbsp;inner member.&nbsp; That sounds like a lot of gobbledy-gook to me too, so let&#8217;s jump into a code sample.</P><br />
<P></P><br />
<P>I&#8217;ve frequently written code like the following to iterate through an IDataReader and read the data.&nbsp; There&#8217;s always a little bit of coercion on the raw data from the database when you move the data to .Net Types.&nbsp; Several database engines don&#8217;t have a true boolean type, so you use a coding convention&nbsp;like &#8220;0/1&#8243; or &#8220;Y/N&#8221; as a standin for a boolean type.&nbsp; You may want to treat a null value in the database&nbsp;as either an empty string or 0.&nbsp; That results in a lot of code like this below:</P><br />
<P></P><PRE>		public Somebody[] GetSomebodies()<br />
		{<br />
			ArrayList list = new ArrayList();</p>
<p>			using (IDataReader reader = this.fetchReader())<br />
			{<br />
				while (reader.Read())<br />
				{<br />
					string name = reader.GetString(0);<br />
					int age = reader.IsDBNull(1) ? 0 : reader.GetInt32(1);<br />
					string email = reader.IsDBNull(2) ? string.Empty : reader.GetString(2);<br />
					bool active = reader.GetString(3) == &#8220;Y&#8221; ? true : false;</p>
<p>					Somebody somebody = new Somebody(name, age, email, active);<br />
					list.Add(somebody);<br />
				}<br />
			}</p>
<p>			return (Somebody[]) list.ToArray(typeof (Somebody));<br />
		}<br />
</PRE><br />
<P>&nbsp;</P><br />
<P>Over time this kind of coercion code builds up, and it&#8217;s all a bunch of duplicated code.&nbsp; It&#8217;s also irritating when you hit defects because you forgot to check for null values on a column.&nbsp; Not to mention that it makes the code harder to read because you&#8217;re getting tangled up in the casting.&nbsp; Wouldn&#8217;t be nice if the DataReader could be smart enough to do the type coercion and null substitution for us?&nbsp; We can&#8217;t very easily go and alter SqlClient or OracleClient to do this ourselves (they&#8217;re both sealed).&nbsp; One slick alternative I&#8217;ve seen is to use the Decorator pattern to create a new IDataReader class that wraps the underlying reader just to intercept the null values and substitute a default value.&nbsp; Here&#8217;s what the code might look like with the decorated reader.</P><br />
<P>&nbsp;</P><PRE>		public Somebody[] GetSomebodies()<br />
		{<br />
			ArrayList list = new ArrayList();</p>
<p>			using (IDataReader innerReader = this.fetchReader())<br />
			{<br />
				IDataReader reader = new DefaultedReader(innerReader);</p>
<p>				while (reader.Read())<br />
				{<br />
					string name = reader.GetString(0);<br />
					int age = reader.GetInt32(1);<br />
					string email = reader.GetString(2);<br />
					bool active = reader.GetBoolean(3);</p>
<p>					Somebody somebody = new Somebody(name, age, email, active);<br />
					list.Add(somebody);<br />
				}<br />
			}</p>
<p>			return (Somebody[]) list.ToArray(typeof (Somebody));<br />
		}<br />
</PRE><br />
<P>&nbsp;</P><br />
<P>All I did is push a lot of the coercion code to the new decorator class.&nbsp; It&#8217;s not that big of deal, but it frees me to concentrate on the mapping rather than a bunch of defensive coding.&nbsp; A partial implementation of the DefaultedReader is below.</P><PRE>	public class DefaultedReader : IDataReader<br />
	{<br />
		private readonly IDataReader _innerReader;</p>
<p>		public DefaultedReader(IDataReader innerReader)<br />
		{<br />
			_innerReader = innerReader;<br />
		}</p>
<p>		public void Close()<br />
		{<br />
			_innerReader.Close();<br />
		}</p>
<p>		// Straight Delegation<br />
		public bool Read()<br />
		{<br />
			return _innerReader.Read();<br />
		}</p>
<p>		// Substitute true/false for &#8220;Y&#8221;/&#8221;N&#8221;<br />
		public bool GetBoolean(int i)<br />
		{<br />
			string booleanString = _innerReader.GetString(i);<br />
			return booleanString == &#8220;Y&#8221; ? true : false;<br />
		}</p>
<p>		public string GetString(int i)<br />
		{<br />
			return _innerReader.IsDBNull(i) ? string.Empty : _innerReader.GetString(i);<br />
		}</p>
<p>		// Wrap the call to _innerReader.GetInt32()<br />
		public int GetInt32(int i)<br />
		{<br />
			return _innerReader.IsDBNull(i) ? 0 : _innerReader.GetInt32(i);<br />
		}</p>
<p>		// Rest of the IDataReader implementation<br />
	}<br />
</PRE><br />
<P>The mechanics are pretty simple.&nbsp; The <FONT face="Courier New" color="#000000">DefaultedReader</FONT> class implements the <FONT face="Courier New">IDataReader</FONT> interface, so it can be used any place that expects an <FONT face="Courier New">IDataReader</FONT>.&nbsp; <FONT face="Courier New">DefaultedReader</FONT>&nbsp;takes an <FONT face="Courier New">IDataReader</FONT> as its only constructor argument and keeps an internal reference to the &#8220;inner&#8221; reader.&nbsp; Most methods in the <FONT face="Courier New">DefaultedReader</FONT> will just delegate to the inner reader.&nbsp; I haven&#8217;t been paying attention enough to know if the new Nullable types eliminate the need for this trick, but I just wanted to demonstrate how a construct like this could be useful.</P><br />
<P>A lot of the elegance of the decorator pattern is the ability to add extra behavior to a class without creating subclasses.&nbsp; We&#8217;ve already decided that we can&#8217;t effectively make a subclass of SqlDataReader just to do the null value resolution.&nbsp; Using a decorator in a case like this eliminates the need to create lots of&nbsp;subclass&#8217;s.&nbsp; Our DefaultedReader class will work identically when it&#8217;s decorating a SqlDataReader as it will an OracleDataReader, OleDbDataReader, or OdbcDataReader.</P><br />
<P>Here&#8217;s another example.&nbsp; In my <A href="http://structuremap.sourceforge.net/">StructureMap</A> code I have an interface called <FONT face="Courier New">IInstanceFactory</FONT> that is responsible for the assembly of a named object instance.&nbsp; The basic <FONT face="Courier New">InstanceFactory</FONT> class reads configuration and creates a new instance based on that configuration.&nbsp; Here&#8217;s part of that interface.</P><PRE>	/// <SUMMARY><br />
	/// Interface for a &#8220;Factory&#8221; pattern class that creates object instances of the PluginType<br />
	/// </SUMMARY><br />
	public interface IInstanceFactory<br />
	{<br />
		/// <SUMMARY><br />
		/// Creates an object instance for the InstanceKey<br />
		/// </SUMMARY><br />
		/// The named instance<br />
		///<br />
		object GetInstance(string InstanceKey);</p>
<p>		/// <SUMMARY><br />
		/// Creates a new object instance of the default instance memento<br />
		/// </SUMMARY><br />
		///<br />
		object GetInstance();<br />
	}<br />
</PRE><br />
<P>Sometimes you aren&#8217;t going to want a brand new instance every time.&nbsp; You may want to share the same instance for every request.&nbsp; You might want to associate an instance with the executing thread or the current <FONT face="Courier New" color="#000000">HttpContext</FONT>.&nbsp; StructureMap has a simple mechanism to modify the creation of new object instances by wrapping one or more decorators around&nbsp;an InstanceFactory.&nbsp; The calling code in StructureMap only cares about the IInstanceFactory interface, so calling into the decorator(s) is transparent to the calling code.&nbsp; So far, the only thing I&#8217;ve used this for is to create pseudo-Singleton instances.&nbsp; The entire code for the decorator class is below.</P><PRE>	/// <SUMMARY><br />
	/// The SingletonInterceptor is a GoF Decorator around an IInstanceFactory that ensures that<br />
	/// only one instance is created for a given InstanceKey as a more testable alternative to<br />
	/// the GoF Singleton pattern.<br />
	/// </SUMMARY><br />
	[Pluggable("Singleton")]<br />
	public class SingletonInterceptor : InstanceFactoryInterceptor<br />
	{<br />
		private Hashtable _instances;</p>
<p>		public SingletonInterceptor() : base()<br />
		{<br />
			_instances = new Hashtable();<br />
		}</p>
<p>		public override object GetInstance(string instanceKey)<br />
		{<br />
			ensureInstanceIsCached(instanceKey);</p>
<p>			return _instances[instanceKey];<br />
		}</p>
<p>		private void ensureInstanceIsCached(string instanceKey)<br />
		{<br />
			if (!_instances.ContainsKey(instanceKey))<br />
			{<br />
				lock (this)<br />
				{<br />
					if (!_instances.ContainsKey(instanceKey))<br />
					{</PRE><PRE>						// Delegate to teh inner InstanceFactory to construct a new instance<br />
						object instance = this.InnerInstanceFactory.GetInstance(instanceKey);<br />
						_instances.Add(instanceKey, instance);<br />
					}<br />
				}<br />
			}<br />
		}</p>
<p>		public override object GetInstance()<br />
		{<br />
			return this.GetInstance(this.DefaultInstanceKey);<br />
		}<br />
	}<br />
</PRE><br />
<P>Most of the work is still delegated to the inner IInstanceFactory.&nbsp; Some of the other possibilities would be adding caching or object pooling, providing an opportunity to attach a decorator to the new instance, or substituting a mock object or a stub during testing (this has turned out to be pretty effective in some cases).</P><br />
<P><STRONG>Examples in the .Net Framework</STRONG></P><br />
<P>One of the reasons I think design patterns are important is that they occur in other people&#8217;s code we inherit and use.&nbsp; Recognizing the patterns in someone else&#8217;s code can help you understand that code.&nbsp; Here&#8217;s a handful of examples from the </P><br />
<UL><br />
<LI>Chaining IHttpModule classes in an ASP.NET application is an example of a decorator.&nbsp; Each IHttpModule in the interception chain adds behavior before it delegates to it&#8217;s inner IHttpModule.&nbsp; Microsoft refers to this specific usage or a decorator&nbsp;as an <A href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnpatterns/html/DesInterceptingFilter.asp">Intercepting Filter</A>.<br />
<LI>The XmlValidatingReader class adds schema validation to any type of XmlReader.&nbsp; Clients that depend on the XmlReader type never know the difference.<br />
<LI>The System.IO.BufferedStream decorates any other kind of Stream to add buffering.&nbsp; By using a decorator pattern, the .Net team didn&#8217;t need to create specific subclasses for &#8220;BufferedFileStream&#8221; or &#8220;BufferedMemoryStream.&#8221;&nbsp; There is another Stream class that decorates other streams to provide transparent encryption.</LI></UL><br />
<P><STRONG>Wrapping Up</STRONG></P><br />
<P>The decorator pattern can help decompose optional or extra behavior into a separate class.&nbsp; Any chance you get to eliminate structured logic &#8220;if/then&#8221; constructs is a chance to improve the readability and maintainability&nbsp;of the code.&nbsp; The decorator also gives you a&nbsp;relatively low risk way to extend a system with new behavior like security, caching, or extra instrumentation&nbsp;at configuration time&nbsp;via the <A href="http://www.objectmentor.com/resources/articles/ocp.pdf">Open/Closed Principle</A>.</P><br />
<P>If this was useful, or I could have done something better to explain the pattern, let me know.&nbsp; I&#8217;ll try to do a couple more of these posts&nbsp;over the next month.</P></p>
<div class="shr-publisher-68"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/db65c5c5cf9f1c51e842f733892eace1?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Jeremy Miller</h2>
							Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.							<div id="author-link">
								<a href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">View all posts by Jeremy Miller &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/jeremymiller/category/design-patterns/" title="View all posts in Design Patterns" rel="category tag">Design Patterns</a>. Bookmark the <a href="http://codebetter.com/jeremymiller/2005/09/02/dynamic-behavior-with-the-decorator-pattern/" title="Permalink to Dynamic Behavior with the Decorator Pattern" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/jeremymiller/2005/09/02/dynamic-behavior-with-the-decorator-pattern/feed/" title="Comments RSS to Dynamic Behavior with the Decorator Pattern" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-68 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/jeremymiller/2005/09/01/having-com-flashbacks-the-horror-the-horror/" rel="prev"><span class="meta-nav">&larr;</span> Having COM flashbacks &#8212; The horror, the horror!</a></div>
					<div class="nav-next"><a href="http://codebetter.com/jeremymiller/2005/09/05/why-im-looking-forward-to-this-fall-off-topic/" rel="next">Why I&#8217;m looking forward to this Fall (Off Topic) <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-201">
                    <div id="dsq-comment-header-201" class="dsq-comment-header">
                        <cite id="dsq-cite-201">
                                <span id="dsq-author-user-201">Clint</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-201" class="dsq-comment-body">
                        <div id="dsq-comment-message-201" class="dsq-comment-message"><p>Woah, I&#8217;m doing datareader code like that right now, almost identical to yours. I&#8217;ve been reading Head First Design Patterns and Holub on Patterns this week. Today I was just looking at Decorator and was thinking that man, there must be somewhere that I can use this. I didn&#8217;t even think of it this way though. Great idea. Thanks.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-202">
                    <div id="dsq-comment-header-202" class="dsq-comment-header">
                        <cite id="dsq-cite-202">
                                <span id="dsq-author-user-202">Michael</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-202" class="dsq-comment-body">
                        <div id="dsq-comment-message-202" class="dsq-comment-message"><p>Clint spawned a thought in my head regarding usage of patterns, specifically in reference to &#8220;Today I was just looking at Decorator and was thinking that man, there must be somewhere that I can use this.&#8221;  I do that as well, and I think it&#8217;s the wrong way to approach the study of patterns.</p>
<p>When you first obtain a license to carry a concealed weapon, you don&#8217;t run out an try to find a target amongst your neighbors.  It becomes an option that&#8217;s available to you should a situation occur that justifies it&#8217;s usage (perhaps that sounds a little callous, but it&#8217;s just an example).</p>
<p>A similar thing happens with patters.  The point is to understand and internalize the advantages and disadvantages of each pattern, along with where they came from and how they interact, so that when you&#8217;re trying to pull data from an IDataReader, you immediately recognize the usefullness of Decorator.</p>
<p>I just took Clint&#8217;s quote as an example, and meant no offense to anyone.  I just wanted to mention that you shouldn&#8217;t just try to use patterns straight out of the books, but instead try to internalize them.  Usage will naturally follow as you work with your designs and write code.</p>
<p>And read posts like this <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' />   I always see references to Streams when reading about Decorator, and it leads to a limited understanding.  You&#8217;ve given us concrete examples from a wider array of uses, and that helps tremendously.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-203">
                    <div id="dsq-comment-header-203" class="dsq-comment-header">
                        <cite id="dsq-cite-203">
                                <span id="dsq-author-user-203">jmiller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-203" class="dsq-comment-body">
                        <div id="dsq-comment-message-203" class="dsq-comment-message"><p>I&#8217;m going to have to remember the &#8220;concealed weapon&#8221; analogy.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-204">
                    <div id="dsq-comment-header-204" class="dsq-comment-header">
                        <cite id="dsq-cite-204">
                                <span id="dsq-author-user-204">Clint</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-204" class="dsq-comment-body">
                        <div id="dsq-comment-message-204" class="dsq-comment-message"><p>I get what you are saying Michael. For me, actually implementing the pattern helps me understand it better so often I try to force myself to use it somewhere so I don&#8217;t &#8220;forget it&#8221;. It is easy to see an example in a book and think I understand it. Then I get a chance to implement it and then I really understand it and what I &#8220;thought&#8221; I knew before wasn&#8217;t quite right. Not the best strategy but when you&#8217;re in college and the projects are usually small it is hard to use patterns.</p>
<p>Most of the references I have seen also mention IO streams from Java and .Net. The Head First Design Patterns book shows a nice non streaming use of Decorator though. For some patterns I&#8217;ve found that I&#8217;ve already used them without knowing they were a pattern. Some of them just naturally happen with good OO design.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-205">
                    <div id="dsq-comment-header-205" class="dsq-comment-header">
                        <cite id="dsq-cite-205">
                                <span id="dsq-author-user-205">Michael</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-205" class="dsq-comment-body">
                        <div id="dsq-comment-message-205" class="dsq-comment-message"><p>Clint, an excellent point.  While I think we should strive toward the &#8220;interalize it&#8221; mentality in production code, there&#8217;s the question of how to actually do so.  For me, like you, it means writing code with the pattern, which in turn means finding a use for the pattern.  So while it&#8217;s not good to try to force fit a laundry list of patterns into a design, there&#8217;s still a time and place for trying to do so, and the initial learning process is definitely among them.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-206">
                    <div id="dsq-comment-header-206" class="dsq-comment-header">
                        <cite id="dsq-cite-206">
    http://flimflan.com/blog                            <span id="dsq-author-user-206">Joshua Flanagan</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-206" class="dsq-comment-body">
                        <div id="dsq-comment-message-206" class="dsq-comment-message"><p>The IDataReader example of Decorator is a good one, I&#8217;ll have to remember that.</p>
<p>I don&#8217;t agree with the IHttpModule example, however.  IHttpModules do not wrap other IHttpModules.  It is just a defined interface (Init and Disopse) the runtime uses so that the modules can register/unregister themselves to application events. If I create a new module, it is not called by other modules, and does not call other modules.  </p>
<p>The implementation seems closer to the Observer pattern to me.</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/jeremymiller/2005/09/02/dynamic-behavior-with-the-decorator-pattern/';
    var disqus_identifier = '68 /blogs/jeremy.miller/archive/2005/09/02/131613.aspx';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'theshadetreedeveloper';
    var disqus_title = "Dynamic Behavior with the Decorator Pattern";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=68');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/codebetter.com\/jeremymiller\/2005\/09\/02\/dynamic-behavior-with-the-decorator-pattern\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">The Shade Tree Developer</h3>Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.
</li><li id="text-3" class="widget-container widget_text"><h3 class="widget-title">Upcoming posts&#8230;</h3>			<div class="textwidget"><p>How I'm using StoryTeller to test FubuMVC<br />
Building a "Lookup" html convention w/ FubuMVC<br />
FubuMVC's Configuration Model "Special Sauce"<br />
Managing Script dependencies with FubuMVC<br />
Authorization and FubuMVC<br />
Continuations<br />
Composing Views with FubuMVC<br />
Extensible Model Binding with FubuMVC<br />
Introducing "Bottles"<br />
Modular Packaging with FubuMVC<br />
Self-Installing Apps w/ FubuMVC<br />
Routing and Behavioral Conventions with FubuMVC<br />
What Should I Learn?</p>
</div>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://twitter.com/jeremydmiller">Follow me on Twitter</a></li>
<li><a href="https://github.com/DarthFubuMVC/fubumvc" target="_blank">FubuMVC on GitHub</a></li>
<li><a href="https://github.com/jeremydmiller">My GitHub Page</a></li>
<li><a href="https://github.com/storyteller/storyteller">StoryTeller on GitHub</a></li>
<li><a href="https://github.com/structuremap/structuremap">StructureMap on GitHub</a></li>

	</ul>
</li>
		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
					<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/jeremymiller/2012/01/' title='January 2012'>January 2012</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/09/' title='September 2011'>September 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/07/' title='July 2011'>July 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/06/' title='June 2011'>June 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/05/' title='May 2011'>May 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/04/' title='April 2011'>April 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/03/' title='March 2011'>March 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/08/' title='August 2010'>August 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/07/' title='July 2010'>July 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/06/' title='June 2010'>June 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/05/' title='May 2010'>May 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/03/' title='March 2010'>March 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/02/' title='February 2010'>February 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/01/' title='January 2010'>January 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/06/' title='June 2009'>June 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/09/' title='September 2008'>September 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/08/' title='August 2008'>August 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/07/' title='July 2008'>July 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/06/' title='June 2008'>June 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/05/' title='May 2008'>May 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/04/' title='April 2008'>April 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/03/' title='March 2008'>March 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/02/' title='February 2008'>February 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/01/' title='January 2008'>January 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/12/' title='December 2007'>December 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/11/' title='November 2007'>November 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/10/' title='October 2007'>October 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/09/' title='September 2007'>September 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/08/' title='August 2007'>August 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/07/' title='July 2007'>July 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/06/' title='June 2007'>June 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/05/' title='May 2007'>May 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/04/' title='April 2007'>April 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/03/' title='March 2007'>March 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/02/' title='February 2007'>February 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/01/' title='January 2007'>January 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/12/' title='December 2006'>December 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/11/' title='November 2006'>November 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/10/' title='October 2006'>October 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/09/' title='September 2006'>September 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/08/' title='August 2006'>August 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/07/' title='July 2006'>July 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/06/' title='June 2006'>June 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/05/' title='May 2006'>May 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/04/' title='April 2006'>April 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/03/' title='March 2006'>March 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/02/' title='February 2006'>February 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/01/' title='January 2006'>January 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/12/' title='December 2005'>December 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/11/' title='November 2005'>November 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/10/' title='October 2005'>October 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/09/' title='September 2005'>September 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/08/' title='August 2005'>August 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/07/' title='July 2005'>July 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/06/' title='June 2005'>June 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/05/' title='May 2005'>May 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/04/' title='April 2005'>April 2005</a></li>
		</ul>
</li><li id="recent-comments-3" class="widget-container widget_recent_comments"><h3 class="widget-title">What others have said&#8230;</h3><ul id="recentcomments"><li class="recentcomments"><a href='http://zacherygaines.webstarts.com/' rel='external nofollow' class='url'>KadeemFulton</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7523">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments"><a href='http://jonsonbettly.wordpress.com/' rel='external nofollow' class='url'>ScottWorkman</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7517">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments">haihao on <a href="http://codebetter.com/jeremymiller/2008/10/18/profile-s-in-structuremap/#comment-7513">Profile’s in StructureMap</a></li><li class="recentcomments">neon on <a href="http://codebetter.com/jeremymiller/2008/09/10/using-the-structuremap-container-independently-of-objectfactory/#comment-7512">Using the StructureMap Container independently of ObjectFactory</a></li><li class="recentcomments">weaponfan on <a href="http://codebetter.com/jeremymiller/2008/09/25/using-structuremap-2-5-to-inject-your-entity-objects-into-services/#comment-7511">Using StructureMap 2.5 to inject your Entity objects into Services</a></li></ul></li>				</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.467 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 17:42:56 -->
<!-- super cache -->