<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Create a Testing DSL with FitNesse and Selenium (Part 2) | Jeremy D. Miller</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/jeremymiller/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/jeremymiller/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/jeremymiller/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/jeremymiller/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/jeremymiller/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Jeremy D. Miller' href='http://codebetter.com/jeremymiller/' />
<link rel='start' title='Bypass VSTS and get yourself a &quot;Poor Man&#8217;s IntelliJ&quot;' href='http://codebetter.com/jeremymiller/2005/04/12/bypass-vsts-and-get-yourself-a-poor-mans-intellij/' />
<link rel='prev' title='Create a Testing DSL with FitNesse and Selenium (Part 1)' href='http://codebetter.com/jeremymiller/2006/07/15/create-a-testing-dsl-with-fitnesse-and-selenium-part-1/' />
<link rel='next' title='Do you really need a CS degree to be a developer?' href='http://codebetter.com/jeremymiller/2006/07/19/do-you-really-need-a-cs-degree-to-be-a-developer/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/jeremymiller/2006/07/18/create-a-testing-dsl-with-fitnesse-and-selenium-part-2/' />
<link rel='shortlink' href='http://codebetter.com/jeremymiller/?p=192' />
<link rel="stylesheet" href="http://codebetter.com/jeremymiller/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><link rel="stylesheet" href="http://disqus.com/stylesheets/theshadetreedeveloper/disqus.css?v=2.0" type="text/css" media="screen" />	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/jeremymiller/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-192" class="post-192 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Create a Testing DSL with FitNesse and Selenium (Part 2)</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">Jeremy Miller</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/jeremymiller/2006/07/18/create-a-testing-dsl-with-fitnesse-and-selenium-part-2/" title="1:47 pm" rel="bookmark"><span class="entry-date">July 18, 2006</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/jeremymiller/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/jeremymiller/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/jeremymiller/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p><P><A HREF="/blogs/jeremy.miller/archive/2006/07/15/147400.aspx">In my previous post</A>, in the context of some large scale automated tests for our new &#8220;Bundle&#8221; processing subsystem, I introduced my best friend in the whole wide world of test automation, the FitNesse DoFixture.&nbsp; So far I&#8217;m pretty pleased with Selenium web testing from within FitNesse tests because it keeps all of our acceptance tests together in one place, simplifying our continuous integration scripts and reporting.&nbsp; I also think that the FitNesse wrapper gives us a lot more flexibility in the grammars we can use to model and execute the system than Selenium alone.&nbsp; The main reasons I like running Selenium from within FitNesse is the ability to create self-contained tests that setup their own data before the web page interaction and the ability to check the state of the system after the web page interaction.&nbsp; The key to effective integration testing is easy to use mechanisms for setting up the application state and verifying the application state.&nbsp; This post is a grab bag of the FitNesse idioms we use to set up inputs and check outputs.</P><br />
<H4>Getting Data Into Your System</H4><br />
<P>For pushing data into the system we primarily use subclasses of the <A href="http://fitnesse.org/FitNesse.ColumnFixture">ColumnFixture</A>.&nbsp; Setting up data isn&#8217;t its stated purpose, but it&#8217;s very handy for this nonetheless.&nbsp; Here&#8217;s an example of a ColumnFixture test table.</P><PRE>	!|SomeColumnFixture|<br />
	| IncomeTaxRate | YearlyIncome | Deductions | OwedTaxes() |<br />
	| .10           | 100000       | 10000      | 9000        |<br />
	| .5            | 100000       | 0          | 5000        |<br />
</PRE><br />
<P>The code for the SomeColumnFixture might look something like this:</P><br />
<DIV><br />
<P>&nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>class</SPAN> SomeColumnFixture : ColumnFixture</P><br />
<P>&nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>private</SPAN> <SPAN>decimal</SPAN> _incomeTaxRate;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>private</SPAN> <SPAN>decimal</SPAN> _yearlyIncome;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>private</SPAN> <SPAN>decimal</SPAN> _deductions = 0;</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> SomeColumnFixture()</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>decimal</SPAN> IncomeTaxRate</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>set</SPAN> { _incomeTaxRate = <SPAN>value</SPAN>; }</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>decimal</SPAN> YearlyIncome</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>set</SPAN> { _yearlyIncome = <SPAN>value</SPAN>; }</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>decimal</SPAN> Deductions</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>set</SPAN> { _deductions = <SPAN>value</SPAN>; }</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>decimal</SPAN> OwedTaxes()</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>// Simply take the values previously set in the instance fields</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>// and return the result from the System Under Test (TaxCalculator)</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>return</SPAN> TaxCalculator.CalculateTaxTotal(_incomeTaxRate, _yearlyIncome, _deductions);</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P></DIV><br />
<P>When a ColumnFixture starts, it first scans the header row. A header without parentheses directs ColumnFixture to call a {set;} property on the ColumnFixture class when that cell is processed. A header with parentheses directs the ColumnFixture to call a method and compare the results with the contents of that cell.&nbsp; It&#8217;s effectively the same thing as calling <FONT face="Courier New">Assert.AreEquals(expected, actual)</FONT> in NUnit.&nbsp; In the example above, as <FONT face="Courier New">SomeColumnFixture</FONT> parses the first body row of the test table, it will these calls on itself with reflection:</P><br />
<OL><br />
<LI>IncomeTaxRate = .10</LI><br />
<LI>YearlyIncome = 100000</LI><br />
<LI>Deductions = 10000</LI><br />
<LI>Grabs the return value from OwedTaxes()</LI></OL><br />
<P>So that&#8217;s the basic mechanism of a ColumnFixture.&nbsp; Before I jump into using the ColumnFixture to load data, there&#8217;s a couple of virtual &#8220;hook&#8221; methods in the ColumnFixture abstract class that you need to be aware of:</P><br />
<DIV><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>virtual</SPAN> <SPAN>void</SPAN> Reset() {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>// about to process first cell of row</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>virtual</SPAN> <SPAN>void</SPAN> Execute() {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>// about to process first method call of row</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P></DIV><br />
<P>Now, onto loading data.&nbsp; We roughly use a ColumnFixture per domain model class or database table.&nbsp; The code below is a slightly obfuscated version of the Fixture we use to load users into the system during the SetUp of a FitNesse test.&nbsp; We have several user interface tests where we need to filter the User table for dropdown lists or security checks.&nbsp; With the UserDefinitionFixture our tester can quickly setup the system with a known set of users with the desired characteristics and preferences.&nbsp;&nbsp; </P><br />
<DIV><br />
<P>&nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>class</SPAN> UserDefinitionFixture : ColumnFixture</P><br />
<P>&nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>// </SPAN><SPAN>IDomainSource is a Repository class that wraps access to NHibernate</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>private</SPAN> <SPAN>readonly</SPAN> IDomainSource _source;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>private</SPAN> User _user;</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> UserDefinitionFixture(IDomainSource source)</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; SessionSource.Reset();</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _source = source;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>override</SPAN> <SPAN>void</SPAN> Reset()</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>// Create a new User object and set some basic defaults</SPAN></P><br />
<P><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // My boss &amp; I are both fans of Roger Zelazny&#8217;s Amber books</SPAN></P><br />
<P><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>// if you are wondering where the weird names come from</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user = <SPAN>new</SPAN> User();</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.Address1 = &#8220;Kolvir Street&#8221;;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.Address2 = &#8220;Suite 100&#8243;;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.FirstName = &#8220;Jeremy (Prince)&#8221;;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.LastName = &#8220;Miller&#8221;;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.City= &#8220;Amber&#8221;;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.StateCode = &#8220;TX&#8221;;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.PostalCode = &#8220;77777&#8243;;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.Phone = &#8220;123-456-7890&#8243;;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.Email = &#8220;Corwin@amber.com&#8221;;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.Fax = &#8220;Tarot 9675&#8243;;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.CountryCode = &#8220;US&#8221;;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.Status = &#8220;AUTH&#8221;;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.SerialNumber = Guid.NewGuid().ToString();</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <SPAN>// </SPAN><SPAN>1. Delete any existing User&#8217;s with the same Id</SPAN></P><br />
<P><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 2. Persist the new User object with NHibernate</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>override</SPAN> <SPAN>void</SPAN> Execute()</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>string</SPAN> sql = <SPAN>string</SPAN>.Format(&#8220;delete from users where id = &#8216;{0}&#8217;&#8221;, _user.Id);</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; IDataSession session = (IDataSession) ObjectFactory.GetInstance(<SPAN>typeof</SPAN> (IDataSession));</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; session.ExecuteSql(sql);</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _source.Save(_user);</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>string</SPAN> Id</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>set</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.Id = <SPAN>value</SPAN>;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>string</SPAN> FirstName</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>set</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.FirstName = <SPAN>value</SPAN>;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>string</SPAN> LastName</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>set</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.LastName = <SPAN>value</SPAN>;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>string</SPAN> CompanyId</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>set</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; FindByKeyQuery query = <SPAN>new</SPAN> FindByKeyQuery(<SPAN>typeof</SPAN> (Company), <SPAN>value</SPAN>);</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; IList list = _source.Query(query);</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Company company = (Company) list[0];</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.Company = company;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>string</SPAN> City</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>set</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.City = <SPAN>value</SPAN>;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>string</SPAN> StateCode</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>set</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _user.StateCode = <SPAN>value</SPAN>;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P></DIV><br />
<P>Here&#8217;s a test table for that fixture that will create three new users.</P><PRE>	!|UserDefinitionFixture|<br />
	|Id        |CompanyId     |<br />
	|User1     |C0001         |<br />
	|User2     |C0002         |<br />
	|User3     |C0003         |<br />
</PRE><br />
<P>So what&#8217;s going on here?&nbsp; Everytime this fixture hits a new row it creates a new user object with a set of default values.&nbsp; When it parses the Id column it assigns a user id.&nbsp; When it parses the CompanyId column it looks up a previously configured Company object and makes that the parent of the new User object.&nbsp; At the end of the row the UserDefinitionFixture will call its Execute() method that will first delete any existing User row in the database with that id and then call IDomainSource (NHibernate wrapper) to persist the new User object.&nbsp; You&#8217;ll notice that my test table didn&#8217;t include the state or city columns.&nbsp; It&#8217;s a good thing to define default values so your tester does not have to specify a lot of &#8220;noise&#8221; data.&nbsp; Our User table has a couple of properties that control access to certain features in the application.&nbsp; When we&#8217;re testing that subsystem we use a UserDefinitionFixture table with only the pertinent columns.</P><br />
<P>You can adapt this strategy quite easily to simple &#8220;Insert&#8221; database statements.&nbsp; In this case the setter properties just put data into a parameter of the sql command.&nbsp; You just execute the sql statement in the Execute() method.</P><br />
<H4>Dealing with Surrogate Keys</H4><br />
<P>There&#8217;s a little <A href="http://www.martinfowler.com/bliki/EnterpriseRails.html">bit of fuss</A> right now in the Ruby on Rails world about whether or not RoR&#8217;s ActiveRecord subsystem needs to be adapted to work with composite database keys*.&nbsp; There&#8217;s a definite bias in favor of surrogate keys that I&#8217;ve come to agree with.&nbsp; It&#8217;s great for persistence, but it does make some automated testing of long running workflows more difficult.&nbsp; The surrogate key is usually defined by the database itself the first time an object is persisted. In other words, we don&#8217;t know the value of the new id at the time we write the tests.<SPAN>&nbsp; We&#8217;ve adopted a practice of identifying domain objects in FitNesse tests by a testing alias.&nbsp; In our new Bundle subsystem we simply put a hashtable on a commonly used fixture to store a mapping of the testing alias to the sequential bundle id.</SPAN></P><br />
<DIV><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>private</SPAN> <SPAN>static</SPAN> Hashtable _bundleIdHash = <SPAN>new</SPAN> Hashtable();</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>static</SPAN> <SPAN>long</SPAN> GetBundleId(<SPAN>string</SPAN> bundleName)</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>return</SPAN> (<SPAN>long</SPAN>) _bundleIdHash[bundleName];</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>static</SPAN> <SPAN>void</SPAN> StoreBundleId(<SPAN>string</SPAN> bundleName, <SPAN>long</SPAN> controlId)</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _bundleIdHash.Add(bundleName, controlId);</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P></DIV><br />
<P>When we define a new Bundle we simply give it an alias and never refer to the bundle id.</P><PRE>	!|BundleDefinitionFixture|<br />
	|BundleName        | Communication Type |<br />
	|TestBundle1       | Fax                |<br />
	|TestBundle2       | Email              |</p>
<p>	In later fixtures we can refer to the named bundle</p>
<p>	!|BundleServiceFixture|<br />
	|Check Bundle State for | TestBundle1 |<br />
	| Status()      |<br />
	| Approved      |<br />
</PRE><br />
<H4>&nbsp;</H4><br />
<H4>Checking the State of the System &#8211; ColumnFixture</H4><br />
<P>In the last post I showed how to use DoFixture grammars to check the state of a single value in the system.&nbsp; That&#8217;s really not adequate for the majority of cases.&nbsp; In our new Bundle subsystem we have some processes that can change several properties of a single Bundle object.&nbsp; I like to use a ColumnFixture to declaratively state the expected state of a Bundle object.&nbsp; We use a fixture called BundleVerificationFixture to verify the expected state of a Bundle.&nbsp; One of the very cool things about a DoFixture is that it allows you to nest other Fixtures within the DoFixture.&nbsp; In this case we have a grammar on our DoFixture that will start and return a BundleVerificationFixture to verify the state of a given Bundle.</P><br />
<DIV><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> Fixture BundleState(<SPAN>string</SPAN> bundleName)</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; SessionSource.Reset();</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>// The findNamedBundle first finds the surrogate id</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>// value for the test alias &#8220;bundleName,&#8221;</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>// then retrieves the Bundle object from NHibernate</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Bundle bundle = findNamedBundle(bundleName);</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>return</SPAN> <SPAN>new</SPAN> BundleVerificationFixture(bundle);</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P></DIV><br />
<P>The BundleVerificationFixture itself is very simple. All we have to do is make a method (and yes, it has to be a method not a getter) for each property of the Bundle object that we want to verify.</P><br />
<DIV><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>string</SPAN> Status()</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>return</SPAN> _bundle.Status.ToString();</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>string</SPAN> CommunicationType()</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>return</SPAN> _bundle.CommunicationType.ToString();</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P></DIV><br />
<P>The table usage is:</P><PRE>	!|BundleServiceFixture|<br />
	|Bundle State | TestBundle1 |<br />
	|Status()     | CommunicationType()   |<br />
	|Approved     | Fax                   |<br />
</PRE><br />
<H4>Checking the State of the System &#8211; RowFixture</H4><br />
<P>There&#8217;s always a one to many or a many to many relationship lurking somewhere in almost any enterprise application.&nbsp; FitNesse provides a really slick mechanism for verifying a set of data, the <A href="http://www.butunclebob.com/FitNesse.RowFixture">RowFixture</A>.&nbsp; To implement a RowFixture, you simply need to subclass RowFixture and override two methods.&nbsp; The rest is reflection magic (notice the trend here in FitNesse world?).</P><br />
<DIV><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>abstract</SPAN> <SPAN>object</SPAN>[] Query(); <SPAN>// get rows to be compared</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>abstract</SPAN> Type GetTargetClass(); <SPAN>// get expected type of row</SPAN></P></DIV><!--EndFragment--><br />
<P>The challenging part is the <FONT face="Courier New">Query()</FONT> method.&nbsp; Where does the data come from?&nbsp; Typically this data is produced by some action that has taken place in the test before the RowFixture runs. In the dark, dark days before the DoFixture we would pass a lot of data around in static members from fixture to fixture. With the DoFixture, we generally wrap the querying into a DoFixture grammar.&nbsp; </P><br />
<P>Here&#8217;s an example from a previous life.&nbsp; You&#8217;re building a scheduling engine to determine the build order of factory orders.&nbsp; One of the outputs of the engine is a listing of what parts are needed, in what quantity, at a factory line at the beginning of a shift.&nbsp; First we can build a very quick RowFixture to check an array of OrderDetail objects. </P><br />
<DIV><br />
<P>&nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>class</SPAN> OrderDetail</P><br />
<P>&nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>private</SPAN> <SPAN>string</SPAN> _partNumber;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>private</SPAN> <SPAN>long</SPAN> _quantity;</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>string</SPAN> PartNumber</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>get</SPAN> { <SPAN>return</SPAN> _partNumber; }</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>set</SPAN> { _partNumber = <SPAN>value</SPAN>; }</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>long</SPAN> Quantity</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>get</SPAN> { <SPAN>return</SPAN> _quantity; }</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>set</SPAN> { _quantity = <SPAN>value</SPAN>; }</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>class</SPAN> OrderDetailFixture : RowFixture</P><br />
<P>&nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>private</SPAN> <SPAN>readonly</SPAN> OrderDetail[] _details;</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> OrderDetailFixture(OrderDetail[] details)</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; _details = details;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>override</SPAN> <SPAN>object</SPAN>[] Query()</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>return</SPAN> _details;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>// How do you like the Java-ism in the port?</SPAN></P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>override</SPAN> Type GetTargetClass()</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>return</SPAN> <SPAN>typeof</SPAN> (OrderDetail);</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;&nbsp;&nbsp; }</P></DIV><!--EndFragment--><br />
<P>The OrderDetailFixture needs something else to push its data to it.&nbsp; That would be our <FONT face="Courier New">SchedulingEngineFixture</FONT>.</P><br />
<DIV><br />
<P>&nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> <SPAN>class</SPAN> SchedulingEngineFixture : DoFixture</P><br />
<P>&nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>public</SPAN> Fixture TheOrderDetailsForLineDuringShiftAre(<SPAN>string</SPAN> lineNumber, <SPAN>int</SPAN> shiftNumber)</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; OrderDetail[] details = findOrderDetails(lineNumber, shiftNumber);</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <SPAN>return</SPAN> <SPAN>new</SPAN> OrderDetailFixture(details);</P><br />
<P>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</P><br />
<P>&nbsp;&nbsp;&nbsp; }</P></DIV><!--EndFragment--><br />
<P>A sample test table would look like this:</P><PRE>	!|SchedulingEngineFixture|<br />
	|The Order Details For Line | Line1 | During Shift | 2 | Are |<br />
	| PartNumber | Quantity |<br />
	| 10X34      | 120      |<br />
	| 2TUER      | 35       |<br />
</PRE><br />
<P>The RowFixture allows you to declaratively state the expectation of a set.&nbsp; When it&#8217;s executed, the RowFixture will add unexpected values to the table as a test failure and show you the values that weren&#8217;t present in the actual set.&nbsp; The RowFixture really becomes powerful when it&#8217;s wrapped in a DoFixture to provide query parameters.</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;</P><br />
<H4><SPAN>* This isn&#8217;t just a limitation of ActiveRecord, we&#8217;ve had some difficulties with NHibernate and composite keys.&nbsp; My opinion on that issue is to just go and add a new surrogate key column on the end of legacy tables and make it a unique constraint.&nbsp; You can leave the composite primary key alone, but I&#8217;d guess that every O/R mapping tool works better against a single key anyway.&nbsp; </SPAN></H4></p>
											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/db65c5c5cf9f1c51e842f733892eace1?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Jeremy Miller</h2>
							Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.							<div id="author-link">
								<a href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">View all posts by Jeremy Miller &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/jeremymiller/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/jeremymiller/2006/07/18/create-a-testing-dsl-with-fitnesse-and-selenium-part-2/" title="Permalink to Create a Testing DSL with FitNesse and Selenium (Part 2)" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/jeremymiller/2006/07/18/create-a-testing-dsl-with-fitnesse-and-selenium-part-2/feed/" title="Comments RSS to Create a Testing DSL with FitNesse and Selenium (Part 2)" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-192 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/jeremymiller/2006/07/15/create-a-testing-dsl-with-fitnesse-and-selenium-part-1/" rel="prev"><span class="meta-nav">&larr;</span> Create a Testing DSL with FitNesse and Selenium (Part 1)</a></div>
					<div class="nav-next"><a href="http://codebetter.com/jeremymiller/2006/07/19/do-you-really-need-a-cs-degree-to-be-a-developer/" rel="next">Do you really need a CS degree to be a developer? <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
					<div id="dsq-content">
			<ul id="dsq-comments">
				</ul>
		</div>
	</div>

<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript">
/* <![CDATA[ */
	var disqus_url = 'http://codebetter.com/jeremymiller/2006/07/18/create-a-testing-dsl-with-fitnesse-and-selenium-part-2/ ';
	var disqus_identifier = '192 /blogs/jeremy.miller/archive/2006/07/18/147465.aspx';
	var disqus_container_id = 'disqus_thread';
	var disqus_domain = 'disqus.com';
	var disqus_shortname = 'theshadetreedeveloper';
	var disqus_title = "Create a Testing DSL with FitNesse and Selenium (Part 2)";
		var disqus_config = function () {
	    var config = this; // Access to the config object

	    /* 
	       All currently supported events:
	        * preData â€” fires just before we request for initial data
	        * preInit - fires after we get initial data but before we load any dependencies
	        * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
	        * afterRender - fires when template is rendered but before we show it
	        * onReady - everything is done
	     */

		config.callbacks.preData.push(function() {
			// clear out the container (its filled for SEO/legacy purposes)
			document.getElementById(disqus_container_id).innerHTML = '';
		});
				config.callbacks.onReady.push(function() {
			// sync comments in the background so we don't block the page
			DISQUS.request.get('?cf_action=sync_comments&post_id=192');
		});
					};
	var facebookXdReceiverPath = 'http://codebetter.com/jeremymiller/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
	var DsqLocal = {
		'trackbacks': [
		],
		'trackback_url': "http:\/\/codebetter.com\/jeremymiller\/2006\/07\/18\/create-a-testing-dsl-with-fitnesse-and-selenium-part-2\/trackback\/"	};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript';
	dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.61';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">The Shade Tree Developer</h3>Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.
</li><li id="text-3" class="widget-container widget_text"><h3 class="widget-title">Upcoming posts&#8230;</h3>			<div class="textwidget"><p>How I'm using StoryTeller to test FubuMVC<br />
Building a "Lookup" html convention w/ FubuMVC<br />
FubuMVC's Configuration Model "Special Sauce"<br />
Managing Script dependencies with FubuMVC<br />
Authorization and FubuMVC<br />
Continuations<br />
Composing Views with FubuMVC<br />
Extensible Model Binding with FubuMVC<br />
Introducing "Bottles"<br />
Modular Packaging with FubuMVC<br />
Self-Installing Apps w/ FubuMVC<br />
Routing and Behavioral Conventions with FubuMVC<br />
What Should I Learn?</p>
</div>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://twitter.com/jeremydmiller">Follow me on Twitter</a></li>
<li><a href="https://github.com/DarthFubuMVC/fubumvc" target="_blank">FubuMVC on GitHub</a></li>
<li><a href="https://github.com/jeremydmiller">My GitHub Page</a></li>
<li><a href="https://github.com/storyteller/storyteller">StoryTeller on GitHub</a></li>
<li><a href="https://github.com/structuremap/structuremap">StructureMap on GitHub</a></li>

	</ul>
</li>
		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
					<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/jeremymiller/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/08/' title='August 2010'>August 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/07/' title='July 2010'>July 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/06/' title='June 2010'>June 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/05/' title='May 2010'>May 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/03/' title='March 2010'>March 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/02/' title='February 2010'>February 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/01/' title='January 2010'>January 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/06/' title='June 2009'>June 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/09/' title='September 2008'>September 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/08/' title='August 2008'>August 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/07/' title='July 2008'>July 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/06/' title='June 2008'>June 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/05/' title='May 2008'>May 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/04/' title='April 2008'>April 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/03/' title='March 2008'>March 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/02/' title='February 2008'>February 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/01/' title='January 2008'>January 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/12/' title='December 2007'>December 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/11/' title='November 2007'>November 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/10/' title='October 2007'>October 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/09/' title='September 2007'>September 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/08/' title='August 2007'>August 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/07/' title='July 2007'>July 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/06/' title='June 2007'>June 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/05/' title='May 2007'>May 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/04/' title='April 2007'>April 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/03/' title='March 2007'>March 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/02/' title='February 2007'>February 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/01/' title='January 2007'>January 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/12/' title='December 2006'>December 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/11/' title='November 2006'>November 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/10/' title='October 2006'>October 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/09/' title='September 2006'>September 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/08/' title='August 2006'>August 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/07/' title='July 2006'>July 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/06/' title='June 2006'>June 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/05/' title='May 2006'>May 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/04/' title='April 2006'>April 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/03/' title='March 2006'>March 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/02/' title='February 2006'>February 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/01/' title='January 2006'>January 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/12/' title='December 2005'>December 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/11/' title='November 2005'>November 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/10/' title='October 2005'>October 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/09/' title='September 2005'>September 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/08/' title='August 2005'>August 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/07/' title='July 2005'>July 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/06/' title='June 2005'>June 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/05/' title='May 2005'>May 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/04/' title='April 2005'>April 2005</a></li>
		</ul>
</li><li id="recent-comments-3" class="widget-container widget_recent_comments"><h3 class="widget-title">What others have said&#8230;</h3><ul id="recentcomments"><li class="recentcomments"><a href='http://weblogs.asp.net/thangchung' rel='external nofollow' class='url'>thangchung</a> on <a href="http://codebetter.com/jeremymiller/2009/01/16/quot-buildup-quot-existing-objects-with-structuremap/#comment-6764">&quot;BuildUp&quot; Existing Objects with StructureMap</a></li><li class="recentcomments">Steven Gentile on <a href="http://codebetter.com/jeremymiller/2011/01/23/if-you-are-using-structuremap-with-mvc3-please-read-this/#comment-6763">If you are using StructureMap with MVC3, please read this:</a></li><li class="recentcomments">jabits on <a href="http://codebetter.com/jeremymiller/2011/01/16/a-train-of-thought-wrapping-up-codemash-2011/#comment-6761">A Train of Thought &ndash; Wrapping up CodeMash 2011</a></li><li class="recentcomments">Michael Meadows on <a href="http://codebetter.com/jeremymiller/2011/01/16/a-train-of-thought-wrapping-up-codemash-2011/#comment-6754">A Train of Thought &ndash; Wrapping up CodeMash 2011</a></li><li class="recentcomments">InspiringCode on <a href="http://codebetter.com/jeremymiller/2011/01/16/a-train-of-thought-wrapping-up-codemash-2011/#comment-6753">A Train of Thought &ndash; Wrapping up CodeMash 2011</a></li></ul></li>				</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.307 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-27 02:29:56 -->
<!-- super cache -->