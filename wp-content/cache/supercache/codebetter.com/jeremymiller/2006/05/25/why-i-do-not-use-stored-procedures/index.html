<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Why I do not use Stored Procedures | Jeremy D. Miller</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/jeremymiller/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/jeremymiller/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='The YAGNI Development Assistant' href='http://codebetter.com/jeremymiller/2006/05/24/the-yagni-development-assistant/' />
<link rel='next' title='Grab bag of follow up&#8217;s for data access, persistence, query engines, and o/r mapping' href='http://codebetter.com/jeremymiller/2006/05/26/grab-bag-of-follow-ups-for-data-access-persistence-query-engines-and-or-mapping/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/jeremymiller/?p=166' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,143] -->
<link rel="canonical" href="http://codebetter.com/jeremymiller/2006/05/25/why-i-do-not-use-stored-procedures/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-166" class="post-166 post type-post status-publish format-standard hentry category-database-and-persistence category-ranting">
					<h1 class="entry-title">Why I do not use Stored Procedures</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">Jeremy Miller</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/jeremymiller/2006/05/25/why-i-do-not-use-stored-procedures/" title="7:45 pm" rel="bookmark"><span class="entry-date">May 25, 2006</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/jeremymiller/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/jeremymiller/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p><P>I promised myself that I wouldn&#8217;t ever make <A href="/blogs/jeremy.miller/archive/2005/10/27/133885.aspx">another post about stored procedures</A>, but <A href="/blogs/eric.wise/archive/2006/05/24/145393.aspx">Eric&#8217;s post on sproc&#8217;s</A> hit a few of my hot buttons on the subject.&nbsp; Four years ago the pre-Agile, VB6/ASP coding me would have fervently agreed with Eric&#8217;s pro-sproc stance and I wrote PL/SQL by the bushel full, but today my answer to the sproc question is a firm &#8220;no thank you&#8221; or at least a &#8220;guilty until proven innocent.&#8221;&nbsp; Besides, I&#8217;m an Oracle guy in a Sql Server shop and I despise T-SQL.</P><br />
<P>First, some common ground.&nbsp; I think we can all agree that adhoc SQL in code ala ASP circa 1998 is an abomination.&nbsp; I don&#8217;t have that much trouble with using sproc&#8217;s for CRUD, but then again I think a domain model approach backed by O/R mapping is more efficient in terms of the all important developer time and the domain model approach leads to better code.&nbsp; The newer parts of our applications can accommodate database changes by simply changing the NHibernate mappings.&nbsp; No sproc&#8217;s necessary.</P><br />
<P>So to Eric&#8217;s post, first this:</P><br />
<BLOCKQUOTE>So when I see people in the TDD crowd slamming stored procedures and views it greatly confuses me.</BLOCKQUOTE><br />
<P>That&#8217;s an easy answer Eric, stored procedures make TDD a slower, less productive process.&nbsp; Business logic in stored procedures&nbsp;is more work to test than the corresponding logic in a domain model class.&nbsp; Referential integrity will often force you to setup a lot of other data just to be able to insert the data you need for a test (unless you&#8217;re working in a legacy database like ours without any foreign keys;)).&nbsp; Stored procedures are inherently procedural in nature, and hence <A href="/blogs/jeremy.miller/archive/2005/11/29/135212.aspx">harder to create isolated tests</A> and prone to code duplication (a duplicated &#8220;where&#8221; clause is duplicated code and duplication is bad).&nbsp; Another consideration, and <A href="/blogs/jeremy.miller/archive/2005/08/17/130864.aspx">this matters a great deal</A> in a sizable application, is that any automated test that hits the database is slower than a test that runs inside of the AppDomain.&nbsp; Slow tests lead to longer feedback cycles.&nbsp; Trust me on this one, a team will be much slower with a 20 minute CI build versus a 5 minute build time. </P><br />
<P>I&#8217;ll make an admission.&nbsp; I bet I haven&#8217;t written a full 100 lines of direct ADO.Net manipulation code in the last six months, yet we&#8217;ve rolled out a multitude of new functionality in that time frame.&nbsp; I also write very little non-trivial SQL these days.&nbsp; Between a little OO query engine we&#8217;ve developed and NHibernate, there&#8217;s simply no need to spend time in the muck of data access.&nbsp; Like Jeff Atwood said, <A href="http://www.codinghorror.com/blog/archives/000117.html">stored procedures are the assembly language of the database</A>.&nbsp; I&#8217;ll use sproc&#8217;s when I have to have a performance gain, but until then they&#8217;re nothing but premature optimization. </P><br />
<P>I think the gap in thinking about sproc&#8217;s is about how you see the role of the database in an application &#8212; do you talk about the database in passing as a persistence mechanism or is the .Net code merely a way to get data back and forth from the UI and database?.&nbsp; The applications I build are primarily about business rules, not reporting.&nbsp; The database to me is simply a persistence mechanism for our domain objects and messages en route.&nbsp; Maintainability, which is almost synonymous with testability, is king.&nbsp; A large, comprehensive body of automated tests at both the acceptance and unit test level are, in my opinion, the best way to accommodate changes to the code.</P><br />
<P>Again from Eric&#8217;s post, and this is where I got hot under the collar (it&#8217;s not directed at you Eric) &#8211; </P><br />
<BLOCKQUOTE>Your DBA team can work completely independently of your programming team and do pretty much whatever they want and your application doesn&#8217;t care!</BLOCKQUOTE><br />
<P>Expletive.&nbsp; NO, NO, NO!!!!!&nbsp; The DBA should most certainly NOT work independently of the programming team.&nbsp; Stored procedures are code, and potentially destructive code at that.&nbsp; If you change a stored procedure you *MUST* integrate and test the stored procedure against the application before it gets anywhere near production.&nbsp; I&#8217;ve been burned by this one too many times.&nbsp; The stored procedure code absolutely has to be built and versioned within your Continuous Integration build.&nbsp; I&#8217;m sick of bugs caused by a sproc getting out of synch with the code.&nbsp; The idea of a DBA, or a maintenance developer, putting a different version of a sproc directly into the database is a bad, bad, dangerous practice.&nbsp; </P><br />
<P>The extra configuration management burden is one of the reasons most Agile teams stay away from stored procedures.&nbsp; If I&#8217;m relying on NHibernate mappings or parameterized SQL in the code that SQL is going to be built and versioned with the C# code automatically.&nbsp; My risk of having mismatched sproc and C# code is greatly minimized.&nbsp; Our C# assemblies are signed with the CruiseControl.Net build number and it&#8217;s simple to spot mismatches&nbsp; The stored procedures are, err, well, uh, I don&#8217;t know if that&#8217;s the same version that the code was tested against to be quite honest <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_sad.gif' alt=':(' class='wp-smiley' /> </P><br />
<P>The absolute worst thing you can do, and it&#8217;s&nbsp;horrifyingly common in the Microsoft development world, is to <A href="/blogs/jeremy.miller/archive/2005/06/09/129562.aspx">split related functionality between sproc&#8217;s and middle tier code</A>.&nbsp; Grrrrrrrr.&nbsp; You just make the code brittle and you increase the intellectual overhead of understanding a system.</P><br />
<P>&nbsp;</P><br />
<P>&nbsp;</P></p>
<div class="shr-publisher-166"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/db65c5c5cf9f1c51e842f733892eace1?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Jeremy Miller</h2>
							Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.							<div id="author-link">
								<a href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">View all posts by Jeremy Miller &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/jeremymiller/category/database-and-persistence/" title="View all posts in Database and Persistence" rel="category tag">Database and Persistence</a>, <a href="http://codebetter.com/jeremymiller/category/ranting/" title="View all posts in Ranting" rel="category tag">Ranting</a>. Bookmark the <a href="http://codebetter.com/jeremymiller/2006/05/25/why-i-do-not-use-stored-procedures/" title="Permalink to Why I do not use Stored Procedures" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/jeremymiller/2006/05/25/why-i-do-not-use-stored-procedures/feed/" title="Comments RSS to Why I do not use Stored Procedures" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-166 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/jeremymiller/2006/05/24/the-yagni-development-assistant/" rel="prev"><span class="meta-nav">&larr;</span> The YAGNI Development Assistant</a></div>
					<div class="nav-next"><a href="http://codebetter.com/jeremymiller/2006/05/26/grab-bag-of-follow-ups-for-data-access-persistence-query-engines-and-or-mapping/" rel="next">Grab bag of follow up&#8217;s for data access, persistence, query engines, and o/r mapping <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-698">
                    <div id="dsq-comment-header-698" class="dsq-comment-header">
                        <cite id="dsq-cite-698">
    http://spaces.msn.com/dscheidt                            <span id="dsq-author-user-698">David Scheidt</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-698" class="dsq-comment-body">
                        <div id="dsq-comment-message-698" class="dsq-comment-message"><p>Hi Jeremy,<br />
I like the article / thoughts.  Quick question, though&#8230; How does it scale?  Are there any example projects that use this approach?  I&#8217;d love to see a working web site or code to understand how this can be implemented.</p>
<p>Thanks!<br />
- David Scheidt</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-699">
                    <div id="dsq-comment-header-699" class="dsq-comment-header">
                        <cite id="dsq-cite-699">
                                <span id="dsq-author-user-699">Sachin Rao</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-699" class="dsq-comment-body">
                        <div id="dsq-comment-message-699" class="dsq-comment-message"><p>Jeremy</p>
<p>One of the things I have heard in favour of stored procs (as compared to parameterized sql) is performance.</p>
<p>Another point usually made is reporting (where you might have to use stored procs in spite of having an o/r mapper).</p>
<p>What&#8217;s your take on that?</p>
<p>Sachin</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-700">
                    <div id="dsq-comment-header-700" class="dsq-comment-header">
                        <cite id="dsq-cite-700">
    http://weblogs.asp.net/jgalloway                            <span id="dsq-author-user-700">Jon Galloway</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-700" class="dsq-comment-body">
                        <div id="dsq-comment-message-700" class="dsq-comment-message"><p>I think you bring up a good point when you talk about how the database is used. If it&#8217;s a persistance medium, there&#8217;s not much point in writing a ton of stored procedures. If you&#8217;re doing complex queries, though, a tuned query can be significantly better generated SQL. I&#8217;m not going to worry about a second here or there &#8211; I&#8217;ve seen cases (and I&#8217;m sure you have as well) where tuning a query took the response time from tens of minutes to a few seconds.</p>
<p>It all depends on the application. The best approach seems to be a system that assumes simplicity (generated SQL), but allows you to use a query when you need it &#8211; inlined assembly, to continue with Jeff&#8217;s analogy.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-701">
                    <div id="dsq-comment-header-701" class="dsq-comment-header">
                        <cite id="dsq-cite-701">
                                <span id="dsq-author-user-701">Jaosn</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-701" class="dsq-comment-body">
                        <div id="dsq-comment-message-701" class="dsq-comment-message"><p>A very interesting post. I have been a highly vocal proponent of SPs (I too have a PL/SQL backgorund) but as I embrace TDD I am starting to change my mind.</p>
<p>Your observations about DBAs are all true true but I think the essence of that problem is inproper utilization of that resource. If the DBA (or any other person) is not an inegrated member of the team then the chances whatever they produce doing what it&#8217;s supposed to is slim (at best). In my experience most developers are better at SQL cause they have more experience (we don&#8217;t spend all of our time worrying about backups etc.!) Where DBA cvan be invaluable is when you have to do something new and leveraging a feture of the RDBMS (I don&#8217;t really buy into database independence as a concept) can be a huge time saver or performance boon.</p>
<p>I do have questions about performance and scalability (especially with SQL Server) but most applications do not need to be perfect in either respect. So next timme perhaps I will try to use SPs only for the slow bits and see where this gets me.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-702">
                    <div id="dsq-comment-header-702" class="dsq-comment-header">
                        <cite id="dsq-cite-702">
    http://www.developernotes.com                            <span id="dsq-author-user-702">Nick Parker</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-702" class="dsq-comment-body">
                        <div id="dsq-comment-message-702" class="dsq-comment-message"><p>Jeremy,</p>
<p>Care to share more about your OO query engine and how it integrates with NHibernate?</p>
<p>Nick Parker</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-703">
                    <div id="dsq-comment-header-703" class="dsq-comment-header">
                        <cite id="dsq-cite-703">
    http://little.xmtp.net/blog/                            <span id="dsq-author-user-703">Jay R. Wren</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-703" class="dsq-comment-body">
                        <div id="dsq-comment-message-703" class="dsq-comment-message"><p>What about security?  With the stored proc approach you can handle security with different DB user accounts for different queries and allow your users to access the database with the various accounts through your application.</p>
<p>With NHibernate you have to implement this entire security model yourself in your application.  Maybe that is OK, but it does seem like a lot of work.  How do you handle it?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-704">
                    <div id="dsq-comment-header-704" class="dsq-comment-header">
                        <cite id="dsq-cite-704">
    http://substantiality.net                            <span id="dsq-author-user-704">Sam Smoot</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-704" class="dsq-comment-body">
                        <div id="dsq-comment-message-704" class="dsq-comment-message"><p>What about security? Giving UPDATE/INSERT Access doesn&#8217;t mean you give the user the SA account with no password and call it a day.</p>
<p>If you have a robust fault-tolerance solution (including backups), then what&#8217;s the danger really anyways? Or phrased another way, when was the last time you heard about a system intrusion whose goal was to INSERT/UPDATE a bunch of random records in a few tables. I&#8217;ve _never_ heard of it frankly. And as hard as I try, I&#8217;m not naive enough to believe the only security fault (or the most dangerous, or the simplest) in my application would be an Object Relational Mapper vetted by (at least) thousands of developers in tens of thousands of applications.</p>
<p>The &#8220;sprocs are an interface&#8221; argument just doesn&#8217;t jive with the real world IME, but to each his/her own I suppose. Mostly I see sproc proponents claim &#8220;sprocs are great, I can change my tables!&#8221;, but how often does it actually happen? During development sproc maintenance is just another layer to slow you down. During production operation, most developers would much rather not touch existing sprocs IME, preferring a little CYA and copy&#038;paste action instead. Which only leads to an even bigger maintenance problem.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-705">
                    <div id="dsq-comment-header-705" class="dsq-comment-header">
                        <cite id="dsq-cite-705">
    http://www.codebetter.com/blogs/eric.wise                            <span id="dsq-author-user-705">ewise</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-705" class="dsq-comment-body">
                        <div id="dsq-comment-message-705" class="dsq-comment-message"><p>I&#8217;ve witnessed insert/update attacks to put vulgarities into forum sites.  I&#8217;ve seen them used to hack a record into an order system so that the hacker could get access to legitimate product keys.</p>
<p>What about security?  How about not using an ORM with access to a database table with billing information?  Now anyone that hijacks your .dll can select * from your credit card table.  I tend to keep tables with billing and other sensitive personal information on lock-down.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-706">
                    <div id="dsq-comment-header-706" class="dsq-comment-header">
                        <cite id="dsq-cite-706">
    http://substantiality.net                            <span id="dsq-author-user-706">Sam Smoot</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-706" class="dsq-comment-body">
                        <div id="dsq-comment-message-706" class="dsq-comment-message"><p>Funny&#8230; I would attribute defacing attacks to application flaws. I&#8217;m not sure I&#8217;ve ever seen the claim that sprocs would have prevented one before&#8230; but your experience is your experience.</p>
<p>The billing argument is more than a bit silly. Sprocs are obviously not the only solution. A view does just as well, but we&#8217;re still not out of options yet. Put your cards in a different table (preferrably behind a different service altogether, on a different system altogether if you _must_ keep them at all).</p>
<p>Even if you decided to go with sprocs in this (oft-repeated as the last bastion of sproc supporters everywhere) scenario, nobody&#8217;s going to make fun of your application. It&#8217;s _one simple case_. Don&#8217;t get so tied up in the purity of anything that some edge case keeps you from delivering&#8230;</p>
<p>WRT: &#8220;hijacks your .dll&#8221;: If someone is able to start executing arbitrary code in-process on your application server, I wouldn&#8217;t take much solace in having sprocs as a line of defense.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-707">
                    <div id="dsq-comment-header-707" class="dsq-comment-header">
                        <cite id="dsq-cite-707">
                                <span id="dsq-author-user-707">karl</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-707" class="dsq-comment-body">
                        <div id="dsq-comment-message-707" class="dsq-comment-message"><p>Relational databases are too good at what they do to be treated as nothing more than persistence mechanism.  I&#8217;ve seen catastrophic failures as a result of this belief, and not a single success. Don&#8217;t get me wrong, I&#8217;m 100% sure that&#8217;s only because of my limited exposure, but it&#8217;s enough to tell me that there&#8217;s a learning curve and the stakes are offly high.</p>
<p>I can&#8217;t be the only one who likes to map relational data to objects manually (codesmith helps)?  Sure it&#8217;s a lot more grunt work, but it just seems simpler.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-708">
                    <div id="dsq-comment-header-708" class="dsq-comment-header">
                        <cite id="dsq-cite-708">
    http://weblogs.asp.net/jgonzalez                            <span id="dsq-author-user-708">Jeff Gonzalez</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-708" class="dsq-comment-body">
                        <div id="dsq-comment-message-708" class="dsq-comment-message"><p>I made a comment about DBAs and their seperation. </p>
<p>I think O\R Mappers are a great technology and provide developers with a huge productivity advantage.  I am operating under my experience only here, and I am sure things are different for each and every company, but all developers are not sql gods.  In face some developers are horrible at SQL.  Coding in an object language and understanding set based logic are two totally different mindsets.  Some developers do both very well, but I would say most do not.</p>
<p>This gets me back to the original discussion.  I don&#8217;t believe that any said you cannot test stored procedures.  I would agree with you a unit test shouldn&#8217;t hit the database.  It crosses boundries that to me signify integration testing, not unit testing.  Unit testing should be done in isolation.  Clearly having a unit test touch the database isn&#8217;t isolating the code.  This is where mock frameworks come in handy.</p>
<p>If you buy an O\R Mapper, and we can say for arguments sake that you purchased a relatively open orm tool that allows you to fully control the sql that is generated by the orm engine, most DBAs who tune for performance will not know or understand object code as intimately as developers.  As I said before, it is a different mindset.  DBAs think about data, developers think about objects.</p>
<p>I will not debate the matter of storing business logic in the database, everyone has a different opinion on this and I believe that there is no hard and fast rule that can decide this.  </p>
<p>By encapsulating code in stored procedures, it allows DBAs to tune performance in the area of expertise they are comfortable in.  I am pretty sure that JoeBlow developer could write code in an ORM that performed badly, especially if the ORM developer was very lenient in allowing Joe to design his own queries.   He could still create inefficient joins or horrible where clauses that cause the sql server to waste cycles.  The difference is that now you have a DBA trying to performance tune code that they probably will not be familiar with right off the bat.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-709">
                    <div id="dsq-comment-header-709" class="dsq-comment-header">
                        <cite id="dsq-cite-709">
    http://weblogs.asp.net/jgonzalez                            <span id="dsq-author-user-709">Jeff Gonzalez</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-709" class="dsq-comment-body">
                        <div id="dsq-comment-message-709" class="dsq-comment-message"><p>Sorry, I forgot 1 more thing I wanted to say.</p>
<p>I think that Eric is right when he says that calling a stored procedure is a contract or an interface.  It is like consuming a third party library, which has an established API.   A stored procedure has a stored execution plan and a very specific list of parameters it needs to execute that plan.</p>
<p>How is that not a contract or interface?  </p>
<p>Any talk favoring stored procedures for performance or security at this point is FUD.  To that I say QFT.  Parameterized queries defend just as much injection as a stored procedure.   While it does allow you to operate without priveledges for a table, views would allow you to accomplish the same thing in most cases.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-710">
                    <div id="dsq-comment-header-710" class="dsq-comment-header">
                        <cite id="dsq-cite-710">
                                <span id="dsq-author-user-710">David Kemp</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-710" class="dsq-comment-body">
                        <div id="dsq-comment-message-710" class="dsq-comment-message"><p>&#8220;The database to me is simply a persistence mechanism for our domain objects and messages.&#8221;</p>
<p>That&#8217;s where I&#8217;m at too. I think that until someone has used a tool like NHibernate, it&#8217;s very difficult to see the database as somewhere where you store <b>data</b>. Your code turns the data into something meaningful. Of course, I still use all the tools in the database to make sure that the data isn&#8217;t corrupt, but unless I&#8217;m automatically generating sprocs and code to call them, they seem like a bit hassle. </p>
<p>Eric: If this is a real concern, and something that you can&#8217;t enforce otherwise, then you can always use process impersonation and restrict access to methods/classes using security policy.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-711">
                    <div id="dsq-comment-header-711" class="dsq-comment-header">
                        <cite id="dsq-cite-711">
                                <span id="dsq-author-user-711">william dieterich</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-711" class="dsq-comment-body">
                        <div id="dsq-comment-message-711" class="dsq-comment-message"><p>Speed wise&#8230;</p>
<p>This is about CRUD based sprocs, if you have to do a bunch of looping or multiple selects to get a single piece of data then sproc is the way to go.</p>
<p>dynamic code is as fast or faster then sprocs for CRUD.</p>
<p>1) people claim that sprocs are compiled and stored in the database differently then dynamic SQL; this is completly false but still found in alot of places.  The use of parameterized dynamicA SQL removes any speed boost that sprocs may have from query reuse.</p>
<p>2) And what most people ignore is all thoses COALESCE statements and OR statements in sprocs are slow.  As has been shown in multiple cases, and is easy to duplicate, even a sproc with just 3-5 optional parameters you will get a 15% to 20% slowdown using COALESCE or 30% to 40% using OR statements compared to dynamic SQL.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-712">
                    <div id="dsq-comment-header-712" class="dsq-comment-header">
                        <cite id="dsq-cite-712">
                                <span id="dsq-author-user-712">jace</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-712" class="dsq-comment-body">
                        <div id="dsq-comment-message-712" class="dsq-comment-message"><p>@ William Dieterich:</p>
<p>Sorry, but your point number 1 is dead wrong, simply look into the documentation:</p>
<p>&#8220;When executing statements, calling a stored procedure on the data source (instead of directly executing or preparing a statement in the client application) can provide:</p>
<p>Higher performance<br />
SQL statements are parsed and compiled when procedures are created. This overhead is then saved when the procedures are executed. </p>
<p>Reduced network overhead<br />
Executing a procedure instead of sending complex queries across the network can reduce network traffic. If an ODBC application uses the ODBC { CALL } syntax to execute a stored procedure, the ODBC driver makes additional optimizations that eliminate the need to convert parameter data. </p>
<p>Greater consistency<br />
If an organization&#8217;s rules are implemented in a central resource, such as a stored procedure, they can be coded, tested, and debugged once. Individual programmers can then use the tested stored procedures instead of developing their own implementations. </p>
<p>Greater accuracy<br />
Because stored procedures are usually developed by experienced programmers, they tend to be more efficient and have fewer errors than code developed multiple times by programmers of varying skill levels. </p>
<p>Added functionality<br />
Extended stored procedures can use C and C++ features not available in Transact-SQL statements.&#8221;</p>
<p>from:</p>
<p><a href="http://msdn2.microsoft.com/de-de/library/ms131440.aspx" rel="nofollow">http://msdn2.microsoft.com/de-de/library/ms131440.aspx</a></p>
<p>Pretty clear isn&#8217;t it?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-713">
                    <div id="dsq-comment-header-713" class="dsq-comment-header">
                        <cite id="dsq-cite-713">
    http://dotnetjunkies.com/weblog/johnwood                            <span id="dsq-author-user-713">johnwood</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-713" class="dsq-comment-body">
                        <div id="dsq-comment-message-713" class="dsq-comment-message"><p>>> Because stored procedures are usually developed by experienced programmers&#8230; << That&#8217;s quite funny actually&#8230; how the heck do they know that? Stored procs are actually usually developed by inexperienced programmers &#8211; experienced DBAs perhaps, but not programmers. At least not that I&#8217;ve seen.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-714">
                    <div id="dsq-comment-header-714" class="dsq-comment-header">
                        <cite id="dsq-cite-714">
    http://weblogs.asp.net                            <span id="dsq-author-user-714">Jeff Gonzalez</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-714" class="dsq-comment-body">
                        <div id="dsq-comment-message-714" class="dsq-comment-message"><p>@Jace</p>
<p>&#8220;Higher performance-SQL Statements are parsed and compiled when procedures are created.  This overhead is then saved when the procedures are executed.&#8221;</p>
<p>This is incorrect.  As far as I know SQL still operates under an interpreted model.  You don&#8217;t &#8220;compile&#8221; code.  I realize this is a common misconception.  What actually happens when you write a sql statement and execute it, the statement gets stored in a cache.   This is typically referred to as the procedure cache.</p>
<p>Whether you use a stored procedure or a parameterized query here, it doesn&#8217;t really matter.  The point is that Sql Server holds onto this statement and some reference to its execution plan so that it takes less time to run on subsequent queries.  Most, if not all, OR/M tools use parameterized queries.  So as long as the statement that is being executed matches exactly each time, the performance for stored procedures and queries would be identical.</p>
<p>&#8220;Reduced network overhead&#8221;<br />
I don&#8217;t know how true this really is, I mean, i can see how you would send less data by using a stored procedure name instead of batching the whole sql, but in ADO.NET all parameterized queries (at least where SqlClient is concerned) actually get turned into sp_execute calls.  I noticed you mentioned something about T-SQL in one statement and something else about ODBC in another.  I am sticking to Sql Server for the scope of this dicussion.</p>
<p>I actually wrote a much larger post earlier in response to Jeremy&#8217;s original post and it seems to have gotten lost.</p>
<p>I still think of Stored Procedures as an interface or contract.  They are at their most basic nature a remote or distributed method call.   If this interface changes, your client code changes.</p>
<p>I am of the opinion that unit tests that hit the database are no longer unit tests, they are integration tests.  You can test your code without the data (and you probably should using some sort of Mock framework).  You can also test your stored procedures in isolation, I will concede the tool support isn&#8217;t as nice for this as we don&#8217;t really have a SqlUnit tool =)</p>
<p>Last but not least, most of the DBAs I have seen or worked closely with have an intimate knowledge of object oriented programming.  If you rely solely on an OR/Mapper for all of your sql needs, it becomes a bit more difficult for the DBA to analyze and tune the performance problems.</p>
<p>This is why I feel the seperation (in some cases) is good. </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-715">
                    <div id="dsq-comment-header-715" class="dsq-comment-header">
                        <cite id="dsq-cite-715">
    http://substantiality.net                            <span id="dsq-author-user-715">Sam Smoot</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-715" class="dsq-comment-body">
                        <div id="dsq-comment-message-715" class="dsq-comment-message"><p>Jace: I&#8217;d recommend you read SQL Books Online a little more thoroughly. Pay close attention to execute plan caching, and you might even want to give a little thought to dynamic sprocs, the WITH RECOMPILE keyword, and how branching in sprocs can actually negatively impact performance if you don&#8217;t know the ins and outs.</p>
<p>You might also want to think about all the great sproc testing frameworks you&#8217;ve run across compared to all the great c#/java/ruby/etc testing frameworks available., r</p>
<p>You might also try to imagine how many applications you&#8217;ve ever worked on that actually shared sprocs between them, hitting the same databases&#8230; were they in the majority or the minority?</p>
<p>You might also look into your network packet size, and ponder how big a query has to be before it requires multiple data packets, and what impact that might have on performance, especially in a switched environment.</p>
<p>Once you&#8217;ve thought about all this, and corrected some of your more glaring assumptions, you might understand how it can be a little frustrating debating this subject with people who are obviously just parroting &#8220;common knowledge&#8221;.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-716">
                    <div id="dsq-comment-header-716" class="dsq-comment-header">
                        <cite id="dsq-cite-716">
                                <span id="dsq-author-user-716">Jacob Eggleston</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-716" class="dsq-comment-body">
                        <div id="dsq-comment-message-716" class="dsq-comment-message"><p>@jace</p>
<p>The MSDN help item you linked to is a leftover from the days of SQL Server 6.5. A dead giveaway is the reference to ODBC &#8211; when was the last time you used that? Every single point made on that page is either out of date or, as in the case of &#8220;Greater consistency/accuracy&#8221; were at best questionable when that was originally written. The performance argument was a valid one on 6.5, but is not any more. Starting with version 7 MS made huge changes to the way sprocs and queries were compiled and optimized. It has been proven by many people since then that, when used correctly, there is rarely any significant difference in performance between stored procs and the parameterized queries that OR mappers like NHibernate use. I&#8217;ve done my own tests and come to the same conclusions. Besides even if there _IS_ a slight difference in performance, using sprocs for this reason is committing one of the most common (and most bone-headed) mistakes that developers can make: premature optimization. Few things get me more worked up than developers who will gladly waste thousands of dollars in development and maintenance of sprocs to milk that extra 6ms out of a round trip to the server that takes 1600ms before they&#8217;ve even done any testing to identify where the bottleneck really is!</p>
<p>The security argument that sproc advocates trumpet is also bogus in all but a handfull of edge cases. Anyone making this claim doesn&#8217;t fully understand SQL Server&#8217;s security model or application security in general &#8211; or maybe they&#8217;ve just never really tried to do it any other way. Any security hole that allows a user (malicious or not) to manipulate your data willy-nilly could be exploited just as easilly with sprocs as without them.</p>
<p>I&#8217;ve rarely heard an OR mapping proponent argue that sprocs don&#8217;t have their uses, only that you should use the right tool for every task (and in my book anyone arguing that you should never use sprocs is no smarter than one who argues you should always use them). Sometimes sprocs are the best tool for a task. Reporting is often one of those cases, while CRUD functionality rarely is.</p>
<p>One interesting observation is that I frequently see developers convert from a pro-sprocs-for-everything position to pro-OR-mapping, but seldom, if ever, do I see the reverse. Why is that?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-717">
                    <div id="dsq-comment-header-717" class="dsq-comment-header">
                        <cite id="dsq-cite-717">
    http://www.chadmyers.com                            <span id="dsq-author-user-717">Chad Myers</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-717" class="dsq-comment-body">
                        <div id="dsq-comment-message-717" class="dsq-comment-message"><p>Everyone: Please read Frans Bouma (of LLBLGen and flaming-every-blogs-comments-section fame) post on this subject:</p>
<p><a href="http://weblogs.asp.net/fbouma/archive/2003/11/18/38178.aspx" rel="nofollow">http://weblogs.asp.net/fbouma/archive/2003/11/18/38178.aspx</a></p>
<p>He pretty much establishes that all the performance and security arguments for sprocs are bunk.</p>
<p>Also, there&#8217;s a historical argument here: SPROCS were not *MEANT* to be your DAL. It&#8217;s a trick in SQL 6.5 for performance that they grew into that role. Now that the main arguments have been yanked out from under them, can anyone seriously defend their use? The extra complexity, the code-in-many-places problem, the two-or-multiple language maintenance problem, the DBA&#8217;s-doing-application-development problem, etc, etc.</p>
<p>It just seems silly to be using Sprocs today when you have things like NHibernate. </p>
<p>Sprocs have their place and they are very useful *WHEN YOU NEED TO USE THEM FOR THEIR INTENDED PURPOSES*.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-718">
                    <div id="dsq-comment-header-718" class="dsq-comment-header">
                        <cite id="dsq-cite-718">
    http://talideon.com/                            <span id="dsq-author-user-718">Keith Gaughan</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-718" class="dsq-comment-body">
                        <div id="dsq-comment-message-718" class="dsq-comment-message"><p>There&#8217;s another argument against them that people have been omitting, that they, like the database schema itself, are a pain to keep under version control.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-719">
                    <div id="dsq-comment-header-719" class="dsq-comment-header">
                        <cite id="dsq-cite-719">
                                <span id="dsq-author-user-719">jmiller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-719" class="dsq-comment-body">
                        <div id="dsq-comment-message-719" class="dsq-comment-message"><p>All, that&#8217;s enough for now.  Comments closed, and let&#8217;s move on to something more interesting.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-6588">
                    <div id="dsq-comment-header-6588" class="dsq-comment-header">
                        <cite id="dsq-cite-6588">
                                <span id="dsq-author-user-6588">DotNetGuy</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-6588" class="dsq-comment-body">
                        <div id="dsq-comment-message-6588" class="dsq-comment-message"><p>You make strong valid points regarding testing, but to have all of your application sitting within the app domain bloats your codebase to the point to where it is border line unmanageable.  Also, if you are going to use this technique (ie. minimalist approach on the database) you had better pray to god that your developers are good because if they are not very good (or think they are but are not) then you get spider web code and extreme inefficiency because they dont think.<br />
For example.  You have a method that goes to the database to get a product from a product catalog for an e-commerce store.  Your &#8220;not so good&#8221; developers will usually 1) call a function to return which products should be viewed, 2) iterate through those product id&#8217;s and make seperate calls to go get each product, 3) possibly grab metadata for each product for each product return within the iteration.  I have seen this type of stuff done (not specifically on just e-commerce applications) many times.  Of course this is not just done when using an ORM, but it happens much much more because of them.<br />
In my opinion, Eric&#8217;s post regarding the DBA might have been a little quick to draw a line in the sand between developers and DBA&#8217;s but the idea of seperating them (to some degree) I think is a good idea.<br />
Great post though.  </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-7119">
                    <div id="dsq-comment-header-7119" class="dsq-comment-header">
                        <cite id="dsq-cite-7119">
    http://mickyd.wordpress.com/                            <span id="dsq-author-user-7119">MickyD</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-7119" class="dsq-comment-body">
                        <div id="dsq-comment-message-7119" class="dsq-comment-message"><p>&#8220;The DBA should most certainly NOT work independently of the programming team.  Stored procedures are code, and potentially destructive code at that.  If you change a stored procedure you *MUST* integrate and test the stored procedure against the application before it gets anywhere near production&#8221;  -you make it sound as the rest of your application is using just one other language compared to SPs; not only that but the rest of your app is tightly coupled. more than likely the scripting language in your web site is not the same as the language in your service tier; are you just as picky on your web developers? no! so why pick on SPs.  </p>
<p>using your logic, you would try to use c++, .net or VB in your web front end which is just silly.</p>
<p>use the best language for each part of your entire enterprise app.</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/jeremymiller/2006/05/25/why-i-do-not-use-stored-procedures/';
    var disqus_identifier = '166 /blogs/jeremy.miller/archive/2006/05/25/145450.aspx';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'theshadetreedeveloper';
    var disqus_title = "Why I do not use Stored Procedures";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=166');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/codebetter.com\/jeremymiller\/2006\/05\/25\/why-i-do-not-use-stored-procedures\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">The Shade Tree Developer</h3>Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.
</li><li id="text-3" class="widget-container widget_text"><h3 class="widget-title">Upcoming posts&#8230;</h3>			<div class="textwidget"><p>How I'm using StoryTeller to test FubuMVC<br />
Building a "Lookup" html convention w/ FubuMVC<br />
FubuMVC's Configuration Model "Special Sauce"<br />
Managing Script dependencies with FubuMVC<br />
Authorization and FubuMVC<br />
Continuations<br />
Composing Views with FubuMVC<br />
Extensible Model Binding with FubuMVC<br />
Introducing "Bottles"<br />
Modular Packaging with FubuMVC<br />
Self-Installing Apps w/ FubuMVC<br />
Routing and Behavioral Conventions with FubuMVC<br />
What Should I Learn?</p>
</div>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://twitter.com/jeremydmiller">Follow me on Twitter</a></li>
<li><a href="https://github.com/DarthFubuMVC/fubumvc" target="_blank">FubuMVC on GitHub</a></li>
<li><a href="https://github.com/jeremydmiller">My GitHub Page</a></li>
<li><a href="https://github.com/storyteller/storyteller">StoryTeller on GitHub</a></li>
<li><a href="https://github.com/structuremap/structuremap">StructureMap on GitHub</a></li>

	</ul>
</li>
		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
					<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/jeremymiller/2012/01/' title='January 2012'>January 2012</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/09/' title='September 2011'>September 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/07/' title='July 2011'>July 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/06/' title='June 2011'>June 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/05/' title='May 2011'>May 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/04/' title='April 2011'>April 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/03/' title='March 2011'>March 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/08/' title='August 2010'>August 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/07/' title='July 2010'>July 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/06/' title='June 2010'>June 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/05/' title='May 2010'>May 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/03/' title='March 2010'>March 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/02/' title='February 2010'>February 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/01/' title='January 2010'>January 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/06/' title='June 2009'>June 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/09/' title='September 2008'>September 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/08/' title='August 2008'>August 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/07/' title='July 2008'>July 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/06/' title='June 2008'>June 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/05/' title='May 2008'>May 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/04/' title='April 2008'>April 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/03/' title='March 2008'>March 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/02/' title='February 2008'>February 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/01/' title='January 2008'>January 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/12/' title='December 2007'>December 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/11/' title='November 2007'>November 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/10/' title='October 2007'>October 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/09/' title='September 2007'>September 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/08/' title='August 2007'>August 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/07/' title='July 2007'>July 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/06/' title='June 2007'>June 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/05/' title='May 2007'>May 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/04/' title='April 2007'>April 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/03/' title='March 2007'>March 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/02/' title='February 2007'>February 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/01/' title='January 2007'>January 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/12/' title='December 2006'>December 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/11/' title='November 2006'>November 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/10/' title='October 2006'>October 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/09/' title='September 2006'>September 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/08/' title='August 2006'>August 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/07/' title='July 2006'>July 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/06/' title='June 2006'>June 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/05/' title='May 2006'>May 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/04/' title='April 2006'>April 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/03/' title='March 2006'>March 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/02/' title='February 2006'>February 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/01/' title='January 2006'>January 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/12/' title='December 2005'>December 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/11/' title='November 2005'>November 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/10/' title='October 2005'>October 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/09/' title='September 2005'>September 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/08/' title='August 2005'>August 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/07/' title='July 2005'>July 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/06/' title='June 2005'>June 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/05/' title='May 2005'>May 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/04/' title='April 2005'>April 2005</a></li>
		</ul>
</li><li id="recent-comments-3" class="widget-container widget_recent_comments"><h3 class="widget-title">What others have said&#8230;</h3><ul id="recentcomments"><li class="recentcomments"><a href='http://zacherygaines.webstarts.com/' rel='external nofollow' class='url'>KadeemFulton</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7523">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments"><a href='http://jonsonbettly.wordpress.com/' rel='external nofollow' class='url'>ScottWorkman</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7517">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments">haihao on <a href="http://codebetter.com/jeremymiller/2008/10/18/profile-s-in-structuremap/#comment-7513">Profile’s in StructureMap</a></li><li class="recentcomments">neon on <a href="http://codebetter.com/jeremymiller/2008/09/10/using-the-structuremap-container-independently-of-objectfactory/#comment-7512">Using the StructureMap Container independently of ObjectFactory</a></li><li class="recentcomments">weaponfan on <a href="http://codebetter.com/jeremymiller/2008/09/25/using-structuremap-2-5-to-inject-your-entity-objects-into-services/#comment-7511">Using StructureMap 2.5 to inject your Entity objects into Services</a></li></ul></li>				</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.521 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 17:30:17 -->
<!-- super cache -->