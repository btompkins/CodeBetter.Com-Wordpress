<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>It&#8217;s time for IoC Container Detente | Jeremy D. Miller</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/jeremymiller/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/jeremymiller/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Dovetail is looking for a Junior to Midlevel Developer' href='http://codebetter.com/jeremymiller/2008/08/12/dovetail-is-looking-for-a-junior-to-midlevel-developer/' />
<link rel='next' title='The Null Pattern is a Good Thing' href='http://codebetter.com/jeremymiller/2008/08/18/the-null-pattern-is-a-good-thing/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/jeremymiller/?p=569' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,150] -->
<link rel="canonical" href="http://codebetter.com/jeremymiller/2008/08/16/it-s-time-for-ioc-container-detente/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-569" class="post-569 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">It&#8217;s time for IoC Container Detente</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">Jeremy Miller</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/jeremymiller/2008/08/16/it-s-time-for-ioc-container-detente/" title="3:51 pm" rel="bookmark"><span class="entry-date">August 16, 2008</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/jeremymiller/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/jeremymiller/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>I was perusing the <a href="http://weblogs.asp.net/bsimser/archive/2008/08/16/alt-net-canada-day-1-the-marketplace.aspx">session list for ALT.NET Canada</a> this morning (sorry I couldn&#8217;t make it guys) and saw this session title that reflects something I&#8217;ve had quite a few conversations about this year. </p>
<blockquote><p>Building extensible frameworks leveraging framework consumer selectable IoC containers.</p>
</blockquote>
<p>As long as we&#8217;re going to work in static typed languages, it&#8217;s a major advantage to achieve extensibility and pluggability by utilizing an existing Inversion of Control container.&nbsp; I&#8217;ll make the statement that starting with an existing IoC tool makes framework construction far simpler and cheaper than it was before.&nbsp; The problem with that is that there are multiple IoC containers out there, and tying your framework to any of those containers is bound to irritate a big swath of people.&nbsp; </p>
<p>When we were deciding between Ruby on Rails, the ASP.Net MVC, and MonoRail for our project architecture in June, I dismissed MonoRail in small part because I didn&#8217;t want to be forced to use Windsor as our IoC tool (for some reason). We&#8217;re perfectly content with the MVC framework at the moment*, but after reading through the MVC code and the way that they pass around dependencies through the myriad SomethingContext objects, I think the MVC team could streamline their own code quite a bit by using an IoC tool to resolve dependencies.&nbsp; Now, that brings up a contentious issue, which container would they use?&nbsp; The answer is that they can&#8217;t use any specific container.</p>
<p>When I was building the initial code that has became Fluent NHibernate there were a couple places where I needed to use an IoC container to resolve NHibernate objects and deal with configuration.&nbsp; I obviously chose StructureMap and buried a couple hard references to ObjectFactory.GetInstance&lt;T&gt;() in the code.&nbsp; The coupling to StructureMap doesn&#8217;t particularly concern <b>me</b>, but when the code first went public, <a href="http://kohari.org/">Nate Kohari</a> (author of Ninject) lamented on Twitter that the tool was coupled to StructureMap.</p>
<p>So, to make it safe for both Nate and myself to use the IoC of our choice, what I&#8217;d really like to see is a common interface to represent the very baseline functionality of an IoC container so that we could build and release frameworks that utilize an IoC container without forcing a particular choice of tool onto the development teams. A couple people are already going down the path of abstracting an IoC container with one off solutions.&nbsp; Off the top of my head I can think of at least three:</p>
<ul>
<li>MVCContrib</li>
<li>Caliburn</li>
<li>Whatever boring name that Prism is now called (and I owe P&amp;P a reference implementation of Prism with StructureMap.&nbsp; I&#8217;m getting there)</li>
</ul>
<p>All of these frameworks have a more or less similar interface for the container, then an adapter for most of the major IoC tools.&nbsp; I&#8217;d like to propose, and I&#8217;m not the first, that a new Service Locator abstraction be added to the .Net Framework itself as a first class citizen and publicized a little bit so framework builders can take advantage of a common interface.&nbsp; I&#8217;d like to start a new petition to make this little, itty bitty work be a part of the MEF project within Microsoft.&nbsp; All I think it needs to do is provide an interface with:</p>
<ol>
<li>GetInstance&lt;T&gt;()</li>
<li>GetInstance&lt;T&gt;(name)</li>
<li>GetAllInstances&lt;T&gt;()</li>
</ol>
<p>and leave the registration completely alone because it&#8217;s so radically different from one tool to another.&nbsp; Then, give us something like Thread.CurrentPrincipal for a wellknown place to put the container.<br />

</p>
<p>*Honestly, we&#8217;ve replaced a fair amount of the MVC framework with our own stuff, but that&#8217;s a post for another day.&nbsp; The best thing about the MVC is that it&#8217;s so small and fairly modular, so it&#8217;s relatively easy to swap in your own &#8220;special sauce&#8221; to embed conventions and more opinionated structures.</p>
<div class="shr-publisher-569"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/db65c5c5cf9f1c51e842f733892eace1?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Jeremy Miller</h2>
							Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.							<div id="author-link">
								<a href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">View all posts by Jeremy Miller &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/jeremymiller/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/jeremymiller/2008/08/16/it-s-time-for-ioc-container-detente/" title="Permalink to It&#8217;s time for IoC Container Detente" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/jeremymiller/2008/08/16/it-s-time-for-ioc-container-detente/feed/" title="Comments RSS to It&#8217;s time for IoC Container Detente" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-569 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/jeremymiller/2008/08/12/dovetail-is-looking-for-a-junior-to-midlevel-developer/" rel="prev"><span class="meta-nav">&larr;</span> Dovetail is looking for a Junior to Midlevel Developer</a></div>
					<div class="nav-next"><a href="http://codebetter.com/jeremymiller/2008/08/18/the-null-pattern-is-a-good-thing/" rel="next">The Null Pattern is a Good Thing <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-4369">
                    <div id="dsq-comment-header-4369" class="dsq-comment-header">
                        <cite id="dsq-cite-4369">
    http://www.bluespire.com                            <span id="dsq-author-user-4369">Rob</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4369" class="dsq-comment-body">
                        <div id="dsq-comment-message-4369" class="dsq-comment-message"><p>Hear, hear!!!</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4370">
                    <div id="dsq-comment-header-4370" class="dsq-comment-header">
                        <cite id="dsq-cite-4370">
    http://www.thefreakparade.com                            <span id="dsq-author-user-4370">Nathan</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4370" class="dsq-comment-body">
                        <div id="dsq-comment-message-4370" class="dsq-comment-message"><p>Amen to that. If MS rejects the idea, or drags their feet, would a neutral open source project or organization providing a set of interfaces serve as a stand-in? Any chance something like that could gain critical mass? I think that in addition to IoC there are a small handful of other interfaces that could provide framework or infrastructure tool developers with the same benefit, like logging.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4371">
                    <div id="dsq-comment-header-4371" class="dsq-comment-header">
                        <cite id="dsq-cite-4371">
    http://kohari.org/                            <span id="dsq-author-user-4371">Nate Kohari</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4371" class="dsq-comment-body">
                        <div id="dsq-comment-message-4371" class="dsq-comment-message"><p>Absolutely, Jeremy, well said. While I naturally want to use Ninject, I&#8217;m happy using other DI frameworks as well. I just don&#8217;t think that infrastructure libraries should be opinionated, because you might end up being forced to put two DI frameworks in the same project.</p>
<p>If this doesn&#8217;t end up in MEF, maybe we should consider something like the AOP Alliance? I&#8217;d be willing to add it to Ninject, even if it means creating an external dependency. As long as the dependency was tiny, it would be worth it. That way framework developers could work against the common abstraction rather than creating their own custom abstractions each time.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4372">
                    <div id="dsq-comment-header-4372" class="dsq-comment-header">
                        <cite id="dsq-cite-4372">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-4372">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4372" class="dsq-comment-body">
                        <div id="dsq-comment-message-4372" class="dsq-comment-message"><p>@All,</p>
<p>I think I should have said that the MEF team is aware of the issue and is seriously considering doing just this.  I just want to say it out loud and get some support for the idea so that it&#8217;s a high enough priority for them to do it.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4373">
                    <div id="dsq-comment-header-4373" class="dsq-comment-header">
                        <cite id="dsq-cite-4373">
    http://jimmybogard.lostechies.com                            <span id="dsq-author-user-4373">Jimmy Bogard</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4373" class="dsq-comment-body">
                        <div id="dsq-comment-message-4373" class="dsq-comment-message"><p>Isn&#8217;t someone going to make the ridiculous &#8220;we already have a locator, and it&#8217;s IServiceProvider&#8221; claim?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4374">
                    <div id="dsq-comment-header-4374" class="dsq-comment-header">
                        <cite id="dsq-cite-4374">
    http://www.ayende.com/Blog/                            <span id="dsq-author-user-4374">Ayende Rahien</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4374" class="dsq-comment-body">
                        <div id="dsq-comment-message-4374" class="dsq-comment-message"><p>@Jimmy,<br />
Not good enough, not by half.<br />
IServiceProvider only gives you a tiny bit. There is a lot that we need to create first.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4375">
                    <div id="dsq-comment-header-4375" class="dsq-comment-header">
                        <cite id="dsq-cite-4375">
    http://www.ayende.com/Blog/                            <span id="dsq-author-user-4375">Ayende Rahien</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4375" class="dsq-comment-body">
                        <div id="dsq-comment-message-4375" class="dsq-comment-message"><p>Note, MonoRail has no dependency on Windsor</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4376">
                    <div id="dsq-comment-header-4376" class="dsq-comment-header">
                        <cite id="dsq-cite-4376">
    http://jimmybogard.lostechies.com                            <span id="dsq-author-user-4376">Jimmy Bogard</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4376" class="dsq-comment-body">
                        <div id="dsq-comment-message-4376" class="dsq-comment-message"><p>That was my next note, we just completed a project that used StructureMap w/ MonoRail, just fine.  When you&#8217;re back in town, I can show you what we came up with.</p>
<p>@Ayende</p>
<p>Ha, that was *supposed* to be a joke.  I had a colleague that would bring IServiceProvider up constantly as some kind of locator panacea.  I think he works at Arby&#8217;s now&#8230;</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4377">
                    <div id="dsq-comment-header-4377" class="dsq-comment-header">
                        <cite id="dsq-cite-4377">
                                <span id="dsq-author-user-4377">Jeremy Gray</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4377" class="dsq-comment-body">
                        <div id="dsq-comment-message-4377" class="dsq-comment-message"><p>Thanks for taking notice of the session!</p>
<p>The session started out small, with just three of us, and finished with seven or eight. We didn&#8217;t have anyone on-hand with direct experience with developing a framework with this kind of IoC dependency-and-yet-abstraction, so the core nugget for the session was reasonably addressed* and out of the way relatively early. That did, however, afford us the opportunity to expand the discussions out into a number of interesting directions more or less related to the original subject, in the end touching on everything from AOP to introducing IoC to teams to selling TDD and BDD to management above and team members below.</p>
<p>You can check out my rough notes from the session, written up from memory during the two sessions since the IoC session this morning, here:</p>
<p><a href="http://www.altnetpedia.com/Calgary200808FrameworkIoC.ashx" rel="nofollow">http://www.altnetpedia.com/Calgary200808FrameworkIoC.ashx</a></p>
<p>If anyone has any comments or questions, I&#8217;ll try to keep an eye on this post for a while, but if I miss anything feel free to mail me at <a href="mailto:jeremy@jeremygray.ca">jeremy@jeremygray.ca</a>.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4378">
                    <div id="dsq-comment-header-4378" class="dsq-comment-header">
                        <cite id="dsq-cite-4378">
                                <span id="dsq-author-user-4378">Jeremy Gray</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4378" class="dsq-comment-body">
                        <div id="dsq-comment-message-4378" class="dsq-comment-message"><p>* As for addressing the core subject during the session, the lowest common denominator (at least, the one that this framework needs) is captured in the notes (I think <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' />  but summarized thusly:<br />
- Service Locator, with support for resolution of both default and named instances of a given type<br />
- ctor DI with auto-wiring<br />
- a convention-based scanner, either built in or created while integrating the container with the application framework, that supports the conventions we will define. (It will be a basic pattern along the lines of &#8220;If IFoo refines IComponent, a discovered class Foo that implements IFoo is registered as the default implementation of IFoo, where any IFoo-implementing XFoo, YFoo, etc. are registered as named IFoo implementations called &#8220;X&#8221;, &#8220;Y&#8221;, etc. respectively.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4379">
                    <div id="dsq-comment-header-4379" class="dsq-comment-header">
                        <cite id="dsq-cite-4379">
    http://haacked.com/                            <span id="dsq-author-user-4379">Haacked</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4379" class="dsq-comment-body">
                        <div id="dsq-comment-message-4379" class="dsq-comment-message"><p>Shouldn&#8217;t at least one of those signatures be<br />
object GetInstance(Type t, string name);</p>
<p>There are many situations when I don&#8217;t know the type at compile time. Also, we might need&#8230;</p>
<p>object GetInstance(string name)? </p>
<p>For instance, when doing interop with a DLR language, I might not have a type *at all* that I can pass.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4380">
                    <div id="dsq-comment-header-4380" class="dsq-comment-header">
                        <cite id="dsq-cite-4380">
                                <span id="dsq-author-user-4380">Jeremy Gray</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4380" class="dsq-comment-body">
                        <div id="dsq-comment-message-4380" class="dsq-comment-message"><p>@Haacked &#8211; We do need a get that is by some kind of name key, and that one is already the list I posted as &#8220;Service Locator, with support for resolution of both default and named instances&#8230;&#8221;</p>
<p>As for passing the type as an argument, I&#8217;m not entirely against your suggestion but do really wonder how it is you would expect to interact with the located service if you didn&#8217;t have at least know some type information available. I tend to work entirely in static typing territory, however, so I would certainly understand that the requirements over in dynamic territory might be more than a bit different. <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4381">
                    <div id="dsq-comment-header-4381" class="dsq-comment-header">
                        <cite id="dsq-cite-4381">
    http://chadmyers.lostechies.com                            <span id="dsq-author-user-4381">Chad Myers</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4381" class="dsq-comment-body">
                        <div id="dsq-comment-message-4381" class="dsq-comment-message"><p>@Jeremy M, Jeremy G, et al:</p>
<p>I would push strongly for the whole &#8220;if you follow DI seriously, you won&#8217;t need service locator stuff&#8221; </p>
<p>At least in Fluent NHibernate, the ObjectFactory.GetInstance<> calls were all unnecessary and served only to keep some of the c&#8217;tors cleaner for speedier development and use (primarily for testing utility stuff where DIP may not have been as important).</p>
<p>As soon as we inverted all the dependencies, pulling StructureMap out was a breeze.</p>
<p>Likewise, for ASP.NET MVC, all the *Context classes can be done away with easily or with minor work.</p>
<p>Locating the controller would be tricky without service location, but I think I&#8217;d rather just have an IControllerLocator implementation registered in the cloud rather than the current mechanism of subclassing and overriding methods.</p>
<p>I&#8217;d rather ASP.NET MVC say: &#8220;You must have implementations of the following 10 interfaces registered in the container cloud in order for dependency injection to work&#8221;. By default, ASP.NET might use Unity, or even a static container of some sort that has everything hard coded.</p>
<p>MVCContrib could ship with a standard StructrueMap Registry files, Windsor Facilities (or whatever the equivalent is) and whatever the Ninject and Unity equivalents are.</p>
<p>These Registries/Facilities/etc would be pre-configured with all the required ASP.NET MVC dependencies.</p>
<p>If @Haacked/Gu/MSFT were serious about this and interested, I&#8217;d be willing to do a spike test on this to prove it but I won&#8217;t waste my time if it&#8217;s not in the cards for MSFT to consider.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4382">
                    <div id="dsq-comment-header-4382" class="dsq-comment-header">
                        <cite id="dsq-cite-4382">
    http://udidahan.weblogs.us                            <span id="dsq-author-user-4382">Udi Dahan: The Software Simplist</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4382" class="dsq-comment-body">
                        <div id="dsq-comment-message-4382" class="dsq-comment-message"><p>I know that nServiceBus has an abstract over a container (IBuilder) and then an adapter to Spring and Windsor.</p>
<p>I think that in the Rhino Repository there is something similar.</p>
<p>I&#8217;d suggest that, similar to Common.Logging we all just pick one and go with it. I mean, it&#8217;s one project with one interface in it.</p>
<p>And to Chad, opening up new windows in a smart client does require service locator.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4383">
                    <div id="dsq-comment-header-4383" class="dsq-comment-header">
                        <cite id="dsq-cite-4383">
                                <span id="dsq-author-user-4383">Jeremy Gray</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4383" class="dsq-comment-body">
                        <div id="dsq-comment-message-4383" class="dsq-comment-message"><p>@Chad &#8211; I&#8217;m afraid I have to disagree.</p>
<p>First of all, at the very least one needs a way to bootstrap their way into the application and some kind of Service Locator is almost surely going to find its way in there at some point. Also, you&#8217;ll need Service Locator for those times where you need need a clean way to select, at runtime, from multiple available implementations of a service interface. Finally, there will always be times that you want access to something without the overhead of injecting it up front (e.g. cases where instantiated object count is higher but where a particular service or set of services are used through those objects less frequently.)</p>
<p>While I definitely think it is great to minimize the number of points in your application where you work with a Service Locator, there are too many scenarios where it is needed to be able to do away with it entirely.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4384">
                    <div id="dsq-comment-header-4384" class="dsq-comment-header">
                        <cite id="dsq-cite-4384">
                                <span id="dsq-author-user-4384">Jeremy Gray</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4384" class="dsq-comment-body">
                        <div id="dsq-comment-message-4384" class="dsq-comment-message"><p>@Chad again &#8211; to be clear, I am in general agreement with the rest of your comment. <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4385">
                    <div id="dsq-comment-header-4385" class="dsq-comment-header">
                        <cite id="dsq-cite-4385">
    http://aussiebloke.blogspot.com                            <span id="dsq-author-user-4385">Stuart Carnie</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4385" class="dsq-comment-body">
                        <div id="dsq-comment-message-4385" class="dsq-comment-message"><p>I think it&#8217;s great that we standardise a basic interface for an IoC container; however I do have a couple of points.</p>
<p>1. I second the need for the following non-generic equivalents:</p>
<p>object GetInstance(Type t)<br />
object GetInstance(Type t, string name)<br />
object GetAllInstances(Type t)</p>
<p>2. What are the semantics for GetAllInstances<t>()?  Does it return all components registered as &#8216;T&#8217; or all components that are a subclass of &#8216;T&#8221; or implement &#8216;T&#8217; (if T is an interface)?  I think it needs to be well-defined, or it may not make it that easy to plug in different containers.</p>
<p>3. I think it is worth considering exposing a minimum set of Register* methods.  Example:</p>
<p>I&#8217;m writing a simple command-line utility that uses the IoC container interface, and based on certain command-line options, allows me to configure which implementation of the INotificationService is used.  I want to programatically register either EmailNotification or ConsoleNotification with the container depending on the option specified.  I also don&#8217;t want to have a separate / external configuration file with my utility.</p>
<p>4. Attributes&#8230;  I know this is a point of contention, and many will argue they do not want to litter their objects with [Dependency], etc; however, to standardize on a few might be worth considering.  They allow the developer to declare their intent in the same code as the class, making it easier to understand the external dependencies from the perspective of a 3rd party.</t></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4386">
                    <div id="dsq-comment-header-4386" class="dsq-comment-header">
                        <cite id="dsq-cite-4386">
    http://haacked.com/                            <span id="dsq-author-user-4386">Haacked</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4386" class="dsq-comment-body">
                        <div id="dsq-comment-message-4386" class="dsq-comment-message"><p>@Jeremy in a dynamic scenario, I might duck-type the returned object to a type I do know about. I can&#8217;t statically pass the type I know about because the object I want doesn&#8217;t implement it.</p>
<p>Or, I might have information about the type I want from somewhere else and want to call methods on it dynamically (for example, if I pass the object to an IronRuby layer and call it from there.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4387">
                    <div id="dsq-comment-header-4387" class="dsq-comment-header">
                        <cite id="dsq-cite-4387">
                                <span id="dsq-author-user-4387">Jeremy Gray</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4387" class="dsq-comment-body">
                        <div id="dsq-comment-message-4387" class="dsq-comment-message"><p>@Haacked &#8211; I hear ya. Exposing both flavors is completely sensible.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4388">
                    <div id="dsq-comment-header-4388" class="dsq-comment-header">
                        <cite id="dsq-cite-4388">
                                <span id="dsq-author-user-4388">Greg M</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4388" class="dsq-comment-body">
                        <div id="dsq-comment-message-4388" class="dsq-comment-message"><p>&#8220;As long as we&#8217;re going to work in static typed languages, it&#8217;s a major advantage to achieve extensibility and pluggability by utilizing an existing Inversion of Control container. &#8221;</p>
<p>Is it really static-typed languages that demand containers for IOC? Isn&#8217;t it just languages without first-class/higher-order functions?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4389">
                    <div id="dsq-comment-header-4389" class="dsq-comment-header">
                        <cite id="dsq-cite-4389">
    http://kohari.org/                            <span id="dsq-author-user-4389">Nate Kohari</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4389" class="dsq-comment-body">
                        <div id="dsq-comment-message-4389" class="dsq-comment-message"><p>Phil:</p>
<p>I understand what you&#8217;re talking about re: the DLR and GetInstance(string), but I don&#8217;t know if it has an actual implementation in any of the popular DI frameworks. I know for certain that Ninject wouldn&#8217;t know the first thing about how to resolve that, since it doesn&#8217;t use string keys in the first place. <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>I&#8217;m willing to add functionality to Ninject to support this abstraction layer, but I think we should just focus on making it the lowest common denominator. Then again, if Ninject is the only framework that doesn&#8217;t support it, I&#8217;ll bring it up to par. <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4390">
                    <div id="dsq-comment-header-4390" class="dsq-comment-header">
                        <cite id="dsq-cite-4390">
                                <span id="dsq-author-user-4390">Daniel Fernandes</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4390" class="dsq-comment-body">
                        <div id="dsq-comment-message-4390" class="dsq-comment-message"><p>Rather than agreeing on a common base interface wouldn&#8217;t be better instead of agreeing on a common fluent IoC API containing enough extensibiliy points so that we can cater for all situations ?</p>
<p>WhenResolvingType<ifoo>().ResolveWith<foo>().AsSingleton();<br />
WhenResolvingType<ibar>().ResolveWith<bar>().WhenCallingAssemblyIs(assembly)..<br />
etc etc</p>
<p>I have probably absolutely no idea as to what I am talking about (honest) but I don&#8217;t think Jeremy&#8217;s approach to agree on a very basic IoC interface will allow us to go anywhere (no offense!).</bar></ibar></foo></ifoo></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4391">
                    <div id="dsq-comment-header-4391" class="dsq-comment-header">
                        <cite id="dsq-cite-4391">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-4391">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4391" class="dsq-comment-body">
                        <div id="dsq-comment-message-4391" class="dsq-comment-message"><p>@Daniel,</p>
<p>I couldn&#8217;t disagree more, and I argued a long time with the Prism guys about doing just that.</p>
<p>Going with a least common denominator approach for service location is low hanging fruit and would provide enough swappability for the framework things we mentioned above.  After configuration time the only things you generally use are the 2-3 &#8220;give me this&#8221; methods.</p>
<p>Coming up with a least common denominator approach for registering services effectively castrates all of the IoC containers, because this is where all of them have individual capabilities that set them apart.  </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4392">
                    <div id="dsq-comment-header-4392" class="dsq-comment-header">
                        <cite id="dsq-cite-4392">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-4392">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4392" class="dsq-comment-body">
                        <div id="dsq-comment-message-4392" class="dsq-comment-message"><p>@Nate &#038; @Haacked,</p>
<p>StructureMap wouldn&#8217;t allow that either (always have to know the service type upfront), but you can do that very thing with Spring.Net.  I always thought it was a design flaw, but hey, whatever floats your boat.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4393">
                    <div id="dsq-comment-header-4393" class="dsq-comment-header">
                        <cite id="dsq-cite-4393">
    http://serialseb.blogspot.com                            <span id="dsq-author-user-4393">Sebastien Lambla</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4393" class="dsq-comment-body">
                        <div id="dsq-comment-message-4393" class="dsq-comment-message"><p>Jeremy,</p>
<p>how do you handle the case where your framework requires registration of components for its internal use?</p>
<p>I automatically enroll all the default components of OpenRasta when the framework is loaded, so that whatever IoC is in use they&#8217;ll receive a registration for those components to resolve them when needed. The behavior is transparent to the user but lets them override this at any time.</p>
<p>I&#8217;ve found that for my needs, covering registration was done through a couple of methods that were indeed the lowest common denominator of all containers, but that is only used for my framework. Users are still encouraged to do their registrations using whatever container-specific API they are used to.</p>
<p>Is that so different from the resolve mechanism for framework writers?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4394">
                    <div id="dsq-comment-header-4394" class="dsq-comment-header">
                        <cite id="dsq-cite-4394">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-4394">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4394" class="dsq-comment-body">
                        <div id="dsq-comment-message-4394" class="dsq-comment-message"><p>Sebastien,</p>
<p>I&#8217;d make the registration abstraction be something coarse grained like:</p>
<p>IBootstrapper.Bootstrap() and let users use the native registration.  </p>
<p>In your solution you&#8217;re barely scratching the surface of what the tools provide for registration capabilities.  I personally wouldn&#8217;t be willing to accept that as a consumer of your framework.</p>
<p>I&#8217;m not that wild about the &#8220;some configuration over here in form A&#8221; and some over there in form B.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4395">
                    <div id="dsq-comment-header-4395" class="dsq-comment-header">
                        <cite id="dsq-cite-4395">
                                <span id="dsq-author-user-4395">Jeremy Gray</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4395" class="dsq-comment-body">
                        <div id="dsq-comment-message-4395" class="dsq-comment-message"><p>@Jeremy &#038; Sebastien &#8211; In my specific case, I expect we&#8217;ll be imposing convention scanner requirements instead of required registration mechanism support but both options are certainly be appropriate in different situations.</p>
<p>This is why I&#8217;m tempted to agree that the absolute lowest common denominator is on the instance retrieval side of things and would not include any particular style or set of registration support requirements. This would still leave the possibility of each framework implementer layering on an additional set of requirements around registration (and/or convention scanner) functionality depending on the needs and style of the framework (and consuming applications) in question.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4396">
                    <div id="dsq-comment-header-4396" class="dsq-comment-header">
                        <cite id="dsq-cite-4396">
                                <span id="dsq-author-user-4396">Daniel Fernandes</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4396" class="dsq-comment-body">
                        <div id="dsq-comment-message-4396" class="dsq-comment-message"><p>Jeremy D: My mistake, I misunderstood your post which, for a good reason, doesn&#8217;t mention registration.<br />
Having had nasty surprises with the multiple overloads of component registration with CastleWindsor I was here hoping for something better.<br />
Next time I will use StructureMap I swear.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4397">
                    <div id="dsq-comment-header-4397" class="dsq-comment-header">
                        <cite id="dsq-cite-4397">
                                <span id="dsq-author-user-4397">Tim Scott</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4397" class="dsq-comment-body">
                        <div id="dsq-comment-message-4397" class="dsq-comment-message"><p>It might help your cause that the author of Windsor has joined the MEF team.  <a href="http://hammett.castleproject.org/?p=312" rel="nofollow">http://hammett.castleproject.org/?p=312</a></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4398">
                    <div id="dsq-comment-header-4398" class="dsq-comment-header">
                        <cite id="dsq-cite-4398">
    http://www.codebetter.com/blogs/glenn.block/                            <span id="dsq-author-user-4398">Glenn Block</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4398" class="dsq-comment-body">
                        <div id="dsq-comment-message-4398" class="dsq-comment-message"><p>No petitions! Just to update the world, we&#8217;re listening and talking about options.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4399">
                    <div id="dsq-comment-header-4399" class="dsq-comment-header">
                        <cite id="dsq-cite-4399">
    http://www.codebetter.com/blogs/glenn.block/                            <span id="dsq-author-user-4399">Glenn Block</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4399" class="dsq-comment-body">
                        <div id="dsq-comment-message-4399" class="dsq-comment-message"><p>I forget to say, i think this is a great idea! From a naming perspective I like IServiceLocator in that there is nothing particularly DIish about the suggested interface. The main thing is providing a clean pluggable mechanism for accessing services. If that mechanism happens to be a DI container great, but as a user, why do I care.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4400">
                    <div id="dsq-comment-header-4400" class="dsq-comment-header">
                        <cite id="dsq-cite-4400">
    http://wekempf.spaces.live.com                            <span id="dsq-author-user-4400">wekempf</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4400" class="dsq-comment-body">
                        <div id="dsq-comment-message-4400" class="dsq-comment-message"><p>I don&#8217;t believe the interface should use generics AT ALL.  As pointed out, there&#8217;s times you must supply the type at runtime, not compile time.  So you must have versions that take a Type parameter.  So why not have both?  Because it&#8217;s not a very DRY solution.  Far better to leave the generic versions out of the interface and provide extension methods for this.  I&#8217;d also consider using IServiceProvider here.</p>
<p>public interface INamedServiceProvider : IServiceProvider<br />
{<br />
   GetService(Type type, string name);<br />
   GetAllIServices(string name);<br />
}</p>
<p>public static class ServiceProviderExtensions<br />
{<br />
   public static T GetService<t>(this IServiceProvider self)<br />
   {<br />
      return (T)self.GetService(typeof(T));<br />
   }<br />
   // not showing all extensions for brevity<br />
}</t></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4401">
                    <div id="dsq-comment-header-4401" class="dsq-comment-header">
                        <cite id="dsq-cite-4401">
    http://plaureano.blogspot.com                            <span id="dsq-author-user-4401">Philip Laureano</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4401" class="dsq-comment-body">
                        <div id="dsq-comment-message-4401" class="dsq-comment-message"><p>Hi Jeremy, I couldn&#8217;t agree more myself! I&#8217;m currently in the process of rewriting LinFu&#8217;s own IoC container, so this is of a huge interest to me as well. </p>
<p>FWIW, I think the basic service locator interface should support the basic functions:</p>
<p>-Type Registration</p>
<p>-Determining whether or not the locator can instantiate the service type</p>
<p>-A GetService method of some sort that can instantiate the particular service type in question</p>
<p>I think the lowest common denominator approach would be best since no two IoC frameworks are exactly alike, and from the end user standpoint, a common service locator interface would make it easy for people to try different IoC frameworks without having to do a massive rewrite of their code.</p>
<p>It is by no means perfect, of course, but I&#8217;ll certainly agree to implementing a common interface once all the other IoC container devs agree to do the same thing.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4402">
                    <div id="dsq-comment-header-4402" class="dsq-comment-header">
                        <cite id="dsq-cite-4402">
    http://www.agilification.com                            <span id="dsq-author-user-4402">Jeff Doolittle</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4402" class="dsq-comment-body">
                        <div id="dsq-comment-message-4402" class="dsq-comment-message"><p>You said: &#8220;I owe P&#038;P a reference implementation of Prism with StructureMap.  I&#8217;m getting there&#8221;</p>
<p>Jeremy, I need to either get what you have, or build this myself.  I&#8217;d much rather get what you have!  Any idea when this may be completed?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4403">
                    <div id="dsq-comment-header-4403" class="dsq-comment-header">
                        <cite id="dsq-cite-4403">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-4403">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4403" class="dsq-comment-body">
                        <div id="dsq-comment-message-4403" class="dsq-comment-message"><p>@Jeff,</p>
<p>David Mohundro is doing one, but I don&#8217;t know where it&#8217;s at.  I might do something January-ish for my own purposes that I will release.</p>
<p>I betcha that my recommendation is going to end up being to bypass the Prism bootstrapping a bit though.</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/jeremymiller/2008/08/16/it-s-time-for-ioc-container-detente/';
    var disqus_identifier = '569 /blogs/jeremy.miller/archive/2008/08/16/it-s-time-for-ioc-container-detente.aspx';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'theshadetreedeveloper';
    var disqus_title = "It&#8217;s time for IoC Container Detente";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=569');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/codebetter.com\/jeremymiller\/2008\/08\/16\/it-s-time-for-ioc-container-detente\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">The Shade Tree Developer</h3>Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.
</li><li id="text-3" class="widget-container widget_text"><h3 class="widget-title">Upcoming posts&#8230;</h3>			<div class="textwidget"><p>How I'm using StoryTeller to test FubuMVC<br />
Building a "Lookup" html convention w/ FubuMVC<br />
FubuMVC's Configuration Model "Special Sauce"<br />
Managing Script dependencies with FubuMVC<br />
Authorization and FubuMVC<br />
Continuations<br />
Composing Views with FubuMVC<br />
Extensible Model Binding with FubuMVC<br />
Introducing "Bottles"<br />
Modular Packaging with FubuMVC<br />
Self-Installing Apps w/ FubuMVC<br />
Routing and Behavioral Conventions with FubuMVC<br />
What Should I Learn?</p>
</div>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://twitter.com/jeremydmiller">Follow me on Twitter</a></li>
<li><a href="https://github.com/DarthFubuMVC/fubumvc" target="_blank">FubuMVC on GitHub</a></li>
<li><a href="https://github.com/jeremydmiller">My GitHub Page</a></li>
<li><a href="https://github.com/storyteller/storyteller">StoryTeller on GitHub</a></li>
<li><a href="https://github.com/structuremap/structuremap">StructureMap on GitHub</a></li>

	</ul>
</li>
		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
					<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/jeremymiller/2012/01/' title='January 2012'>January 2012</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/09/' title='September 2011'>September 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/07/' title='July 2011'>July 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/06/' title='June 2011'>June 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/05/' title='May 2011'>May 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/04/' title='April 2011'>April 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/03/' title='March 2011'>March 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/08/' title='August 2010'>August 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/07/' title='July 2010'>July 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/06/' title='June 2010'>June 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/05/' title='May 2010'>May 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/03/' title='March 2010'>March 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/02/' title='February 2010'>February 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/01/' title='January 2010'>January 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/06/' title='June 2009'>June 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/09/' title='September 2008'>September 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/08/' title='August 2008'>August 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/07/' title='July 2008'>July 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/06/' title='June 2008'>June 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/05/' title='May 2008'>May 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/04/' title='April 2008'>April 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/03/' title='March 2008'>March 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/02/' title='February 2008'>February 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/01/' title='January 2008'>January 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/12/' title='December 2007'>December 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/11/' title='November 2007'>November 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/10/' title='October 2007'>October 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/09/' title='September 2007'>September 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/08/' title='August 2007'>August 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/07/' title='July 2007'>July 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/06/' title='June 2007'>June 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/05/' title='May 2007'>May 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/04/' title='April 2007'>April 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/03/' title='March 2007'>March 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/02/' title='February 2007'>February 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/01/' title='January 2007'>January 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/12/' title='December 2006'>December 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/11/' title='November 2006'>November 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/10/' title='October 2006'>October 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/09/' title='September 2006'>September 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/08/' title='August 2006'>August 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/07/' title='July 2006'>July 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/06/' title='June 2006'>June 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/05/' title='May 2006'>May 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/04/' title='April 2006'>April 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/03/' title='March 2006'>March 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/02/' title='February 2006'>February 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/01/' title='January 2006'>January 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/12/' title='December 2005'>December 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/11/' title='November 2005'>November 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/10/' title='October 2005'>October 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/09/' title='September 2005'>September 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/08/' title='August 2005'>August 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/07/' title='July 2005'>July 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/06/' title='June 2005'>June 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/05/' title='May 2005'>May 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/04/' title='April 2005'>April 2005</a></li>
		</ul>
</li><li id="recent-comments-3" class="widget-container widget_recent_comments"><h3 class="widget-title">What others have said&#8230;</h3><ul id="recentcomments"><li class="recentcomments"><a href='http://zacherygaines.webstarts.com/' rel='external nofollow' class='url'>KadeemFulton</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7523">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments"><a href='http://jonsonbettly.wordpress.com/' rel='external nofollow' class='url'>ScottWorkman</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7517">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments">haihao on <a href="http://codebetter.com/jeremymiller/2008/10/18/profile-s-in-structuremap/#comment-7513">Profile’s in StructureMap</a></li><li class="recentcomments">neon on <a href="http://codebetter.com/jeremymiller/2008/09/10/using-the-structuremap-container-independently-of-objectfactory/#comment-7512">Using the StructureMap Container independently of ObjectFactory</a></li><li class="recentcomments">weaponfan on <a href="http://codebetter.com/jeremymiller/2008/09/25/using-structuremap-2-5-to-inject-your-entity-objects-into-services/#comment-7511">Using StructureMap 2.5 to inject your Entity objects into Services</a></li></ul></li>				</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.526 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 16:39:26 -->
<!-- super cache -->