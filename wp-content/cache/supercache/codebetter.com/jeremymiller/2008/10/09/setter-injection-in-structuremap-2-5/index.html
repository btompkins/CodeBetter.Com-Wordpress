<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Setter Injection in StructureMap 2.5 | Jeremy D. Miller</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/jeremymiller/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/jeremymiller/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='If the .Net BCL is drywall, Extension Methods are spackle' href='http://codebetter.com/jeremymiller/2008/10/07/if-the-net-bcl-is-drywall-extension-methods-are-spackle/' />
<link rel='next' title='StoryTeller is Dead. Long live StoryTeller!' href='http://codebetter.com/jeremymiller/2008/10/11/storyteller-is-dead-long-live-storyteller/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/jeremymiller/?p=593' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,145] -->
<link rel="canonical" href="http://codebetter.com/jeremymiller/2008/10/09/setter-injection-in-structuremap-2-5/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-593" class="post-593 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Setter Injection in StructureMap 2.5</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">Jeremy Miller</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/jeremymiller/2008/10/09/setter-injection-in-structuremap-2-5/" title="3:26 am" rel="bookmark"><span class="entry-date">October 9, 2008</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/jeremymiller/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/jeremymiller/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>I know this isn’t the most exciting post I’ve ever written, but I’m blogging the new StructureMap 2.5 documentation as I create it.&#160; I’ve done quite a bit of work in StructureMap 2.5 to extend the support for Setter Injection and it’s worthy of some attention for new and old StructureMap users.&#160; *I* still think that Setter Injection is sub-optimal, but there are times when it’s necessary.&#160; I’ll make a separate post later on how some of the newer setter injection support can be used to create an equivalent to Windsor’s logging facility.</p>
<p>&#160;</p>
<h1>Setter Injection</h1>
<p>StructureMap supports two forms of Dependency Injection:</p>
<ol>
<li>Constructor Injection &#8212; &quot;Pushing&quot; dependencies into a concrete class through constructor arguments. </li>
<li>Setter Injection &#8212; &quot;Pushing&quot; dependencies into a concrete class through public properties.&#160; The &quot;Setter&quot; nomenclature is taken from Java where properties are getSomething() and setSomething(value). </li>
</ol>
<p>You can certainly mix and match Setter Injection with Constructor Injection on the same classes, but Constructor Injection will always be used (except for empty constructors) and Setter Injection has to be explicitly configured.&#160; See <a href="http://martinfowler.com/articles/injection.html#ConstructorVersusSetterInjection">Martin Fowler&#8217;s discussion on Constructor versus Setter Injection</a> for more information.&#160; My feeling has always been that Constructor Injection is preferrable from a design perspective.&#160; When you exclusively use Constructor Injection, the code is somewhat more self-documenting because the constructor arguments will clearly delineate the dependencies of a concrete class.&#160; It&#8217;s also important to think about the constructor method of a class being a contract.&#160; If you satisfy all of the arguments of the constructor method, the class should be ready to function.&#160; Relying on Setter Injection can make a class harder to use because it isn&#8217;t always obvious which setters need to be created externally to use the class.&#160; Of course, not using any form of Dependency Injection can be the worst answer because then you have no idea what it really takes to bootstrap the service. </p>
<p>Despite my personal distaste for Setter Injection, I gave into user demand and greatly increased StructureMap&#8217;s support for Setter Injection &#8212; and promptly found that support to be more useful than I thought it would be.</p>
<h2>&#160;</h2>
<h2>Using Setter Injection</h2>
<p>Setter injection is a pattern of &quot;injecting&quot; dependencies via public properties.&#160; Setter Injection with StructureMap is somewhat a second class citizen, but this is partially by design.&#160; My strong recommendation is to use constructor injection for all code that you control, and save setter injection strictly for classes from external libraries where you do not have any control.&#160; As a summary, these are the Setter Injection features that are described in detail below:</p>
<ul>
<li>By default, all public &quot;Setters&quot; are optional, meaning that these setters will only be set if they are explicitly configured for a specific Instance </li>
<li>StructureMap can be directed to &quot;auto wire&quot; a property for a given Instance </li>
<li>Setters can be made mandatory by decorating the property with the [SetterProperty] attribute </li>
<li>Any type that StructureMap can use in constructor arguments can be used for setter properties </li>
<li>StructureMap can be directed to automatically inject the default value for any property of a given type.&#160; This was added primarily for &quot;optional&quot; dependencies like logging. </li>
<li>The StructureMap diagnostic tools will check for missing Setter values </li>
</ul>
<p>&#160;</p>
<h4><strong>Configuring Primitive Setter Properties</strong></h4>
<p>Ok, now that you&#8217;ve read that I don&#8217;t believe that setter injection is a good idea, but you&#8217;re bound and determined to use it anyway, let&#8217;s talk about how to do it with StructureMap.&#160; Let&#8217;s say we have this class with a string property called &quot;Name&quot;:</p>
<div style="border-right: black thin solid;border-top: black thin solid;font-size: 10pt;background: white;border-left: black thin solid;color: black;border-bottom: black thin solid;font-family: courier new">
<p style="margin: 0px">&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">OptionalSetterTarget</span></p>
<p style="margin: 0px">&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">string</span> Name { <span style="color: blue">get</span>; <span style="color: blue">set</span>;; }</p>
<p style="margin: 0px">&#160;&#160;&#160; }</p>
</p></div>
<p> <!--EndFragment-->
<p>I can specify the value of the &quot;Name&quot; property in the configuration API like this:</p>
<div style="border-right: black thin solid;border-top: black thin solid;font-size: 10pt;background: white;border-left: black thin solid;color: black;border-bottom: black thin solid;font-family: courier new">
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; [<span style="color: #2b91af">Test</span>]/p&gt; </p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">void</span> optional_setter_injection_with_string()</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">var</span> container = <span style="color: blue">new</span> <span style="color: #2b91af">Container</span>(r =&gt;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: green">// The &quot;Name&quot; property is not configured for this instance</span></p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; r.InstanceOf&lt;<span style="color: #2b91af">OptionalSetterTarget</span>&gt;().Is.OfConcreteType&lt;<span style="color: #2b91af">OptionalSetterTarget</span>&gt;().WithName(<span style="color: #a31515">&quot;NoName&quot;</span>);</p>
<p style="margin: 0px">&#160;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: green">// The &quot;Name&quot; property is configured for this instance</span></p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; r.ForConcreteType&lt;<span style="color: #2b91af">OptionalSetterTarget</span>&gt;().Configure</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .WithProperty(<span style="color: #a31515">&quot;Name&quot;</span>).EqualTo(<span style="color: #a31515">&quot;Jeremy&quot;</span>);</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; });</p>
<p style="margin: 0px">&#160;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; container.GetInstance&lt;<span style="color: #2b91af">OptionalSetterTarget</span>&gt;().Name.ShouldEqual(<span style="color: #a31515">&quot;Jeremy&quot;</span>);</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; container.GetInstance&lt;<span style="color: #2b91af">OptionalSetterTarget</span>&gt;(<span style="color: #a31515">&quot;NoName&quot;</span>).Name.ShouldBeNull();</p>
<p style="margin: 0px">&amp;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
</p></div>
<p> <!--EndFragment-->
<p>In the case above I specified the value for the &quot;Name&quot; setter directly by embedding the property value directly with the WithProperty(&quot;Name&quot;).EqualTo(&quot;Jeremy&quot;).&#160; You could also retrieve the value for the property from the AppSettings portion of a .Net application config file like this with the WithProperty(&quot;Name&quot;).EqualToAppSetting(&quot;name&quot;) syntax.</p>
<div style="border-right: black thin solid;border-top: black thin solid;font-size: 10pt;background: white;border-left: black thin solid;color: black;border-bottom: black thin solid;font-family: courier new">
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">var</span> container = <span style="color: blue">new</span> <span style="color: #2b91af">Container</span>(r =&gt;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; r.ForConcreteType&lt;<span style="color: #2b91af">OptionalSetterTarget</span>&gt;().Configure</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .WithProperty(<span style="color: #a31515">&quot;Name&quot;</span>).EqualToAppSetting(<span style="color: #a31515">&quot;name&quot;</span>);</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; });</p>
</p></div>
<p> <!--EndFragment-->
<p>In both of the cases above the property name is designated by a string.&#160; Using strings to designate property names is always going to be somewhat problematic, so there&#8217;s a new option in 2.5 to specify property values with a Lambda expression (inspired by <a href="http://www.udidahan.com/2008/06/13/external-value-configuration-with-ioc/">this post from Udi Dahan</a>) using an Action&lt;T&gt;.</p>
<div style="border-right: black thin solid;border-top: black thin solid;font-size: 10pt;background: white;border-left: black thin solid;color: black;border-bottom: black thin solid;font-family: courier new">
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; r.ForConcreteType&lt;<span style="color: #2b91af">OptionalSetterTarget</span>&gt;().Configure</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .SetProperty(x =&gt; x.Name = <span style="color: #a31515">&quot;Jeremy&quot;</span>);</p>
</p></div>
<p> <!--EndFragment-->
<p>The value of the Lamdba expression mechanism is that it makes the configuration static-typed with all of the advantages that static typing brings.&#160; This action is executed on the object after creation.&#160; Technically, this mechanism can be used to do anything to the new object before StructureMap returns the new object to the code that requested it.&#160; There is no limitation to the number of Action&lt;T&gt; handlers you can use. </p>
<p>&#160;</p>
<h4><strong>Configuring Setter Dependencies</strong></h4>
<p>Let&#8217;s say you have a class that has a public property for a singular dependency and another public property for an array of dependencies.</p>
<div style="border-right: black thin solid;border-top: black thin solid;font-size: 10pt;background: white;border-left: black thin solid;color: black;border-bottom: black thin solid;font-family: courier new">
<p style="margin: 0px">&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">ClassWithDependency</span></p>
<p style="margin: 0px">&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: #2b91af">Rule</span> Rule { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: #2b91af">Rule</span>[] Rules { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&#160;&#160;&#160; }</p>
</p></div>
<p> <!--EndFragment-->
<p>I can explicitly configure what gets injected into the &quot;Rule&quot; property for a specific Instance of ClassWithDependency like this with the .SetterDependency&lt;T&gt;() method that will look for the first public setter of type T:</p>
<div style="border-right: black thin solid;border-top: black thin solid;font-size: 10pt;background: white;border-left: black thin solid;color: black;border-bottom: black thin solid;font-family: courier new">
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; r.ForConcreteType&lt;<span style="color: #2b91af">ClassWithDependency</span>&gt;().Configure</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .SetterDependency&lt;<span style="color: #2b91af">Rule</span>&gt;().Is(<span style="color: blue">new</span> <span style="color: #2b91af">ColorRule</span>(<span style="color: #a31515">&quot;Red&quot;</span>));</p>
</p></div>
<p> <!--EndFragment-->
<p>or for cases where a class may have multiple public setters of the same type, you can specify the exact property with an Expression (.SetterDependency&lt;T&gt;( expression ) ):</p>
<div style="border-right: black thin solid;border-top: black thin solid;font-size: 10pt;background: white;border-left: black thin solid;color: black;border-bottom: black thin solid;font-family: courier new">
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">var</span> container = <span style="color: blue">new</span> <span style="color: #2b91af">Container</span>(r =&gt;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; r.ForConcreteType&lt;<span style="color: #2b91af">ClassWithDependency</span>&gt;().Configure</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .SetterDependency&lt;<span style="color: #2b91af">Rule</span>&gt;(x =&gt; x.Rule).Is(<span style="color: blue">new</span> <span style="color: #2b91af">ColorRule</span>(<span style="color: #a31515">&quot;Red&quot;</span>));</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; });</p>
</p></div>
<p> <!--EndFragment-->
<p>&#160;</p>
<h4><strong>&quot;Auto Filling&quot; a Setter Dependency</strong></h4>
<p>Sometimes all you want to do is to simply say &quot;fill in this property for me.&quot;&#160; That&#8217;s what the code below does for the &quot;Rule&quot; property with the .SetterDependency&lt;Rule&gt;().IsTheDefault() syntax:</p>
<div style="border-right: black thin solid;border-top: black thin solid;font-size: 10pt;background: white;border-left: black thin solid;color: black;border-bottom: black thin solid;font-family: courier new">
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">var</span> container = <span style="color: blue">new</span> <span style="color: #2b91af">Container</span>(r =&gt;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; r.ForConcreteType&lt;<span style="color: #2b91af">ClassWithDependency</span>&gt;().Configure</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .SetterDependency&lt;<span style="color: #2b91af">Rule</span>&gt;().IsTheDefault();</p>
<p style="margin: 0px">&#160;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; r.ForRequestedType&lt;<span style="color: #2b91af">Rule</span>&gt;().TheDefault.Is.Object(<span style="color: blue">new</span> <span style="color: #2b91af">ColorRule</span>(<span style="color: #a31515">&quot;Green&quot;</span>));</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; });</p>
<p>&#160;&#160;&#160; </div>
<p> <!--EndFragment-->
</p>
</p>
</p>
</p>
</p>
</p>
</p>
</p>
<p>For certain dependency types you might want StructureMap to automatically fill any public property of that type.&#160; The first usage that comes to mind is logging.&#160; Let&#8217;s say that we have an interface for our logging support called ILogger.&#160; We can specify that any concrete class that has a public property for the ILogger type will be filled in construction with code like this (FillAllPropertiesOfType&lt;ILogger&gt;()):</p>
<div style="border-right: black thin solid;border-top: black thin solid;font-size: 10pt;background: white;border-left: black thin solid;color: black;border-bottom: black thin solid;font-family: courier new">
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">var</span> container = <span style="color: blue">new</span> <span style="color: #2b91af">Container</span>(r =&gt;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; r.FillAllPropertiesOfType&lt;<span style="color: #2b91af">ILogger</span>&gt;().TheDefault.Is</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .ConstructedBy(context =&gt; <span style="color: blue">new</span> <span style="color: #2b91af">Logger</span>(context.ParentType));</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; });</p>
</p></div>
<p> <!--EndFragment-->
<p>Now, if I have some classes like:</p>
<div style="border-right: black thin solid;border-top: black thin solid;font-size: 10pt;background: white;border-left: black thin solid;color: black;border-bottom: black thin solid;font-family: courier new">
<p style="margin: 0px">&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">ClassWithLogger</span></p>
<p style="margin: 0px">&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: #2b91af">ILogger</span> Logger { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&#160;&#160;&#160; }</p>
<p style="margin: 0px">&#160;</p>
<p style="margin: 0px">&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">ClassWithLogger2</span></p>
<p style="margin: 0px">&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: #2b91af">ILogger</span> Logger { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&#160;&#160;&#160; }</p>
</p></div>
<p> <!--EndFragment-->
<p>Now, when StructureMap builds new instances of these classes above the Logger properties will be filled automatically without any explicit configuration for either type.&#160; Here&#8217;s a sample from the unit tests that constructs objects of both ClassWithLogger and ClassWithLogger2 and verifies that the &quot;Logger&quot; property was filled for both types without any further configuration.</p>
<div style="border-right: black thin solid;border-top: black thin solid;font-size: 10pt;background: white;border-left: black thin solid;color: black;border-bottom: black thin solid;font-family: courier new">
<p style="margin: 0px">&#160;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; container.GetInstance&lt;<span style="color: #2b91af">ClassWithLogger</span>&gt;().Logger.ShouldBeOfType&lt;<span style="color: #2b91af">Logger</span>&gt;();</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; container.GetInstance&lt;<span style="color: #2b91af">ClassWithLogger2</span>&gt;().Logger.ShouldBeOfType&lt;<span style="color: #2b91af">Logger</span>&gt;();</p>
<p style="margin: 0px">&#160;</p>
</p></div>
<p> <!--EndFragment-->
<p>&#160;</p>
<p>&#160;</p>
<h4><strong>Defining Setter Properties with Attributes</strong></h4>
<h4>Just use the [StructureMap.Attributes.SetterProperty] to denote properties that need to be filled by StructureMap.&#160; Marking a property with the [SetterProperty] makes the setter mandatory.&#160; StructureMap will throw an exception if the &quot;ShouldCache&quot; property isn&#8217;t specified for the concrete type shown below.&#160; If the &quot;Provider&quot; property isn&#8217;t explicitly configured, StructureMap will use the default instance of IDataProvider for the &quot;Provider&quot; property (or throw an exception if StructureMap doesn&#8217;t know how to build the type IDataProvider). </h4>
<h4 style="font-size: 10pt;background: white;color: black;font-family: courier new">
<p style="margin: 0px">&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">Repository</span></p>
<p style="margin: 0px">&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">private</span> <span style="color: #2b91af">IDataProvider</span> _provider;</p>
<p style="margin: 0px">&#160;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: green">// Adding the SetterProperty to a setter directs</span></p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: green">// StructureMap to use this property when</span></p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: green">// constructing a Repository instance</span></p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; [<span style="color: #2b91af">SetterProperty</span>]/p&gt; </p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: #2b91af">IDataProvider</span> Provider</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">set</span></p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; _provider = <span style="color: blue">value</span>;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style="margin: 0px">&#160;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; [<span style="color: #2b91af">SetterProperty</span>]</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">bool</span> ShouldCache { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&#160;&#160;&#160; }</p>
</h4>
<p> <!--EndFragment--><br />
<h4>&#160;</h4>
<h4><strong>Defining Setter Properties in Xml</strong></h4>
<h4>Setter properties can be defined in the Xml configuration by explicitly directing StructureMap to use setter properties while building a concrete type.&#160; In the Xml, Setter configuration is done with the exact syntax as constructor arguments.&#160; For example, the &quot;Name&quot; property of the OptionalSetterTarget class shown in previous sections can be set just like a constructor argument in an Xml node:</h4>
<h4 style="border-right: black thin solid;border-top: black thin solid;font-size: 10pt;background: white;border-left: black thin solid;color: black;border-bottom: black thin solid;font-family: courier new">
<p style="margin: 0px"><span style="color: blue">&#160; &lt;</span><span style="color: #a31515">StructureMap</span><span style="color: blue"> </span><span style="color: red">MementoStyle</span><span style="color: blue">=</span>&quot;<span style="color: blue">Attribute</span>&quot;<span style="color: blue">&gt;&#160; </span></p>
<p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160; &lt;</span><span style="color: #a31515">DefaultInstance</span></p>
<p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="color: red">PluginType</span><span style="color: blue">=</span>&quot;<span style="color: blue">StructureMap.Testing.Pipeline.OptionalSetterTarget, StructureMap.Testing</span>&quot;</p>
<p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160; </span><span style="color: red">&#160; PluggedType</span><span style="color: blue">=</span>&quot;<span style="color: blue">StructureMap.Testing.Pipeline.OptionalSetterTarget, StructureMap.Testing</span>&quot;</p>
<p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160; </span><span style="color: red">&#160; Name</span><span style="color: blue">=</span>&quot;<span style="color: blue">Jeremy</span>&quot;<span style="color: blue"> /&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&#160; &lt;/</span><span style="color: #a31515">StructureMap</span><span style="color: blue">&gt;</span></p>
</h4>
<p> <!--EndFragment--><br />
<h4>&#160;</h4>
<h4>Setter properties can also be designated as mandatory setters with the &lt;Setter&gt; node in the Xml configuration.&#160; From the unit tests, I have a class called OtherGridColumn that exposes several properties:</h4>
<h4 style="font-size: 10pt;background: white;color: black;font-family: courier new">
<div style="border-right: black thin solid;border-top: black thin solid;font-size: 10pt;background: white;border-left: black thin solid;color: black;border-bottom: black thin solid;font-family: courier new">
<p style="margin: 0px">&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">OtherGridColumn</span> : <span style="color: #2b91af">IGridColumn</span></p>
<p style="margin: 0px">&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: #2b91af">IWidget</span> Widget { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&#160;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">string</span> ReadOnly</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; {</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">get</span> { <span style="color: blue">return</span> <span style="color: #a31515">&quot;whatever&quot;</span>; }</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style="margin: 0px">&#160;</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: #2b91af">FontStyleEnum</span> FontStyle { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">string</span> ColumnName { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: #2b91af">Rule</span>[] Rules { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">bool</span> WrapLines { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">bool</span> Displayed { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">public</span> <span style="color: blue">int</span> Size { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }</p>
<p style="margin: 0px">&#160;&#160;&#160; }</p>
</p></div>
<p> <!--EndFragment-->
<p style="margin: 0px">&#160;</p>
</h4>
<p> <!--EndFragment--><br />
<h4>I can direct StructureMap to make the properties on the OtherGridColumn class mandatory in a &lt;Plugin&gt; node for OtherGridColumn.&#160; This probably isn&#8217;t necessary with the new optional setter injection capabilities, but it is still valid and the equivalent of using the [SetterProperty] attribute.</h4>
</p>
<h4 style="font-size: 10pt;background: white;color: black;font-family: courier new">
<p style="margin: 0px"><span style="color: blue">&#160; &lt;</span><span style="color: #a31515">PluginFamily/span&gt;<span style="color: blue"> </span><span style="color: red">Type</span><span style="color: blue">=</span>&quot;<span style="color: blue">StructureMap.Testing.Widget5.IGridColumn</span>&quot;<span style="color: blue"> </span><span style="color: red">Assembly</span><span style="color: blue">=</span>&quot;<span style="color: blue">StructureMap.Testing.Widget5</span>&quot;<span style="color: blue"> </span><span style="color: red">DefaultKey</span><span style="color: blue">=</span>&quot;&quot;<span style="color: blue">&gt;</span></span> </p>
<p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160; &lt;</span><span style="color: #a31515">Plugin</span><span style="color: blue"> </span><span style="color: red">Assembly</span><span style="color: blue">=</span>&quot;<span style="color: blue">StructureMap.Testing.Widget5</span>&quot;<span style="color: blue"> </span><span style="color: red">Type</span><span style="color: blue">=</span>&quot;<span style="color: blue">StructureMap.Testing.Widget5.OtherGridColumn</span>&quot;<span style="color: blue"> </span><span style="color: red">ConcreteKey</span><span style="color: blue">=</span>&quot;<span style="color: blue">Other</span>&quot;<span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160; &lt;</span><span style="color: #a31515">Setter</span><span style="color: blue"> </span><span style="color: red">Name</span><span style="color: blue">=</span>&quot;<span style="color: blue">ColumnName</span>&quot;<span style="color: blue"> /&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160; &lt;</span><span style="color: #a31515">Setter</span><span style="color: blue"> </span><span style="color: red">Name</span><span style="color: blue">=</span>&quot;<span style="color: blue">FontStyle</span>&quot;<span style="color: blue"> /&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160; &lt;</span><span style="color: #a31515">Setter</span><span style="color: blue"> </span><span style="color: red">Name</span><span style="color: blue">=</span>&quot;<span style="color: blue">Rules</span>&quot;<span style="color: blue"> /&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160; &lt;</span><span style="color: #a31515">Setter</span><span style="color: blue"> </span><span style="color: red">Name</span><span style="color: blue">=</span>&quot;<span style="color: blue">Widget</span>&quot;<span style="color: blue"> /&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160; &lt;</span><span style="color: #a31515">Setter</span><span style="color: blue"> </span><span style="color: red">Name</span><span style="color: blue">=</span>&quot;<span style="color: blue">WrapLines</span>&quot;<span style="color: blue"> /&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160; &lt;/</span><span style="color: #a31515">Plugin</span><span style="color: blue">&gt;</span></p>
<p style="margin: 0px"><span style="color: blue">&#160; &lt;/</span><span style="color: #a31515">PluginFamily</span><span style="color: blue">&amp;&gt;</span></p>
</p>
<p> <!--EndFragment--></p>
<div class="shr-publisher-593"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/db65c5c5cf9f1c51e842f733892eace1?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Jeremy Miller</h2>
							Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.							<div id="author-link">
								<a href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">View all posts by Jeremy Miller &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/jeremymiller/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/jeremymiller/2008/10/09/setter-injection-in-structuremap-2-5/" title="Permalink to Setter Injection in StructureMap 2.5" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/jeremymiller/2008/10/09/setter-injection-in-structuremap-2-5/feed/" title="Comments RSS to Setter Injection in StructureMap 2.5" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-593 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/jeremymiller/2008/10/07/if-the-net-bcl-is-drywall-extension-methods-are-spackle/" rel="prev"><span class="meta-nav">&larr;</span> If the .Net BCL is drywall, Extension Methods are spackle</a></div>
					<div class="nav-next"><a href="http://codebetter.com/jeremymiller/2008/10/11/storyteller-is-dead-long-live-storyteller/" rel="next">StoryTeller is Dead. Long live StoryTeller! <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-4669">
                    <div id="dsq-comment-header-4669" class="dsq-comment-header">
                        <cite id="dsq-cite-4669">
    http://www.citizenparker.com                            <span id="dsq-author-user-4669">Scott Parker</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4669" class="dsq-comment-body">
                        <div id="dsq-comment-message-4669" class="dsq-comment-message"><p>Not one of the most exciting posts ever? Well, Setter Injection happens to be a hot topic at my place of work so I must differ on that point.</p>
<p>Am I correct in saying this isn&#8217;t available in the 2.4.9 preview (or at least the FillAllPropertiesOfType method)? I agree that this isn&#8217;t perhaps the most ideal setup, but handling our Setters was a serious point of contention in getting StructureMap adopted here in the office.</p>
<p>Keep up the good work!</p>
<p>-Scott</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4670">
                    <div id="dsq-comment-header-4670" class="dsq-comment-header">
                        <cite id="dsq-cite-4670">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-4670">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4670" class="dsq-comment-body">
                        <div id="dsq-comment-message-4670" class="dsq-comment-message"><p>@Scott,</p>
<p>You are correct.  All the new fancy functionality for setter injection is NOT in 2.4.9.  One of the reasons that the 2.5 release has been delayed so long has been the number of functionality requests that have rolled out in the StructureMap board.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4671">
                    <div id="dsq-comment-header-4671" class="dsq-comment-header">
                        <cite id="dsq-cite-4671">
                                <span id="dsq-author-user-4671">J. Ruiz</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4671" class="dsq-comment-body">
                        <div id="dsq-comment-message-4671" class="dsq-comment-message"><p>Jeremy,</p>
<p>I favor constructor injection for all the reasons you state, but there are two scenarios where I favor setter injection and I wanted to get your opinion on those (I&#8217;ve only been developing software for 5 years).</p>
<p>First, I may wish to re-inject a new dependency implementation dynamically.</p>
<p>Second is for clarity.  Let&#8217;s say I have an object that requires an interface implementation that provides some infrastructure service.  This service requires some initialization, and initialization may throw exceptions.  </p>
<p>I think it&#8217;s a bad idea to inject this service into the constructor and call initialize there because throwing exceptions from constructors is dirty.</p>
<p>Of course, having to try/catch a property is less-than-clean code as well, but I feel like if I want to keep the contract of &#8220;inject these things into the constructor and that&#8217;s it: you&#8217;re ready to go&#8221;, I need to inject the described service into a setter.  In this scenario, setter injection clearly says to me that my object is not quite ready to go.</p>
<p>What do you think?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4672">
                    <div id="dsq-comment-header-4672" class="dsq-comment-header">
                        <cite id="dsq-cite-4672">
                                <span id="dsq-author-user-4672">Brian</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4672" class="dsq-comment-body">
                        <div id="dsq-comment-message-4672" class="dsq-comment-message"><p>Can you give an example of using the below to set the property via code using VB?  I can&#8217;t figure out how you would do it.</p>
<p>            var container = new Container(r =></p>
<p>            {</p>
<p>                r.FillAllPropertiesOfType<ilogger>().TheDefault.Is</p>
<p>                    .ConstructedBy(context => new Logger(context.ParentType));</p>
<p>            });<br />
</ilogger></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4673">
                    <div id="dsq-comment-header-4673" class="dsq-comment-header">
                        <cite id="dsq-cite-4673">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-4673">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4673" class="dsq-comment-body">
                        <div id="dsq-comment-message-4673" class="dsq-comment-message"><p>@Brian,</p>
<p>Let&#8217;s just say that SM is accidentally optimized for C#.</p>
<p>In VB.Net the consensus seems to be to make a method of signature:</p>
<p>SetUpMyContainer(x as InitializationExpression)<br />
    x.Fill&#8230;&#8230;&#8230;&#8230;.</p>
<p>End</p>
<p>and pass that method as a delegate to the Container ctor.</p>
<p>Step 2.)  Bitch like hell to the VB.Net team for doing such a bad job on Lambda expressions.  You really need multi-line Lambda expressions.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4674">
                    <div id="dsq-comment-header-4674" class="dsq-comment-header">
                        <cite id="dsq-cite-4674">
                                <span id="dsq-author-user-4674">Brian Johnston</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4674" class="dsq-comment-body">
                        <div id="dsq-comment-message-4674" class="dsq-comment-message"><p>Thank Jeremy &#8211; yes, anytime I work in VB instead of C# I stomp my feet and whine like a 6 year old&#8230;I was hoping maybe you knew a trick I wasn&#8217;t aware of since I haven&#8217;t done VB since 2.0, but it sounds like your work-around is the same as mine.  <sigh></sigh></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4675">
                    <div id="dsq-comment-header-4675" class="dsq-comment-header">
                        <cite id="dsq-cite-4675">
                                <span id="dsq-author-user-4675">DoniG</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4675" class="dsq-comment-body">
                        <div id="dsq-comment-message-4675" class="dsq-comment-message"><p>As a C# programmer trying to configure StructureMap in VB.Net, I can tell you that throwing a few bones to the poor VB.Net guys via some example code would be greatly appreciated! </p>
<p>I never understood how badly done VB.Net&#8217;s lambda support was until I attempted this&#8230;what is trivial to do in C# is near impossible in VB.Net.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-4676">
                    <div id="dsq-comment-header-4676" class="dsq-comment-header">
                        <cite id="dsq-cite-4676">
    http://codebetter.com/blogs/jeremy.miller                            <span id="dsq-author-user-4676">Jeremy D. Miller</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-4676" class="dsq-comment-body">
                        <div id="dsq-comment-message-4676" class="dsq-comment-message"><p>@DoniG,</p>
<p>Heard and understood.  I&#8217;ve recruited Rod Paddock to help me with some VB.Net samples.  I&#8217;m giving some thought to making SM a bit more VB friendly in the next pass.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-7014">
                    <div id="dsq-comment-header-7014" class="dsq-comment-header">
                        <cite id="dsq-cite-7014">
    http://www.drudgereportarchive.com/                            <span id="dsq-author-user-7014">Parvez</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-7014" class="dsq-comment-body">
                        <div id="dsq-comment-message-7014" class="dsq-comment-message"><p>This is an interesting approach. Perceptions of how one is viewed certainly does influence what we say and don&#8217;t say.<a href="http://www.halloween.com/all-about-halloween/" rel="nofollow">all about halloween</a></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-7257">
                    <div id="dsq-comment-header-7257" class="dsq-comment-header">
                        <cite id="dsq-cite-7257">
                                <span id="dsq-author-user-7257">amita sexana</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-7257" class="dsq-comment-body">
                        <div id="dsq-comment-message-7257" class="dsq-comment-message"><p><a href="http://www.access-file-repair.com" rel="nofollow">Access File Repair</a><br />
<a href="http://www.accesspasswordrecovery.org" rel="nofollow">access password recovery</a><br />
<a href="http://www.accesspasswordrecovery.us" rel="nofollow">Access Password Recovery Software</a><br />
<a href="http://www.accesspasswordrecovery.ws" rel="nofollow">MS Access Password Recovery</a><br />
<a href="http://www.access-unlocker.com" rel="nofollow">Access Password Recovery Tool</a><br />
<a href="http://www.excelfix.net" rel="nofollow">Fix Excel</a><br />
<a href="http://www.bhartitechnology.com" rel="nofollow">download free key logger</a><br />
<a href="http://www.chatdatarecovery.com" rel="nofollow">Chat Archive Recovery</a><br />
<a href="http://www.database-conversion.org" rel="nofollow">Database conversion software</a><br />
<a href="http://www.excel-file-repair.com" rel="nofollow">MS excel repair software</a><br />
<a href="http://www.datarecoveryfreetrial.org" rel="nofollow">Data Recovery Tool</a><br />
<a href="http://www.eaglecop.us" rel="nofollow">Web Hosting</a><br />
<a href="http://www.data-wiper.ws" rel="nofollow">Free Data Wiper</a><br />
<a href="http://www.digitalcameradatarecovery.com" rel="nofollow">Digital camera photo recovery software</a><br />
<a href="http://www.diskrecovery.ws" rel="nofollow">Disk Recovery Software</a><br />
<a href="http://www.eaglecop.com" rel="nofollow">Data recovery software free download</a><br />
<a href="http://www.database-converter.com" rel="nofollow">Database Converters</a><br />
<a href="http://www.employee-monitoring.ws" rel="nofollow">Free Keylogger</a><br />
<a href="http://www.excelfilerecovery.ws" rel="nofollow">Excel File Recovery</a><br />
<a href="http://www.access-unlocker.org" rel="nofollow">MS Access Password Recovery Tool</a><br />
<a href="http://www.excelrecovery.ws" rel="nofollow">Excel Recovery</a><br />
<a href="http://www.keyloggerdownload.us" rel="nofollow">free keylogger software</a><br />
<a href="http://www.floppyrecovery.ws" rel="nofollow">Floppy Recovery</a><br />
<a href="http://www.excelrepair.us" rel="nofollow">Repair Excel</a><br />
<a href="http://www.filesrepair.org" rel="nofollow">Excel Repair</a><br />
<a href="http://www.find-msn-password.ws" rel="nofollow">recover msn password</a><br />
<a href="http://www.fixexcelfile.com" rel="nofollow">Excel File Fix</a><br />
<a href="http://www.floppydatarecovery.ws" rel="nofollow">Floppy Disk Recovery</a><br />
<a href="http://www.harddiskrecovery.ws" rel="nofollow">Windows Data Recovery</a><br />
<a href="http://www.freewarekeylogger.ws" rel="nofollow">Keystroke Logger</a><br />
<a href="http://www.harddrivedatarecovery.ws" rel="nofollow">Hard drive data recovery</a><br />
<a href="http://www.freeexcelrecovery.com" rel="nofollow">Free Excel Recovery</a><br />
<a href="http://www.harddisk-recovery.ws" rel="nofollow">Windows Recovery Tools</a><br />
<a href="http://www.internetpasswordrecovery.ws" rel="nofollow">IE Password Recovery</a><br />
<a href="http://www.ipodrecovery.ws" rel="nofollow">IPod Recovery</a><br />
<a href="http://www.key-logger.us" rel="nofollow">Key logger</a><br />
<a href="http://www.excelrecoveryfreeware.com" rel="nofollow">Excel Recovery Tool</a><br />
<a href="http://www.keyloggerdownload.ws" rel="nofollow">download a free keylogger</a><br />
<a href="http://www.keyloggers.ws" rel="nofollow">keyloggers free</a><br />
<a href="http://www.keyloggersoftwaredownload.com" rel="nofollow">keylogger freeware</a><br />
<a href="http://www.keyloggerspysoftware.ws" rel="nofollow">Keylogger Spy Software</a><br />
<a href="http://www.key-logging-software.org" rel="nofollow">keylogger software free</a><br />
<a href="http://www.keystrokecapture.us" rel="nofollow">keystroke capture</a><br />
<a href="http://www.keystrokecapture.ws" rel="nofollow">Keylogger</a><br />
<a href="http://www.passwordrecovery.biz" rel="nofollow">Recovery Password</a><br />
<a href="http://www.keystroke-logging.ws" rel="nofollow">free keylogger downloads</a><br />
<a href="http://www.keystrokesrecorder.org" rel="nofollow">best keylogger free</a><br />
<a href="http://www.msnpasswordrecovery.ws" rel="nofollow">msn password recovery</a><br />
<a href="http://www.outlookpasswordrecovery.us" rel="nofollow">Outlook Express Password Recovery Software</a><br />
<a href="http://www.password-finder.ws" rel="nofollow">password finder</a><br />
<a href="http://www.keystroke-logger.org" rel="nofollow">Keylogger Software Download</a><br />
<a href="http://www.passwordrecovery.ws" rel="nofollow">Password Recovery</a><br />
<a href="http://www.passwordrecoverysoftware.org" rel="nofollow">password recovery software</a><br />
<a href="http://www.password-recovery-software.ws" rel="nofollow">password recovery software free</a><br />
<a href="http://www.pendrivedatarecovery.com" rel="nofollow">pen drive data recovery software</a><br />
<a href="http://www.pendrivedatarecovery.ws" rel="nofollow">Pen Drive Recovery</a><br />
<a href="http://www.powerpoint-file-repair.com" rel="nofollow">PowerPoint Repair Tool</a><br />
<a href="http://www.recoverchatdata.com" rel="nofollow">Chat Recovery Software</a><br />
<a href="http://www.recoverexcel.ws" rel="nofollow">Fix Excel File</a><br />
<a href="http://www.recoverexcelfile.org" rel="nofollow">Restore Excel File</a><br />
<a href="http://www.recovermails.org" rel="nofollow">Email Recovery</a><br />
<a href="http://www.recoversms.com" rel="nofollow">cell phone sms recovery software</a><br />
<a href="http://www.recoveryforexcel.com" rel="nofollow">recovery for excel</a><br />
<a href="http://www.repairexcel.ws" rel="nofollow">Repair Excel Files</a><br />
<a href="http://www.repairexcelfiles.com" rel="nofollow">repair excel files software</a><br />
<a href="http://www.restoredata.ws" rel="nofollow">Data Recovery Software</a><br />
<a href="http://www.restoresim.com" rel="nofollow">sim card deleted sms recovery</a><br />
<a href="http://www.restoresim.org" rel="nofollow">SIM Card Data Recovery</a><br />
<a href="http://www.sanmaxi.biz" rel="nofollow">Key logger software</a><br />
<a href="http://www.sanmaxi.com" rel="nofollow">downloadable keylogger</a><br />
<a href="http://www.sanmaxi.info" rel="nofollow">download keylogger freeware</a><br />
<a href="http://www.sanmaxi.net" rel="nofollow">free invisible keylogger</a><br />
<a href="http://www.sanmaxi.org" rel="nofollow">data recovery</a><br />
<a href="http://www.sanmaxi.us" rel="nofollow">Download Free Keylogger</a><br />
<a href="http://www.sanmaxi.ws" rel="nofollow">keystroke recorder</a><br />
<a href="http://www.sanmaxisoftware.com" rel="nofollow">software keylogger</a><br />
<a href="http://www.sanmaxisoftware.org" rel="nofollow">remote key logger</a><br />
<a href="http://www.simrecovery.biz" rel="nofollow">sim recovery</a><br />
<a href="http://www.simrecovery.us" rel="nofollow">Sim Card Recovery</a><br />
<a href="http://www.backlinkchaker.com" rel="nofollow">Backlinks Checker Tool</a><br />
<a href="http://www.soico.net" rel="nofollow">remote keylogger free</a><br />
<a href="http://www.spysoftware.ws" rel="nofollow">Spy Keylogger</a><br />
<a href="http://www.usbdriverecovery.ws" rel="nofollow">USB drive data recovery</a><br />
<a href="http://www.freebacklinkfinder.com" rel="nofollow">Free Backlink Finder Tool</a><br />
<a href="http://www.datarecoverytrial.com" rel="nofollow">datarecovery</a><br />
<a href="http://www.zip-repair.org" rel="nofollow">Zip Repair Tool</a><br />
<a href="http://www.key-logger.ws" rel="nofollow">keylogger</a><br />
<a href="http://www.datarecoverysoftwaretrial.ws" rel="nofollow">Data recovery software for NTFS</a><br />
<a href="http://www.datarecoverytrialdownload.com" rel="nofollow">Recovery Format Data</a><br />
<a href="http://www.datarecoverytrialsoftware.com" rel="nofollow">Partition recovery software</a><br />
<a href="http://www.eaglecop.org" rel="nofollow">SEO</a><br />
<a href="http://www.backlinkschecker.ws" rel="nofollow">Backlinks Checker</a><br />
<a href="http://www.simrecovery.ws" rel="nofollow">Sim Card SMS Recovery</a><br />
<a href="http://www.word-file-repair.com" rel="nofollow">Word file repair software</a><br />
<a href="http://www.datarecoveryfreetrial.com" rel="nofollow">data recovery services</a></p>
<p>Thank you very much for a fantastically amazing post.</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/jeremymiller/2008/10/09/setter-injection-in-structuremap-2-5/';
    var disqus_identifier = '593 /blogs/jeremy.miller/archive/2008/10/08/setter-injection-in-structuremap-2-5.aspx';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'theshadetreedeveloper';
    var disqus_title = "Setter Injection in StructureMap 2.5";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=593');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/codebetter.com\/jeremymiller\/2008\/10\/09\/setter-injection-in-structuremap-2-5\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">The Shade Tree Developer</h3>Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.
</li><li id="text-3" class="widget-container widget_text"><h3 class="widget-title">Upcoming posts&#8230;</h3>			<div class="textwidget"><p>How I'm using StoryTeller to test FubuMVC<br />
Building a "Lookup" html convention w/ FubuMVC<br />
FubuMVC's Configuration Model "Special Sauce"<br />
Managing Script dependencies with FubuMVC<br />
Authorization and FubuMVC<br />
Continuations<br />
Composing Views with FubuMVC<br />
Extensible Model Binding with FubuMVC<br />
Introducing "Bottles"<br />
Modular Packaging with FubuMVC<br />
Self-Installing Apps w/ FubuMVC<br />
Routing and Behavioral Conventions with FubuMVC<br />
What Should I Learn?</p>
</div>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://twitter.com/jeremydmiller">Follow me on Twitter</a></li>
<li><a href="https://github.com/DarthFubuMVC/fubumvc" target="_blank">FubuMVC on GitHub</a></li>
<li><a href="https://github.com/jeremydmiller">My GitHub Page</a></li>
<li><a href="https://github.com/storyteller/storyteller">StoryTeller on GitHub</a></li>
<li><a href="https://github.com/structuremap/structuremap">StructureMap on GitHub</a></li>

	</ul>
</li>
		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
					<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/jeremymiller/2012/01/' title='January 2012'>January 2012</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/09/' title='September 2011'>September 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/07/' title='July 2011'>July 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/06/' title='June 2011'>June 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/05/' title='May 2011'>May 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/04/' title='April 2011'>April 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/03/' title='March 2011'>March 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/08/' title='August 2010'>August 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/07/' title='July 2010'>July 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/06/' title='June 2010'>June 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/05/' title='May 2010'>May 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/03/' title='March 2010'>March 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/02/' title='February 2010'>February 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/01/' title='January 2010'>January 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/06/' title='June 2009'>June 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/09/' title='September 2008'>September 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/08/' title='August 2008'>August 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/07/' title='July 2008'>July 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/06/' title='June 2008'>June 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/05/' title='May 2008'>May 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/04/' title='April 2008'>April 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/03/' title='March 2008'>March 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/02/' title='February 2008'>February 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/01/' title='January 2008'>January 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/12/' title='December 2007'>December 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/11/' title='November 2007'>November 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/10/' title='October 2007'>October 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/09/' title='September 2007'>September 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/08/' title='August 2007'>August 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/07/' title='July 2007'>July 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/06/' title='June 2007'>June 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/05/' title='May 2007'>May 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/04/' title='April 2007'>April 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/03/' title='March 2007'>March 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/02/' title='February 2007'>February 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/01/' title='January 2007'>January 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/12/' title='December 2006'>December 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/11/' title='November 2006'>November 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/10/' title='October 2006'>October 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/09/' title='September 2006'>September 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/08/' title='August 2006'>August 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/07/' title='July 2006'>July 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/06/' title='June 2006'>June 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/05/' title='May 2006'>May 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/04/' title='April 2006'>April 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/03/' title='March 2006'>March 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/02/' title='February 2006'>February 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/01/' title='January 2006'>January 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/12/' title='December 2005'>December 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/11/' title='November 2005'>November 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/10/' title='October 2005'>October 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/09/' title='September 2005'>September 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/08/' title='August 2005'>August 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/07/' title='July 2005'>July 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/06/' title='June 2005'>June 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/05/' title='May 2005'>May 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/04/' title='April 2005'>April 2005</a></li>
		</ul>
</li><li id="recent-comments-3" class="widget-container widget_recent_comments"><h3 class="widget-title">What others have said&#8230;</h3><ul id="recentcomments"><li class="recentcomments"><a href='http://zacherygaines.webstarts.com/' rel='external nofollow' class='url'>KadeemFulton</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7523">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments"><a href='http://jonsonbettly.wordpress.com/' rel='external nofollow' class='url'>ScottWorkman</a> on <a href="http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents/#comment-7517">The Build Your Own CAB Series Table of Contents</a></li><li class="recentcomments">haihao on <a href="http://codebetter.com/jeremymiller/2008/10/18/profile-s-in-structuremap/#comment-7513">Profile’s in StructureMap</a></li><li class="recentcomments">neon on <a href="http://codebetter.com/jeremymiller/2008/09/10/using-the-structuremap-container-independently-of-objectfactory/#comment-7512">Using the StructureMap Container independently of ObjectFactory</a></li><li class="recentcomments">weaponfan on <a href="http://codebetter.com/jeremymiller/2008/09/25/using-structuremap-2-5-to-inject-your-entity-objects-into-services/#comment-7511">Using StructureMap 2.5 to inject your Entity objects into Services</a></li></ul></li>				</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.601 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 14:18:22 -->
<!-- super cache -->