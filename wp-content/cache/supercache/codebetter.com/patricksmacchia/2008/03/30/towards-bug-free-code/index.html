<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Towards Bug-Free Code | Patrick Smacchia</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/patricksmacchia/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/patricksmacchia/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Number of Types in the .NET Framework (2)' href='http://codebetter.com/patricksmacchia/2008/03/19/number-of-types-in-the-net-framework-2/' />
<link rel='next' title='Make the most of your test coverage data' href='http://codebetter.com/patricksmacchia/2008/04/09/make-the-most-of-your-test-coverage-data/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/patricksmacchia/?p=47' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,130] -->
<link rel="canonical" href="http://codebetter.com/patricksmacchia/2008/03/30/towards-bug-free-code/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-47" class="post-47 post type-post status-publish format-standard hentry category-featured">
					<h1 class="entry-title">Towards Bug-Free Code</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/patricksmacchia/author/patricksmacchia/" title="View all posts by Patrick Smacchia">Patrick Smacchia</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/patricksmacchia/2008/03/30/towards-bug-free-code/" title="7:02 pm" rel="bookmark"><span class="entry-date">March 30, 2008</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/patricksmacchia/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/patricksmacchia/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>&nbsp;</p>
<p><span lang="EN-US">The only<br />
way to have bug-free code is to mathematically prove the code. Very few<br />
programs in the world are mathematically proved. Some industry can afford the<br />
price of a mathematical proof, especially when bugs would turn into human death,<br />
such as embedded software in planes, trains or cars. Most of us are working on<br />
projects that cannot afford the cost of a mathematical proof. We then rely on<br />
some tricks to maintain our bug rate as low as possible. I classify these<br />
tricks into 6 categories.</span></p>
<ul>
<li><span lang="EN-US">Contract</span></li>
</ul>
<ul>
<li><span lang="EN-US">Automatic<br />
test</span></li>
</ul>
<ul>
<li><span lang="EN-US">Empirical approach</span></li>
</ul>
<ul>
<li><span lang="EN-US">Code<br />
review</span></li>
</ul>
<ul>
<li><span lang="EN-US">Prioritizing<br />
bugs fix over new features development</span></li>
</ul>
<ul>
<li><span lang="EN-US">Programming<br />
style and code quality</span></li>
</ul>
<ul>
<li><span lang="EN-US">Static<br />
Analysis Tools</span></li>
</ul>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><b><span style="font-size: 18pt" lang="EN-US">Contract</span></b></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">The idea of<br />
contracts is to insert correctness information inside the code. When contract<br />
is violated it means that your code contains a bug somewhere. Typically, the<br />
.NET world is very poor in terms of contracts. Our only way to express contract<br />
is to use the <a href="http://msdn2.microsoft.com/en-us/library/system.diagnostics.debug.assert.aspx" target="_blank"><b>System.Diagnostics.Debug.Assert(…)</b></a><br />
method</span><span lang="EN-US">. This is very unfortunate because<br />
not only our code is blurred with numerous <b>Debug.Assert(…)</b><br />
calls, but also the compilers cannot check contracts at compile-time. For<br />
example the <a href="/blogs/patricksmacchia/archive/2007/07/25/i-want-non-nullable-types-in-c-4.aspx" target="_blank">Spec#</a></span><a href="http://codebetter.com/blogs/patricksmacchia/archive/2007/07/25/i-want-non-nullable-types-in-c-4.aspx" target="_blank"><span lang="EN-US"></span></a><a href="http://codebetter.com/blogs/patricksmacchia/archive/2007/07/25/i-want-non-nullable-types-in-c-4.aspx" target="_blank"><span lang="EN-US"> non-nullable types</span></a><a href="http://codebetter.com/blogs/patricksmacchia/archive/2007/07/25/i-want-non-nullable-types-in-c-4.aspx"><span lang="EN-US"></span></a><span lang="EN-US"> is an excellent form of contract at<br />
language level that help a lot avoiding pesky <b>NullReferenceException</b>. And <i>Spec</i>#<br />
is far from being the only language that propose contract facilities, think<br />
about what <a href="http://en.wikipedia.org/wiki/Eiffel_%28programming_language%29" target="_blank"><i>Eiffel</i></a></span><a href="http://en.wikipedia.org/wiki/Eiffel_%28programming_language%29" target="_blank"><span lang="EN-US"></span></a><span> <span lang="EN-US">proposed more than twenty<br />
years ago in terms of contract!</span></span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">As I<br />
believe in contract, I personally use a lot <b>Debug.Assert(…)</b>. This represents around 15% of my code. I will<br />
likely blog more on this because with all the buzz actually made around automatic<br />
tests, I feel that contracts should deserve more attention.</span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><b><span style="font-size: 18pt" lang="EN-US">Automatic test</span></b></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">I won’t<br />
enumerate the numerous benefits of automatic tests and high code coverage ratio<br />
here. The important thing to remember is that having a solid battery of<br />
automatic tests is an excellent way to decrease significantly the bug rate on tested<br />
code, but also to avoid new bugs when code gets refactored. As many, my<br />
opinion is that the cost of writing automatic tests is worth the price compared<br />
to the cost of maintaining not automatically tested code.</span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><b><span style="font-size: 18pt" lang="EN-US">Empirical approach</span></b></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">What I call<br />
empirical approachis a simple tenet that every seasoned programmer know: </span></p>
<ul>
<li><span lang="EN-US">Most of bugs in a new version are<br />
coming from modified code and brand new code</span></li>
</ul>
<ul>
<li><span lang="EN-US">Unchanged code that works well for<br />
a long time in production won&#8217;t likely crash within the next release (what we<br />
call <i>stable code</i>). We don&#8217;t say that stable code don&#8217;t contain bug, but<br />
discovering a bug in stable code is rare.</span></li>
</ul>
<p class="MsoNormal"><span lang="EN-US">How do you know that some code works<br />
well for a long time in production? Simply by listening to users. If they<br />
didn’t report problems on some features for a long time then you can be<br />
confident that underlying code is <i>stable</i>.<br />
Some might say that I consider here users as testers but don’t take me wrong, we<br />
don’t have the choice. If you have real users, they will complain when they<br />
will find a bug and they will remain silent when they consider that the product<br />
is working fine. You are responsible to deliver correct code that will satisfy<br />
users but why wouldn’t you infer statistics from their feedbacks to asses where<br />
is your <i>stable/unstable</i> code? </span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">I wrote an<br />
article about how we (the <a href="http://www.NDepend.com" target="_blank">NDepend</a>&nbsp;</span><a href="http://www.ndepend.com/"><span lang="EN-US"></span></a><span lang="EN-US">team) use this simple but effective<br />
idea and our own dog-food to <a href="http://searchwindevelopment.techtarget.com/tip/0,289483,sid8_gci1285059,00.html#" target="_blank">avoid regression bugs while adding new features</a></span><span lang="EN-US">. Basically we focus our code<br />
reviews mainly on code that have been added or code that have been changed<br />
since the last release and of course.</span></p>
<p class="MsoNormal">
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><b><span style="font-size: 18pt" lang="EN-US">Code review</span></b><span lang="EN-US"></span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">Code<br />
reviews are good to enhance quality and to educate programmers but I don’t<br />
believe in the efficiency of code reviews to anticipate bugs. Even though some<br />
portions of code can be fascinating to read, the bulk of a code base is tedious<br />
and will make you lose your focus in less than an hour. The problem of code<br />
review comes from the mass of code to read. This is why I advise to only<br />
focus your review on not <i>stable code</i>,<br />
i.e added code and modified code. If you release new versions often, the mass<br />
of code to review before each release will quickly become an <i>epsilon</i> of the size of your entire code<br />
base. Doing so can also be seen as a way to capitalize on code reviews made during previous iterations.</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span style="font-size: 18pt" lang="EN-US"><b>Prioritizing bugs fix over new features development</b></span></p>
<p class="MsoNormal"></p>
<p class="MsoNormal"><span lang="EN-US">This popular methodology directly results from the concept of <i>stable </i>code. </span><span lang="EN-US">Prioritizing<br />
bugs fix over new features development can be seen as a way to constantly struggle to maximize the surface of <i>stable </i>code in our code base.<br /></span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><b><span style="font-size: 18pt" lang="EN-US">Programming style and code<br />
quality</span></b></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">The recent<br />
buzz around <i>LINQ</i> or <a href="http://research.microsoft.com/fsharp/fsharp.aspx" target="_blank"><i>F#</i></a>&nbsp;</span><a href="http://research.microsoft.com/fsharp/fsharp.aspx"><span lang="EN-US"></span></a><span lang="EN-US">comes from the fact that object<br />
style programming is more bug-prone than functional style programming. This<br />
fact results from the expressiveness of functional style. In other words,<br />
functional code is easier to read and understand. A major aspect of the<br />
expressiveness of functional programming style is IMHO the concept of<br />
immutability that I described in a previous blog post <a href="/blogs/patricksmacchia/archive/2008/01/13/immutable-types-understand-them-and-use-them.aspx" target="_blank">Immutable types:<br />
understand their benefits and use them</a></span><span lang="EN-US">. That’s a fact, it is hard to<br />
write, understand and maintain code that mutates states at runtime (for example<br />
this is why global variables are so harmful). And this becomes much harder in<br />
concurrent environment.</span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">Obviously, code<br />
quality has also a direct impact on code correctness. Anti pattern such as methods<br />
with high <a href="http://www.ndepend.com/Metrics.aspx#NbLinesOfCode" target="_blank">LOC</a>,<br />
high <a href="http://www.ndepend.com/Metrics.aspx#CC" target="_blank">Cyclomatic Complexity</a> or<br />
high <a href="http://www.ndepend.com/Metrics.aspx#ILNestingDepth" target="_blank">Nesting Depth</a>, entangled components, methods with multiple concerns, classes with multiple responsibilities…<br />
leads to code harder to debug and to test.</span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><b><span style="font-size: 18pt" lang="EN-US">Static Analysis Tools</span></b></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">We all<br />
dream of a static analyzer that could pinpoint automatically bugs in our code<br />
by just pushing an <i>Analyze</i> button. Some<br />
tools are already able to detect naïve mistakes, such as calling a method with<br />
a null reference as parameters where there are no tests of parameter nullity<br />
(i.e interprocedural analysis).</span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">But most<br />
bugs are not that easy to pinpoint. By just analyzing the code a tool cannot distinguish<br />
between a feature and a bug because it doesn’t know how the application should<br />
behave. Some heuristic exists but still, to be efficient, a <i>bug finder</i> static analyzer needs to be<br />
feed with more information than just the code. Typically, this extra<br />
information can be found in contracts and unit-tests code. As far as I know,<br />
in the .NET area there are 2 projects revolving around this idea <a href="http://wesnerm.blogs.com/net_undocumented/" target="_blank">NStatic</a><br />
and <a href="http://research.microsoft.com/Pex/" target="_blank">Pex</a>,<br />
and I am really looking forward to use them on my own code. </span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><b><span style="font-size: 18pt" lang="EN-US">Conclusion</span></b></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">From what I<br />
understand from the agile trend, having a bug-free product to release shouldn’t<br />
be the goal. Anyway, every program not mathematically proved has bugs. The goal<br />
should then be to tend toward a bug-free product by applying as many correctness<br />
tricks as possible.</span></p>
<div class="shr-publisher-47"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/patricksmacchia/category/featured/" title="View all posts in Featured" rel="category tag">Featured</a>. Bookmark the <a href="http://codebetter.com/patricksmacchia/2008/03/30/towards-bug-free-code/" title="Permalink to Towards Bug-Free Code" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/patricksmacchia/2008/03/30/towards-bug-free-code/feed/" title="Comments RSS to Towards Bug-Free Code" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-47 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/patricksmacchia/2008/03/19/number-of-types-in-the-net-framework-2/" rel="prev"><span class="meta-nav">&larr;</span> Number of Types in the .NET Framework (2)</a></div>
					<div class="nav-next"><a href="http://codebetter.com/patricksmacchia/2008/04/09/make-the-most-of-your-test-coverage-data/" rel="next">Make the most of your test coverage data <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-235">
                    <div id="dsq-comment-header-235" class="dsq-comment-header">
                        <cite id="dsq-cite-235">
    http://robzyc.spaces.live.com                            <span id="dsq-author-user-235">Rob</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-235" class="dsq-comment-body">
                        <div id="dsq-comment-message-235" class="dsq-comment-message"><p>A good read, and looking forward to reading more on how you work with contracts and Debug.Assert. I am looking to become more agile and keen to see as much of what other people are doing as possible!</p>
<p>Thanks again,<br />
Rob</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-236">
                    <div id="dsq-comment-header-236" class="dsq-comment-header">
                        <cite id="dsq-cite-236">
                                <span id="dsq-author-user-236">Steve Thompson</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-236" class="dsq-comment-body">
                        <div id="dsq-comment-message-236" class="dsq-comment-message"><p>For Design by Contract, unit testing, asserts, and simplicity of expression, I would encourage you to have a look at the Cobra programming language, as I am now: </p>
<p><a href="http://cobra-language.com" rel="nofollow">http://cobra-language.com</a></p>
<p>The author has made it possible to easily include full Eiffel DbC into his language.  In addition, unit tests can be specified at varying levels.  I think that these two properties do much to help in the development of correct code.</p>
<p>Cheers,</p>
<p>Steve</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-237">
                    <div id="dsq-comment-header-237" class="dsq-comment-header">
                        <cite id="dsq-cite-237">
                                <span id="dsq-author-user-237">Joe Chung</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-237" class="dsq-comment-body">
                        <div id="dsq-comment-message-237" class="dsq-comment-message"><p>&#8220;Beware of bugs in the above code; I have only proved it correct, not tried it.&#8221; -Donald Knuth</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-238">
                    <div id="dsq-comment-header-238" class="dsq-comment-header">
                        <cite id="dsq-cite-238">
    http://www.NDepend.com                            <span id="dsq-author-user-238">Patrick Smacchia</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-238" class="dsq-comment-body">
                        <div id="dsq-comment-message-238" class="dsq-comment-message"><p>Thanks Steve for the tips,<br />
it is interesting but the bulk of my code is written in C#,<br />
what I want is DbC in the mainstream, in C# and VB.NET syntax and compiler.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-239">
                    <div id="dsq-comment-header-239" class="dsq-comment-header">
                        <cite id="dsq-cite-239">
                                <span id="dsq-author-user-239">Steve Thompson</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-239" class="dsq-comment-body">
                        <div id="dsq-comment-message-239" class="dsq-comment-message"><p>&#8220;what I want is DbC in the mainstream, in C# and VB.NET syntax and compiler.&#8221;</p>
<p>Me too.  Unfortunately, as I see it, there are two problems:<br />
1) I&#8217;m tired of waiting.  Since Eiffel I have waited for another language to support DbC.  There have been some attempts, but they were always things like adding attributes to code that translated into assertions, or there were little caveats like &#8216;doesn&#8217;t work with inheritance like it should&#8217;.  Cobra, since it is a .Net language, seems like the perfect solution in which to write reusable DbC verified assemblies at the very least, where correctness is (in my mind) paramount.<br />
2) Quite frankly, I&#8217;m a bit tired of the one file for code, one file for unit test division with tools like NUnit, JUnit, TestNG, et al.  Cobra&#8217;s idea of making it easy to declare unit tests near the code itself is supposed to mean that I will be more likely to do it (according to its author) and I believe that this is indeed the case.<br />
3) With C# this isn&#8217;t so much the case, but with VB.Net in particular, I find that the verbosity of the syntax really gets in the way of easy visual inspection.  It took me a little bit of time to come up to speed with Cobra, but the syntax is incredibly spartan and reads quite well.</p>
<p>We can talk about having such features in the &#8216;mainstream&#8217; where they do not exist, or we can simply use a language that supports them today. It never hurts to take a pragmatic look at the situation <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-240">
                    <div id="dsq-comment-header-240" class="dsq-comment-header">
                        <cite id="dsq-cite-240">
    http://www.NDepend.com                            <span id="dsq-author-user-240">Patrick Smacchia</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-240" class="dsq-comment-body">
                        <div id="dsq-comment-message-240" class="dsq-comment-message"><p>I understand your point Steve but adapting to a new language comes at a high cost:</p>
<p>Education and market of programmers. And who wants to be an expert in Cobra when most of job offers ask for C#/VB.NET/Java expert?</p>
<p>Legacy code. Most of us work on C# or VB.NET project and we are reluctant to migration. Developers with MS techno still remeber the trauma it was to migrate from unmanaged to managed.</p>
<p>But don&#8217;t take me wrong: it is great and sane that some new languages are challenging the well-established ones. It is just that the inertie is high.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-241">
                    <div id="dsq-comment-header-241" class="dsq-comment-header">
                        <cite id="dsq-cite-241">
                                <span id="dsq-author-user-241">Who Cares</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-241" class="dsq-comment-body">
                        <div id="dsq-comment-message-241" class="dsq-comment-message"><p>&#8220;Bug Free&#8221; and &#8220;code&#8221; can not be used in same sentence without the word &#8220;not&#8221;.  Remember, Every program has atleast one more bug.</p>
<p>Jokes aside, good article.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-242">
                    <div id="dsq-comment-header-242" class="dsq-comment-header">
                        <cite id="dsq-cite-242">
    http://radio.javaranch.com/ilja                            <span id="dsq-author-user-242">Ilja Preu&#223;</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-242" class="dsq-comment-body">
                        <div id="dsq-comment-message-242" class="dsq-comment-message"><p>&#8220;The only way to have bug-free code is to mathematically prove the code.&#8221; &#8211; Only if you can prove that your prove is correct. Do I smell an endless recursion? <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> </p>
<p>&#8220;Prioritizing bugs fix over new features development&#8221; &#8211; Lean Software Development is taking this even one step further with the &#8220;stop the line&#8221; approach: you not only prioritize bug fixes over new development, the whole team also analyses why the bug was introduced in the first place and fixes the root cause.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-243">
                    <div id="dsq-comment-header-243" class="dsq-comment-header">
                        <cite id="dsq-cite-243">
                                <span id="dsq-author-user-243">Raffles</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-243" class="dsq-comment-body">
                        <div id="dsq-comment-message-243" class="dsq-comment-message"><p>Regarding the usefulness of static analysis, there are two points worth making. Firstly its true that vanilla static analysis finds run-time bugs (null pointer dereferences, array bounds overruns, uninitialised memory reads etc.), but it&#8217;s worth noting that 1. these are generally the bugs with the worst symptoms (often program termination), 2. these are the most common types of bug. In a typical development you can expect to find around twice as many run-time bugs as functional defects. 3. a key benefit of static analysis is that it will search through paths which your tests don&#8217;t cover and which are hard to spot by inspection (speaking from experience here!) so you can remove bugs on paths which you wouldn&#8217;t otherwise know were there until the end user comes back to you with a bug report. </p>
<p>Secondly, static anlysis tools can do even better if you have contracts in your code. Now they can find functional defects too, because you told the tool something about how the code is supposed to work. A lot of you are asking for contracts in a mainstream language. I&#8217;m not a .net developer myself, but have any of you guys looked at spec# (mentioned in the main article)? This is basically an enhanced version of C# so the cost of &#8220;learning a new language&#8221; is low:</p>
<p>&#8220;Spec# is a programming language with specification language features that extends the capabilities of the C# programming language with Eiffel-like contracts, including object invariants, preconditions and post-conditions. Like ESC/Java, it includes a static checking tool based on a theorem prover that is able to statically verify many of these invariants. It also includes a variety of other minor extensions to the language, such as non-null reference types.&#8221;<br />
<a href="http://en.wikipedia.org/wiki/Spec_sharp" rel="nofollow">http://en.wikipedia.org/wiki/Spec_sharp</a></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-244">
                    <div id="dsq-comment-header-244" class="dsq-comment-header">
                        <cite id="dsq-cite-244">
    http://www.NDepend.com                            <span id="dsq-author-user-244">Patrick Smacchia</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-244" class="dsq-comment-body">
                        <div id="dsq-comment-message-244" class="dsq-comment-message"><p>Yes, Spec# is mentionned.<br />
Raffles, any tool to recommend? (even outside the .NET world)</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-245">
                    <div id="dsq-comment-header-245" class="dsq-comment-header">
                        <cite id="dsq-cite-245">
    http://www.commongenius.com                            <span id="dsq-author-user-245">David Nelson</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-245" class="dsq-comment-body">
                        <div id="dsq-comment-message-245" class="dsq-comment-message"><p>&#8220;If you have real users, they will complain when they will find a bug and they will remain silent when they consider that the product is working fine.&#8221;</p>
<p>If only that were true! The lesson I have learned from supporting end-user applications is that you have to do everything you can to make sure that you are notified automatically when something goes wrong. You cannot rely on your users to tell you, because more often than not they will simply suffer through it and/or search for a way around the problem; only if a bug actually blocks them from doing their job will they bother reporting it.</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/patricksmacchia/2008/03/30/towards-bug-free-code/';
    var disqus_identifier = '47 /blogs/patricksmacchia/archive/2008/03/30/towards-bug-free-code.aspx';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'codebetter';
    var disqus_title = "Towards Bug-Free Code";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=47');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/codebetter.com\/patricksmacchia\/2008\/03\/30\/towards-bug-free-code\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
									</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 1.527 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 20:30:46 -->
<!-- super cache -->