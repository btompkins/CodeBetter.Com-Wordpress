<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Calling private methods from Unit Tests | Patrick Smacchia</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/patricksmacchia/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/patricksmacchia/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/patricksmacchia/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/patricksmacchia/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/patricksmacchia/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Patrick Smacchia' href='http://codebetter.com/patricksmacchia/' />
<link rel='start' title='Benefit from the C# and VB.NET compilers perf' href='http://codebetter.com/patricksmacchia/2007/06/20/benefit-from-the-c-and-vb-net-compilers-perf/' />
<link rel='prev' title='Can we avoid tooling to prevent spaghetti code?' href='http://codebetter.com/patricksmacchia/2009/05/03/can-we-avoid-tooling-to-prevent-spaghetti-code/' />
<link rel='next' title='Book Review: Code Leader by Patrick Cauldwell (+ a digression on contracts)' href='http://codebetter.com/patricksmacchia/2009/05/17/book-review-code-leader-by-patrick-cauldwell-a-digression-on-contracts/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/patricksmacchia/2009/05/10/calling-private-methods-from-unit-tests/' />
<link rel='shortlink' href='http://codebetter.com/patricksmacchia/?p=116' />
<link rel="stylesheet" href="http://codebetter.com/patricksmacchia/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><link rel="stylesheet" href="http://disqus.com/stylesheets/codebetter/disqus.css?v=2.0" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/patricksmacchia/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-116" class="post-116 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Calling private methods from Unit Tests</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/patricksmacchia/author/patricksmacchia/" title="View all posts by patricksmacchia">patricksmacchia</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/patricksmacchia/2009/05/10/calling-private-methods-from-unit-tests/" title="9:05 am" rel="bookmark"><span class="entry-date">May 10, 2009</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/patricksmacchia/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/patricksmacchia/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/patricksmacchia/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p>&nbsp;</p>
<p style="margin: 1pt 0cm"><span lang="EN-US">A classical problem with<br />
unit tests is the need for calling non-public methods of the code to test.<br />
Indeed, we generally prefer isolating unit tests code in dedicated tests<br />
assemblies. And non-public code cannot be called from outer assemblies.</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">We can distinguish<br />
between <i>internal</i> and <i>private</i> methods. Concerning <i>internal</i> code elements, you can harness<br />
the <a href="http://msdn.microsoft.com/en-us/library/system.runtime.compilerservices.internalsvisibletoattribute.aspx" target="_blank">System.Runtime.CompilerServices.InternalsVisibleToAttribute</a><br />
to make internal types/methods/fields visible from unit tests. This is clean<br />
and I hope this tips is now widely adopted.</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">Concerning <i>private</i> methods we are stuck with<br />
reflection to invoke them from unit tests. This is unfortunate, both because it<br />
requires more work on tests and because we lose strong-typing verification<br />
while compiling tests. </span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">The idea I would like to<br />
propose here is to use some <a href="http://www.NDepend.com" target="_blank">NDepend</a> capabilities to be able to test private methods trough strong typed tests. The<br />
astute is to use a dedicated attribute to transform a <i>private</i> method into an <i>internal</i><br />
method for which, NDepend warns if the method is called from outside its class. You can use your own<br />
attribute to do so, or the predefined attribute <i>NDepend.CQL.IsOnlyUsedByTestAttribute</i> that you can find in the<br />
redistributable <i>NDepend.CQL.dll</i>. Then<br />
you need the following <a href="http://www.ndepend.com/Features.aspx#CQL" target="_blank">CQL rule</a><br />
to be warned if there are some methods tagged that could not be private. Here<br />
the CQL condition <i>CouldBePrivate</i> can<br />
be understood as <i>not used from outside its<br />
class</i>:</span></p>
</p>
<p><!--[if gte mso 9]&gt;--></p>
<p>  Normal<br />
  0</p>
<p>  21</p>
<p>  false<br />
  false<br />
  false</p>
<p>  FR<br />
  X-NONE<br />
  X-NONE</p>
<p>  MicrosoftInternetExplorer4</p>
<p><!--[if gte mso 9]&gt;--></p>
<p><!--[if gte mso 10]&gt;--></p>
<p>&nbsp;</p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt;line-height: normal"><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: green" lang="EN-US">// &lt;Name&gt;</span><span style="font-size: 10pt;font-family: 'Courier New';color: green" lang="EN-US">Method tagged with IsOnlyUsedByTestAttribute must not be used from outside<br />
its class<span style="background: white none repeat scroll 0% 0%">&lt;/Name&gt;</span></span><span style="font-size: 12pt;font-family: 'Times New Roman','serif'" lang="EN-US"></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt;line-height: normal"><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">WARN</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">IF</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: #000064" lang="EN-US">Count</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> &gt; </span><span style="background: yellow none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US">0</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">IN</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">SELECT</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">METHODS</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">WHERE</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="font-size: 12pt;font-family: 'Times New Roman','serif'" lang="EN-US"></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt;line-height: normal"><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: #000064" lang="EN-US">&nbsp; HasAttribute</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: #a31515" lang="EN-US">&#8220;NDepend.CQL.IsOnlyUsedByTestAttribute&#8221;</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">AND</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="font-size: 12pt;font-family: 'Times New Roman','serif'" lang="EN-US"></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt;line-height: normal"><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US">&nbsp; !</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: #000064" lang="EN-US">CouldBePrivate</span><span style="font-size: 12pt;font-family: 'Times New Roman','serif'" lang="EN-US"></span></p>
<p style="margin: 1pt 0cm"><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;font-family: 'Courier New';color: #000064"></span><span lang="EN-US"></span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">To make this work<br />
properly, don&rsquo;t forget to not reference unit tests assemblies from your NDepend<br />
project. Else NDepend could not consider such method as <i>CoulBePrivate</i>.<br /></span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US"></span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">Also you might already have<br />
a rule to care for <a href="/blogs/patricksmacchia/archive/2007/10/31/optimal-encapsulation.aspx" target="_blank">optimal encapsulation</a>,<br />
meaning you want to make sure that all methods not used from outside their<br />
classes are declared private. In such case don&rsquo;t forget to tweak this rule<br />
slightly to avoid being informed of method tagged with <i>IsOnlyUsedByTestAttribute</i>.</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
</p>
<p><!--[if gte mso 9]&gt;--></p>
<p>  Normal<br />
  0</p>
<p>  21</p>
<p>  false<br />
  false<br />
  false</p>
<p>  FR<br />
  X-NONE<br />
  X-NONE</p>
<p>  MicrosoftInternetExplorer4</p>
<p><!--[if gte mso 9]&gt;--></p>
<p><!--[if gte mso 10]&gt;--></p>
<p>&nbsp;</p>
<p><!--[endif]--></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt;line-height: normal"><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: green" lang="EN-US">// &lt;Name&gt;</span><span style="font-size: 10pt;font-family: 'Courier New';color: green" lang="EN-US">Methods that could be declared as &#8216;private&#8217; in C#,&nbsp; &#8216;Private&#8217; in<br />
VB.NET<span style="background: white none repeat scroll 0% 0%">&lt;/Name&gt;</span></span><span style="font-size: 12pt;font-family: 'Times New Roman','serif'" lang="EN-US"></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt;line-height: normal"><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">WARN</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">IF</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: #000064" lang="EN-US">Count</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> &gt; </span><span style="background: yellow none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US">0</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">IN</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">SELECT</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">METHODS</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">WHERE</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><span style="font-size: 12pt;font-family: 'Times New Roman','serif'" lang="EN-US"></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt;line-height: normal"><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US">&nbsp; </span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: #000064" lang="EN-US">CouldBePrivate</span><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span><b><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: blue" lang="EN-US">AND</span></b><b><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span></b><span style="font-size: 12pt;font-family: 'Times New Roman','serif'" lang="EN-US"></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt;line-height: normal"><b><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US">&nbsp; !</span></b><b><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: #000064" lang="EN-US">HasAttribute</span></b><b><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: black" lang="EN-US"> </span></b><b><span style="background: white none repeat scroll 0% 0%;font-size: 10pt;font-family: 'Courier New';color: #a31515" lang="EN-US">&#8220;NDepend.CQL.IsOnlyUsedByTestAttribute &#8220;</span></b><span style="font-size: 12pt;font-family: 'Times New Roman','serif'" lang="EN-US"></span></p>
<p class="MsoNormal"><b><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;font-family: 'Courier New';color: #a31515"></span></b><b><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;font-family: 'Courier New';color: black"> </span></b></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">We apply this trick on our own code and I find it clean because:</span>
</p>
<ul>
<li>It works: no more reflection, no more weak typing, no more dilemma.<br />
    <span lang="EN-US"></span></li>
<li><span lang="EN-US">It is not intrusive: as mentioned the<br />
attribute can be your own attribute, not related to NDepend. In the future, you might be able to use<br />
another way than NDepend to harness information carried by such attribute.</span></li>
<li><span lang="EN-US">It is documentation: the attribute tells the developer reading the code that the tagged method is private <b>and </b>it is called from automatic tests. This is an extra information that can be precious to avoid breaking some test code unexpectedly.</span></li>
<li><span lang="EN-US">It is <b>active </b>documentation: without the attribute, NDepend will tell you that you need it since the method satisfies the CQL condition <i>CouldBePrivate</i> and with the rule mentioned above, you want to avoid such method.</span></li>
<li><span lang="EN-US">It classifies all occurrences of private methods called by unit tests: you just need to ask for methods tagged with the concerned attribute.<br /></span></li>
</ul>
<p style="margin: 1pt 0cm">&nbsp;</p>
<p style="margin: 1pt 0cm"><span lang="EN-US">I<br />
intentionally didn&rsquo;t mention so far <a href="http://stackoverflow.com/questions/34571/whats-the-best-way-of-unit-testing-private-methods" target="_blank">the hot debate about if tests should call or<br />
not private methods</a>.<br />
Personally I try to avoid this practice as much as I can, both because 100% of<br />
the feature of a class should be testable from the outside and because private<br />
things are supposed to be implementation details, highly subject to change. But it does happen sometime<br />
that testing directly private methods help writing easier tests. In such cases<br />
I estimate being pragmatic is allowed. It is so counter-productive to spend 30 minutes writing<br />
a single unit test that recovers all the messy states needed to cover a tricky<br />
scenario, generally implemented though one or two lines of code in a <i>if</i> clause of a private method.</span></p>
<p style="margin: 1pt 0cm">&nbsp;</p>
<p style="margin: 1pt 0cm">&nbsp;</p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/patricksmacchia/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/patricksmacchia/2009/05/10/calling-private-methods-from-unit-tests/" title="Permalink to Calling private methods from Unit Tests" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/patricksmacchia/2009/05/10/calling-private-methods-from-unit-tests/feed/" title="Comments RSS to Calling private methods from Unit Tests" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-116 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/patricksmacchia/2009/05/03/can-we-avoid-tooling-to-prevent-spaghetti-code/" rel="prev"><span class="meta-nav">&larr;</span> Can we avoid tooling to prevent spaghetti code?</a></div>
					<div class="nav-next"><a href="http://codebetter.com/patricksmacchia/2009/05/17/book-review-code-leader-by-patrick-cauldwell-a-digression-on-contracts/" rel="next">Book Review: Code Leader by Patrick Cauldwell (+ a digression on contracts) <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
					<div id="dsq-content">
			<ul id="dsq-comments">
					<li id="dsq-comment-648">
					<div id="dsq-comment-header-648" class="dsq-comment-header">
						<cite id="dsq-cite-648">
								<span id="dsq-author-user-648">Tormod</span>
							</cite>
					</div>
					<div id="dsq-comment-body-648" class="dsq-comment-body">
						<div id="dsq-comment-message-648" class="dsq-comment-message"><p>Well, why would you want to invoke private methods from unit tests?<br />
The private methods are run from public methods which are run from your tests.</p>
<p>Assuming that you originally coded that private method in order to make a failing unit test pass, this problem should not occur. </p>
<p>The private method is an implementation detail which you should be able to refactor at will.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-649">
					<div id="dsq-comment-header-649" class="dsq-comment-header">
						<cite id="dsq-cite-649">
	http://schambers.lostechies.com							<span id="dsq-author-user-649">Sean Chambers</span>
							</cite>
					</div>
					<div id="dsq-comment-body-649" class="dsq-comment-body">
						<div id="dsq-comment-message-649" class="dsq-comment-message"><p>I have to agree with Tormod here.</p>
<p>Why would you ever want to directly test a private method? Private methods are going to be invoked by the public methods which should have unit tests. I know you referenced that you personally don&#8217;t utilize this practice, therefore I don&#8217;t understand why you would explain that people can achieve this using attributes and interal keywords.</p>
<p>As Tormond stated, a private method is an implementation concern which shouldn&#8217;t be known outside the relevant class.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-650">
					<div id="dsq-comment-header-650" class="dsq-comment-header">
						<cite id="dsq-cite-650">
	http://www.NDepend.com							<span id="dsq-author-user-650">Patrick Smacchia</span>
							</cite>
					</div>
					<div id="dsq-comment-body-650" class="dsq-comment-body">
						<div id="dsq-comment-message-650" class="dsq-comment-message"><p>Sean, Tormod, at the end of the post I explain that:<br />
- one should avoid calling private method from tests<br />
- but sometime you have the choice between:<br />
1) Spending a long time (> 30mn) writing a very complicated test to cover a very particular case burried in a private method<br />
2) Hook directly the private method and test the very particular test<br />
In such situation, I found 2) more appropriate and pragmatic. Of course 1) would be more clean but much more costly also.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-651">
					<div id="dsq-comment-header-651" class="dsq-comment-header">
						<cite id="dsq-cite-651">
	http://codebetter.com/members/Dmitry-Novoselov/default.aspx							<span id="dsq-author-user-651">Dmitry Novoselov</span>
							</cite>
					</div>
					<div id="dsq-comment-body-651" class="dsq-comment-body">
						<div id="dsq-comment-message-651" class="dsq-comment-message"><p>It is just a code smell, when you want to call your private methods. It means your class has two (at least) responsibilities.</p>
<p>When I start willing to call some private method/s I split the original class and then test public interface of the new class.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-652">
					<div id="dsq-comment-header-652" class="dsq-comment-header">
						<cite id="dsq-cite-652">
	http://minhajuddin.com							<span id="dsq-author-user-652">Khaja Minhajuddin</span>
							</cite>
					</div>
					<div id="dsq-comment-body-652" class="dsq-comment-body">
						<div id="dsq-comment-message-652" class="dsq-comment-message"><p>For the last couple of posts, I am seeing a pattern emerge out of your blog posts. It seems to go this way:<br />
&#8221; .. blah blah blah we have a problem .. blah blah blah .. <b>And here comes NDepend to save the day .. </b> <img src='http://codebetter.com/patricksmacchia/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
</div>
					</div>
				</li>
					<li id="dsq-comment-653">
					<div id="dsq-comment-header-653" class="dsq-comment-header">
						<cite id="dsq-cite-653">
	http://www.NDepend.com							<span id="dsq-author-user-653">Patrick Smacchia</span>
							</cite>
					</div>
					<div id="dsq-comment-body-653" class="dsq-comment-body">
						<div id="dsq-comment-message-653" class="dsq-comment-message"><p>>It is just a code smell, when you want to call your private methods. It means your class has two (at least) responsibilities.</p>
<p>Dmitry, I don&#8217;t disagree, refactoring to make the class more testable is indeed a cleaner option than hard testing only public methods which is indeed a cleaner option than testing private class. </p>
<p>The problem is cost vs. clean, I estimate that sometime it is worth hooking some private methods, this is my opinion based on my real world programming, because the 2 other options cost &#8216;a lot&#8217; unfortunately and resources are not infinite.</p>
<p>>&#8221; .. blah blah blah we have a problem .. blah blah blah .. <b>And here comes NDepend to save the day .. </b> <img src='http://codebetter.com/patricksmacchia/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>Khaja, I explained my position with NDepend in the answers of my last posts. Concerning these 2 particular problems exposed (spaghetti code + testing private methods) I estimate that NDepend brings innovative solutions to the table that are worth being mentioned and debated. You are highly welcome to submit your own solutions and participate to the debate. Pure noise as you do is not added value and will be removed from now.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-654">
					<div id="dsq-comment-header-654" class="dsq-comment-header">
						<cite id="dsq-cite-654">
	http://twitter.com/zerobugbounce							<span id="dsq-author-user-654">Richard Lowe</span>
							</cite>
					</div>
					<div id="dsq-comment-body-654" class="dsq-comment-body">
						<div id="dsq-comment-message-654" class="dsq-comment-message"><p>Just as a side note, in the Microsoft.VisualStudio.QualityTools.UnitTestFramework.dll Assembly, there are two reflection helper classes called &#8216;PrivateObject&#8217; and &#8216;PrivateType&#8217; which assist specifically in calling the private parts of your classes and types, respectively.   I encourage you to check them out!</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-655">
					<div id="dsq-comment-header-655" class="dsq-comment-header">
						<cite id="dsq-cite-655">
								<span id="dsq-author-user-655">alwink</span>
							</cite>
					</div>
					<div id="dsq-comment-body-655" class="dsq-comment-body">
						<div id="dsq-comment-message-655" class="dsq-comment-message"><p>IMO the easiest for the long term would be to refactor the class into two classes. If you have to test a specific private method, that shouldn&#8217;t be used anywhere else, it looks like a hack to me. If it isn&#8217;t important enough to split up, don&#8217;t make the effort to test it.</p>
<p>And I would love to see a blog post that doesn&#8217;t read like a NDepend advertisement&#8230;</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-656">
					<div id="dsq-comment-header-656" class="dsq-comment-header">
						<cite id="dsq-cite-656">
	http://www.NDepend.com							<span id="dsq-author-user-656">Patrick Smacchia</span>
							</cite>
					</div>
					<div id="dsq-comment-body-656" class="dsq-comment-body">
						<div id="dsq-comment-message-656" class="dsq-comment-message"><p>Richard, yes I am aware of these classes + tooling that make them more usable. This is still using reflection (test code weakly typed) + potential security issue (CAS permission) + you cannot see in your code which private method is tested directly (fragile code, very easy to break test).</p>
<p>>IMO the easiest for the long term would be to refactor the class into two classes.</p>
<p>I didn&#8217;t say anything different, read my previous answers. The fact is that development resources are not infinite and in the real world choices have to be done.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-657">
					<div id="dsq-comment-header-657" class="dsq-comment-header">
						<cite id="dsq-cite-657">
								<span id="dsq-author-user-657">Steve Py</span>
							</cite>
					</div>
					<div id="dsq-comment-body-657" class="dsq-comment-body">
						<div id="dsq-comment-message-657" class="dsq-comment-message"><p>Sorry, but it is just a smell if you feel you need unit tests for private implementation. Unit tests or behavioural tests should be around public or &#8220;internally public&#8221; implementation. The internals of private implementation should be fully testable through the behaviours of the public interface. Otherwise you have code that&#8217;s doing too much, or something equally sinister that needs attention.</p>
<p>I can&#8217;t think of any time I have felt that the only way I could test a block of code was to hook into the private methods directly&#8230; At least not in situations where it would have been much more effective to re-factor the code.</p>
<p>Granted, this does take an investment in time, but if you&#8217;ve got time to scrutinize cyclic-namespaces and the like, you should be able to justify cleaning up smelly bits as well. (Though I&#8217;m not sure if NDepend does *that* for us just yet. <img src='http://codebetter.com/patricksmacchia/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> </p>
</div>
					</div>
				</li>
					<li id="dsq-comment-658">
					<div id="dsq-comment-header-658" class="dsq-comment-header">
						<cite id="dsq-cite-658">
								<span id="dsq-author-user-658">Sandor Davidhazi</span>
							</cite>
					</div>
					<div id="dsq-comment-body-658" class="dsq-comment-body">
						<div id="dsq-comment-message-658" class="dsq-comment-message"><p>You say it can get complicated when you have to bring the object to a certain state through public methods to be able to test every line of a private method. That is true, however, with your solution a programmer would have to keep attributes up to date in every class AND check if they are used correctly with a third party tool. So, I don&#8217;t think we are better with either solution from the standpoint of the amount of work and attention needed. However, there is a very important standpoint, which decides to test private methods independently or not.</p>
<p>Unit test are also meant to verify your code, for example to discover, if there is dead code which never gets reached from your public methods. It is very easy to get lost in a long private method and write up something, that never gets evaluated, but there is something fairly important going on in there.</p>
<p>And generally, you are required to write test for those public methods anyway, so why not extend those tests to test that class thoroughly, including all cases of private methods? And it is even easier to verify your work: just check your coverage report.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-659">
					<div id="dsq-comment-header-659" class="dsq-comment-header">
						<cite id="dsq-cite-659">
	http://jamespeckham.com							<span id="dsq-author-user-659">james peckham</span>
							</cite>
					</div>
					<div id="dsq-comment-body-659" class="dsq-comment-body">
						<div id="dsq-comment-message-659" class="dsq-comment-message"><p>In regards to your type safety consider something like this using inheritance.</p>
<p>public class Cat<br />
{<br />
   private string name;<br />
}</p>
<p>you&#8217;d write something to inherit from that to make it testable</p>
<p>public class TestCat : Cat<br />
{<br />
    public string TestName<br />
    {get{/* do your reflection in here to get name */}}<br />
}</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-660">
					<div id="dsq-comment-header-660" class="dsq-comment-header">
						<cite id="dsq-cite-660">
								<span id="dsq-author-user-660">Bernhard Hofmann</span>
							</cite>
					</div>
					<div id="dsq-comment-body-660" class="dsq-comment-body">
						<div id="dsq-comment-message-660" class="dsq-comment-message"><p>All debate of whether or not to test private methods aside; I still think this is a bad practice. It might work if what you are building contains your libraries and ALL CONSUMERS. But if you are building for a third party, your query for usage outside the tests is pointless.</p>
<p>I&#8217;m not &#8220;feeling&#8221; this at all. Sorry.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-661">
					<div id="dsq-comment-header-661" class="dsq-comment-header">
						<cite id="dsq-cite-661">
	http://www.NDepend.com							<span id="dsq-author-user-661">Patrick Smacchia</span>
							</cite>
					</div>
					<div id="dsq-comment-body-661" class="dsq-comment-body">
						<div id="dsq-comment-message-661" class="dsq-comment-message"><p>Thanks all for participating in the debate,</p>
<p>As Bernhard underlined, &#8220;All debate of whether or not to test private methods aside&#8221;, this is indeed not the debate.</p>
<p>It seems that this practice is not appealing to most of you. We found it pretty convenient though and I wanted to share the trick. Our main usage is to avoid spending hours to cover one or two lines to jump from 99% coverage to 100% coverage. I don&#8217;t feel good having almost 100% coverage but not exactly 100% and I don&#8217;t think it is productive investing hours in test/refactoring to cover very few lines.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-662">
					<div id="dsq-comment-header-662" class="dsq-comment-header">
						<cite id="dsq-cite-662">
								<span id="dsq-author-user-662">Hussein Mehanna</span>
							</cite>
					</div>
					<div id="dsq-comment-body-662" class="dsq-comment-body">
						<div id="dsq-comment-message-662" class="dsq-comment-message"><p>I think that being able to access your private methods is a neat trick.</p>
<p>I personally use it extensively to simulate special\corner scenarios quickly without having to invest in mock objects. Specially when I am working with legacy code that hasn&#8217;t been designed to allow the usage of mock objects.</p>
<p>We use another way to access private methods. What we do is after the assembly we want to test is built, using reflection we create another assembly that turns all the non public fields\properties\methods etc into public. We call this publicizing the dll.</p>
<p>Saves us some work.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-663">
					<div id="dsq-comment-header-663" class="dsq-comment-header">
						<cite id="dsq-cite-663">
	http://www.4444444444444444409hcvw0wvhm9p8hemc.com							<span id="dsq-author-user-663">Preved</span>
							</cite>
					</div>
					<div id="dsq-comment-body-663" class="dsq-comment-body">
						<div id="dsq-comment-message-663" class="dsq-comment-message"><p>I do agree with you. <a href="http://111111111tv0m0vttqay-7vt-vt0-mqva.com" rel="nofollow">http://111111111tv0m0vttqay-7vt-vt0-mqva.com</a> sdrafx <a href="http://22222222qvttv3y9tv9qv9qv38cvm9u.com/">222222</a> [url=http://33333333333333333sfgwet.com]333333[/url]Simple superb.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-664">
					<div id="dsq-comment-header-664" class="dsq-comment-header">
						<cite id="dsq-cite-664">
								<span id="dsq-author-user-664">Damokles</span>
							</cite>
					</div>
					<div id="dsq-comment-body-664" class="dsq-comment-body">
						<div id="dsq-comment-message-664" class="dsq-comment-message"><p>What about using Publicize to Create Private Accessors: <a href="http://msdn.microsoft.com/en-us/library/bb514191.aspx" rel="nofollow">http://msdn.microsoft.com/en-us/library/bb514191.aspx</a></p>
</div>
					</div>
				</li>
				</ul>
		</div>
	</div>

<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript">
/* <![CDATA[ */
	var disqus_url = 'http://codebetter.com/patricksmacchia/2009/05/10/calling-private-methods-from-unit-tests/ ';
	var disqus_identifier = '116 /blogs/patricksmacchia/archive/2009/05/10/calling-private-methods-from-unit-tests.aspx';
	var disqus_container_id = 'disqus_thread';
	var disqus_domain = 'disqus.com';
	var disqus_shortname = 'codebetter';
	var disqus_title = "Calling private methods from Unit Tests";
		var disqus_config = function () {
	    var config = this; // Access to the config object

	    /* 
	       All currently supported events:
	        * preData â€” fires just before we request for initial data
	        * preInit - fires after we get initial data but before we load any dependencies
	        * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
	        * afterRender - fires when template is rendered but before we show it
	        * onReady - everything is done
	     */

		config.callbacks.preData.push(function() {
			// clear out the container (its filled for SEO/legacy purposes)
			document.getElementById(disqus_container_id).innerHTML = '';
		});
				config.callbacks.onReady.push(function() {
			// sync comments in the background so we don't block the page
			DISQUS.request.get('?cf_action=sync_comments&post_id=116');
		});
					};
	var facebookXdReceiverPath = 'http://codebetter.com/patricksmacchia/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
	var DsqLocal = {
		'trackbacks': [
		],
		'trackback_url': "http:\/\/codebetter.com\/patricksmacchia\/2009\/05\/10\/calling-private-methods-from-unit-tests\/trackback\/"	};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript';
	dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.61';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
									</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter//third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.738 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-25 15:12:36 -->
<!-- super cache -->