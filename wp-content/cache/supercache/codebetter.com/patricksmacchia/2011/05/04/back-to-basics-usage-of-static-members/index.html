<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Back to basics: Usage of static members | Patrick Smacchia</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/patricksmacchia/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css?v=3912785705" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript' src='http://dtym7iokkjlif.cloudfront.net/dough/1.0/recipe.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/patricksmacchia/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='100% code coverage to the rescue' href='http://codebetter.com/patricksmacchia/2011/03/15/100-code-coverage-to-the-rescue/' />
<link rel='next' title='Workaround for: Cannot assign lambda expression to a range variable' href='http://codebetter.com/patricksmacchia/2011/05/16/workaround-of-a-pesky-linq-limitation/' />
<meta name="generator" content="WordPress 3.4.2" />
<link rel='shortlink' href='http://codebetter.com/patricksmacchia/?p=254' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[83,148] -->
<link rel="canonical" href="http://codebetter.com/patricksmacchia/2011/05/04/back-to-basics-usage-of-static-members/" />
<!-- /all in one seo pack -->
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.3.3" type="text/css" media="screen" />

<!-- Start Shareaholic OgTags -->

	<!-- Shareaholic Notice: There is neither a featured nor gallery image set -->

<!-- End Shareaholic OgTags -->

<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/dc168cf39155d7b5d39f696ca94d5980.js?v=5302176208">/*Is Cache!*/</script>
                	
	<script type='text/javascript' src='http://d1.openx.org/spcjs.php?id=7744&amp;target=_blank'></script>
	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>
<!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">
			<!-- BuySellAds Zone Code -->
<div id="bsap_1276080" class="bsarocks bsap_4fe632babdccc2b4b049e4f08cc3c549"></div>
<!-- End BuySellAds Zone Code --></div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-254" class="post-254 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Back to basics: Usage of static members</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/patricksmacchia/author/patricksmacchia/" title="View all posts by Patrick Smacchia">Patrick Smacchia</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/patricksmacchia/2011/05/04/back-to-basics-usage-of-static-members/" title="9:06 am" rel="bookmark"><span class="entry-date">May 4, 2011</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/patricksmacchia/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/patricksmacchia/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><!-- Start Shareaholic LikeButtonSetTop Automatic --><!-- End Shareaholic LikeButtonSetTop Automatic --><p>Using the <span style="color: #0000ff">static </span>keyword should be considered as an unnatural design act in a OOP world. The problem is that developers get punished for using static fields and methods, months or years after having creating them. And indeed, reasons why static members are harmful are not obvious. But I won&#8217;t bash static members here since they can also be pretty useful in precise scenarios. Let&#8217;s develop a bit.</p>
<h2>Static fields: use them only for constant and immutable states</h2>
<p>In C#, the keywords <span style="color: #0000ff">const</span> and <span style="color: #0000ff">readonly </span>are used to mark a field as constant. <em>de-facto </em>const fields are static and immutable but it is not the case for readonly fields. Having a readonly static fields means that the object referenced by the static field will remain the same during the outer AppDomain lifetime. It doesn&#8217;t mean that the object is immutable. For example, one can have a readonly static field referencing a dictionary instance. And <a href="http://stackoverflow.com/questions/35002/does-c-have-a-way-of-giving-me-an-immutable-dictionary">dictionaries in .NET are not immutable</a> because one can still add/remove some key/value pairs at any time.</p>
<pre><span style="color: #0000ff">readonly static</span> <span style="color: #008080">IDictionary</span>&lt;<span style="color: #0000ff">string</span>, <span style="color: #0000ff">string</span>&gt; s_CountryCodeCorrespondance =
   <span style="color: #0000ff">new </span><span style="color: #008080">Dictionary</span>&lt;<span style="color: #0000ff">string</span>, <span style="color: #0000ff">string</span>&gt; {
    {<span style="color: #993300">"+1"</span> , <span style="color: #993300">"USA"</span> }, {<span style="color: #993300">"+33"</span> , <span style="color: #993300">"France</span>" }, {<span style="color: #993300">"+44"</span> , <span style="color: #993300">"UK"</span> }, <span style="color: #339966">/*...*/</span>
  };</pre>
<p>In the example above, the dictionary instance is not <em>by-design</em> immutable, but its <em>semantic </em>makes it immutable (it is pretty rare that a new country code is created or changed). There are several ways to transform this <em>semantical </em>immutability to a <em>by-design </em>immutability. Maybe the easiest way would be to nest the static dictionary inside a dedicated class that would limit accesses to the dictionary:</p>
<pre><span style="color: #0000ff">static class</span> <span style="color: #008080">CountryCodeCorrespondance</span> {
   <span style="color: #0000ff">internal static bool</span> TryGetCountryFromCode(<span style="color: #0000ff">string </span>code, <span style="color: #0000ff">out string </span>country) {
      <span style="color: #0000ff">return </span>s_CountryCodeCorrespondance.TryGetValue(code, <span style="color: #0000ff">out </span>country);
   }<span style="color: #0000ff">
      readonly static</span> <span style="color: #008080">IDictionary</span>&lt;<span style="color: #0000ff">string</span>, <span style="color: #0000ff">string</span>&gt; s_CountryCodeCorrespondance =
   <span style="color: #0000ff">   new </span><span style="color: #008080">Dictionary</span>&lt;<span style="color: #0000ff">string</span>, <span style="color: #0000ff">string</span>&gt; {
       {<span style="color: #993300">"+1"</span> , <span style="color: #993300">"USA"</span> }, {<span style="color: #993300">"+33"</span> , <span style="color: #993300">"France</span>" }, {<span style="color: #993300">"+44"</span> , <span style="color: #993300">"UK"</span> }, <span style="color: #339966">/*...*/</span>
   };
}</pre>
<p>Here, in my opinion, we have a static field that will never provoke any pain because it is both constant (in the sense the instance will remain unique) and immutable (there is no way to tweak the state of the object).</p>
<p>But why did I come to the conclusion that non-constant or non-immutable static fields, are harmful? Static fields are appealing for programmers because they represent an immediate way to maintain and provide a state across a program (the <strong>global state</strong> <em>syndroma</em>). But a code base will necessarily become more complex in the future. This means that no matter the static field is private or not, direct and indirect accesses to the static field at runtime will become chaotic. Several part of the code will read and mutate the field states and at a point, predicting the static field&#8217;s state at run-time will be close to impossible. Obviously it gets even worse in a multi-threaded environment.</p>
<p>Concerning relying on the popular <strong>singleton </strong>pattern, I attest that I always ended up removing all singletons I formerly created. Most of the time a singleton object maintains directly or indirectly one or several mutable states and this provokes a contention point. Singletons  makes things even more complex to debug, since by nature, a singleton encapsulates and then hides the mutable state(s) maintained, making potential debugging drama luring.</p>
<p>Another &#8211; less obvious &#8211; point against singletons and all kind of static mutable states is that they are <em> </em>out of scope of any future potential <strong>context</strong>. The context of a static field is <em>by-design </em>its parent AppDomain. They are some circumstances where developers wish a finer grained context. I learn it the hard way when NDepend became <a href="http://www.ndepend.com/NDependv3.aspx" target="_blank">a Visual Studio addin</a>. Addins can be enabled and disabled at whim by the VS user at VS run-time. But under-the-hood this takes place in the same AppDomain. So if a VS addin relies on some static mutable states, it is its responsibility to initialize and reset <em>all </em>static mutable states of the program at addin enabling and disabling time.</p>
<p>For sure, not every program will end up being a VS (or another host) addin. But most of program comes with a <strong>unit tests</strong> battery. Typically, tests are executed consecutively in the same AppDomain. And each test represent a mini context. At test  run-time, static mutable fields are accessed and mutated again and again by tests  executed in a random order (one should never rely on tests execution  order). Hence it is the responsibility of each test, or at least each  test suite, to set correctly <em>all </em>static mutable states. This makes unit-test activity more error-prone and harder to write.</p>
<h2>Static methods</h2>
<p>For all the reasons enumerated, having some non constant or mutable static states will provoke pain sooner or later. However, static methods are pretty harmless as long as they don&#8217;t mutate any static state (which is obviously impossible in a program that doesn&#8217;t have any mutable static state). Personally, I end up implementing a lot of complex algorithms in one or several static methods, often encapsulated in a dedicated stateless static class. Many algorithm are easier to read and maintain when they are written in a procedural fashion. It is not by chance that  algorithms <a href="http://personal.denison.edu/~havill/algorithmics/algs.html">are often exposed</a> through a procedural pseudo-code sample.</p>
<p>But the killer reason for implementing algorithm with a stateless procedural style, through static methods, is that it lets the programmer formalize inputs and outputs through a single method call. As an immediate benefit, this makes corresponding unit-tests much easier to write.</p>
<p>A distinction can be made between algorithm that mutate inputs, and pure algorithms (or pure static functions) that keep all inputs constant. Obviously having pure static methods is preferable, but personally, I can&#8217;t remember a situation where I&#8217;ve been doomed by non-pure static methods.</p>
<p>Of course OOP purists can blame me for advising some procedural code style (and indeed, I got blamed for using many static methods in <a href="http://filedirectorypath.codeplex.com/">NDepend.Helpers.FilePathDirectory</a>). But for all reasons exposed, I consider they help me write more readable, more testable and more maintainable code as long as no static state gets mutated.</p>
<div class="shr-publisher-254"></div><!-- Start Shareaholic LikeButtonSetBottom Automatic --><!-- End Shareaholic LikeButtonSetBottom Automatic -->											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/patricksmacchia/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/patricksmacchia/2011/05/04/back-to-basics-usage-of-static-members/" title="Permalink to Back to basics: Usage of static members" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/patricksmacchia/2011/05/04/back-to-basics-usage-of-static-members/feed/" title="Comments RSS to Back to basics: Usage of static members" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-254 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/patricksmacchia/2011/03/15/100-code-coverage-to-the-rescue/" rel="prev"><span class="meta-nav">&larr;</span> 100% code coverage to the rescue</a></div>
					<div class="nav-next"><a href="http://codebetter.com/patricksmacchia/2011/05/16/workaround-of-a-pesky-linq-limitation/" rel="next">Workaround for: Cannot assign lambda expression to a range variable <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
                    <div id="dsq-content">
            <ul id="dsq-comments">
                    <li id="dsq-comment-1227">
                    <div id="dsq-comment-header-1227" class="dsq-comment-header">
                        <cite id="dsq-cite-1227">
                                <span id="dsq-author-user-1227">Terry Burns-Dyson</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1227" class="dsq-comment-body">
                        <div id="dsq-comment-message-1227" class="dsq-comment-message"><p>What do you replace Singletons with? In the case of a connection string required throughout the lifetime of a session or a need to get a handle on your IoC container? </p>
<p>I&#8217;d like to learn more about why and my alternatives. I&#8217;m ok with &#8220;you&#8217;re currently doing it wrong.. because.. &#8221; but I like to know why, how I can change and what I should change. </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1228">
                    <div id="dsq-comment-header-1228" class="dsq-comment-header">
                        <cite id="dsq-cite-1228">
                                <span id="dsq-author-user-1228">Anonymous</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1228" class="dsq-comment-body">
                        <div id="dsq-comment-message-1228" class="dsq-comment-message"><p>&gt;I&#8217;m ok with &#8220;you&#8217;re currently doing it wrong.. because.. &#8221; </p>
<p>I see this post more like &#8216;I got to learn the hard way that it is harmful because&#8230;, so I warn you&#8217;</p>
<p>&gt;What do you replace Singletons with?</p>
<p>There are multiples possible designs solutions.<br />
Certainly the easier way would be to encapsulate the &#8216;session&#8217; context (including things like cnx string) in a class with a single instance during the session lifetime. This instance would be created at the session initi, and discarded at the session end.<br />
This instance would be passed to all methods that need to access the context. This is acceptable if a few methods are relying on the context (but this is often the case isn&#8217;t it?). Doing so comes with the advantage of making obvious where the context is used. As a benefit avoiding anarchy in context access is easier.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1229">
                    <div id="dsq-comment-header-1229" class="dsq-comment-header">
                        <cite id="dsq-cite-1229">
                                <span id="dsq-author-user-1229">Terry Burns-Dyson</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1229" class="dsq-comment-body">
                        <div id="dsq-comment-message-1229" class="dsq-comment-message"><p>Thank-you for the answer. I enjoyed reading the post, and find others opinions and arguments useful to learn myself. I just make sure to ask the question, because there are a lot of posts out there that are &#8220;This is bad, don&#8217;t do it&#8221; without &#8220;Here&#8217;s how I got around this.. &#8221; </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1230">
                    <div id="dsq-comment-header-1230" class="dsq-comment-header">
                        <cite id="dsq-cite-1230">
    http://profiles.google.com/mike.strobel                            <span id="dsq-author-user-1230">Mike Strobel</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1230" class="dsq-comment-body">
                        <div id="dsq-comment-message-1230" class="dsq-comment-message"><p>Nice writeup&#8211;I agree completely.  Static data should, in most cases, be constant and immutable (though there are exceptions to every rule).  Static methods are generally fine, and may even be preferred for algorithms with extremely hot code paths, as they are &#8220;cheaper&#8221; to invoke.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1232">
                    <div id="dsq-comment-header-1232" class="dsq-comment-header">
                        <cite id="dsq-cite-1232">
                                <span id="dsq-author-user-1232">Steve Py</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1232" class="dsq-comment-body">
                        <div id="dsq-comment-message-1232" class="dsq-comment-message"><p>A bit of a comment on Static methods. Private static methods are generally quite harmless so long as they don&#8217;t mutate or rely on mutable static state. Visual studio even goes so far as to pick this up as an optimization to make private methods that do not access state static. However, public static methods are significantly more risky from a unit testing perspective. They&#8217;re no more difficult to test, but are more difficult to test around (Unit testing code that is calling static methods) should their implementation not be pure. </p>
<p>Unit testing a method that calls a static method:</p>
<p>public void SomeMethodUnderTest()<br />
{<br />
   var someResult = SomeStaticEnabledClass.StaticMethodThatDoesStuff(/*parameters */);<br />
   // continue with it&#8230;<br />
}</p>
<p>from a unit testing perspective is little different from encountering something like:</p>
<p>public void SomeMethodUnderTest()<br />
{<br />
   var someResult = new SomeUtilityClass().MethodThatDoesStuff(/*parameters*/);<br />
   // continue with it&#8230;<br />
}</p>
<p>The utility class is a dependency of the method under test, and newing a servicing instance like that should raise a few alarms from a testability viewpoint. Life is a lot simpler if dependencies can easily be substituted out under test. Pure static methods that merely provide functional computation are innocent enough; However the smell of seeing static methods called in-line should be treated like smoke: Be on the lookout for nearby flames.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1233">
                    <div id="dsq-comment-header-1233" class="dsq-comment-header">
                        <cite id="dsq-cite-1233">
                                <span id="dsq-author-user-1233">Anonymous</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1233" class="dsq-comment-body">
                        <div id="dsq-comment-message-1233" class="dsq-comment-message"><p>Steve, I double-read your comment but I don&#8217;t understand the disadvantage you found in testing static method??</p>
<p>&gt;However, public static methods are significantly more risky from a unit testing perspective.<br />
??<br />
&gt;They&#8217;re no more difficult to test, but are more difficult to test around<br />
??<br />
&gt;newing a servicing instance like that should raise a few alarms from a testability viewpoint.<br />
??</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1234">
                    <div id="dsq-comment-header-1234" class="dsq-comment-header">
                        <cite id="dsq-cite-1234">
    http://profiles.google.com/mrsalmon                            <span id="dsq-author-user-1234">Matt Salmon</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1234" class="dsq-comment-body">
                        <div id="dsq-comment-message-1234" class="dsq-comment-message"><p>Unit testing of static methods is painful due to dependencies.  For example, you have a static method on a class: MyClass.StaticMethod.</p>
<p>Unit testing this is fine.</p>
<p>Now, I implement a different class, with a method that internally uses the above static method:</p>
<p>public class AnotherClass<br />
{<br />
    public void DoStuff()<br />
    {<br />
        MyClass.StaticMethod();<br />
    }<br />
}</p>
<p>Herein is the problem &#8211; I CANNOT unit test my DoStuff() method, without setting up all the requirements for the static method.  It is preferable to have some kind of inversion of control where I can mock your class, and test my method irrespective of the way the static method functions.</p>
<p>Does that makes sense?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1235">
                    <div id="dsq-comment-header-1235" class="dsq-comment-header">
                        <cite id="dsq-cite-1235">
                                <span id="dsq-author-user-1235">Anonymous</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1235" class="dsq-comment-body">
                        <div id="dsq-comment-message-1235" class="dsq-comment-message"><p>&gt;I CANNOT unit test my DoStuff() method, without setting up all the requirements for the static method.</p>
<p>There is no requirements to set for a static method that is not relying on any mutable state/outer context.</p>
<p>&gt;It is preferable to have some kind of inversion of control where I can mock your class, and test my method irrespective of the way the static method functions.</p>
<p>Why would you wish to mock a static method that is note relying on any outer context?</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1237">
                    <div id="dsq-comment-header-1237" class="dsq-comment-header">
                        <cite id="dsq-cite-1237">
    http://adamschepis.com                            <span id="dsq-author-user-1237">Adam Schepis</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1237" class="dsq-comment-body">
                        <div id="dsq-comment-message-1237" class="dsq-comment-message"><p>I couldn&#8217;t agree more.  In fact, i wrote about this very recently on my blog and generated quite a bit of discussion:.</p>
<p><a href="http://adamschepis.com/blog/2011/05/02/im-adam-and-im-a-recovering-singleton-addict/" rel="nofollow">http://adamschepis.com/blog/2011/05/02/im-adam-and-im-a-recovering-singleton-addict/</a></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1238">
                    <div id="dsq-comment-header-1238" class="dsq-comment-header">
                        <cite id="dsq-cite-1238">
                                <span id="dsq-author-user-1238">Steve Py</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1238" class="dsq-comment-body">
                        <div id="dsq-comment-message-1238" class="dsq-comment-message"><p>Matt hit it on the head.</p>
<p>@Patrick<br />
&gt;There is no requirements to set for a static method that is not relying on any mutable state/outer context.</p>
<p>That was entirely my point with: &#8220;Pure static methods that merely provide functional computation are innocent enough; However the smell of seeing static methods called in-line should be treated like smoke: Be on the lookout for nearby flames.&#8221; </p>
<p>The pain comes with code that *does* use mutable state. Static methods that do are the fires, seeing static methods called in-line is a smoky smell. Someone can easily enough write unit tests for code that is calling a mutable static call and it may even work, for now. But it is a dependency not controlled by the test and you can easily be looking at fragile test scenarios.<br />
Personally I like to avoid static calls as much as possible.</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1239">
                    <div id="dsq-comment-header-1239" class="dsq-comment-header">
                        <cite id="dsq-cite-1239">
                                <span id="dsq-author-user-1239">Anonymous</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1239" class="dsq-comment-body">
                        <div id="dsq-comment-message-1239" class="dsq-comment-message"><p>&gt;The pain comes with code that *does* use mutable state.</p>
<p>But if there is no static mutable state, a static method can only mutate the state of its inputs or create new states by creating new objects.</p>
<p>On this point we disagree, since my stance is that:</p>
<p>&#8220;A distinction can be made between algorithm that mutate inputs, and pure<br />
 algorithms (or pure static functions) that keep all inputs constant.<br />
Obviously having pure static methods is preferable, but personally, I<br />
can’t remember a situation where I’ve been doomed by non-pure static<br />
methods.&#8221;</p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1240">
                    <div id="dsq-comment-header-1240" class="dsq-comment-header">
                        <cite id="dsq-cite-1240">
    http://javarevisited.blogspot.com/                            <span id="dsq-author-user-1240">Javin Paul</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1240" class="dsq-comment-body">
                        <div id="dsq-comment-message-1240" class="dsq-comment-message"><p>It&#8217;s not that static is bad , its correct usage of it. I have seen where logger instance we have at class level and always static to use it on both static and non static method but beware of  any static field in multi-threaded environment  can cause you serious race condition.</p>
<p>Javin</p>
<p><a href="http://javarevisited.blogspot.com/2011/04/synchronization-in-java-synchronized.html" rel="nofollow">How Synchronization works in Java</a></p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1279">
                    <div id="dsq-comment-header-1279" class="dsq-comment-header">
                        <cite id="dsq-cite-1279">
    http://javarevisited.blogspot.com/2011/01/how-classpath-work-in-java.html                            <span id="dsq-author-user-1279">JP@ classpath in Java</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1279" class="dsq-comment-body">
                        <div id="dsq-comment-message-1279" class="dsq-comment-message"><p>One more issue with static keyword is that they often result in breaking thread-safety of class. most of the time concurrency issue occur due to static variable if they were not synchronized properly.</p>
<p>Javin<br />
<a href="http://javarevisited.blogspot.com/2011/02/how-hashmap-works-in-java.html" rel="nofollow">How HashMap in Java perform get operation</a>  &lt;a </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1534">
                    <div id="dsq-comment-header-1534" class="dsq-comment-header">
                        <cite id="dsq-cite-1534">
    http://tutiez.com/how-to-declare-constant-in-java.html                            <span id="dsq-author-user-1534">pranav</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1534" class="dsq-comment-body">
                        <div id="dsq-comment-message-1534" class="dsq-comment-message"><p>Very good and informative, I completely agree static should be used for constant and immutable types. </p>
</div>
                    </div>
                </li>
                    <li id="dsq-comment-1623">
                    <div id="dsq-comment-header-1623" class="dsq-comment-header">
                        <cite id="dsq-cite-1623">
    http://thecafetechno.com/tutorials/interview-questions/most-frequently-asked-core-java-interview-questions-and-answers/                            <span id="dsq-author-user-1623">dharmendra@thecafetechno.com</span>
                            </cite>
                    </div>
                    <div id="dsq-comment-body-1623" class="dsq-comment-body">
                        <div id="dsq-comment-message-1623" class="dsq-comment-message"><p>nice post thanks for sharing</p>
</div>
                    </div>
                </li>
                </ul>
        </div>
    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://codebetter.com/patricksmacchia/2011/05/04/back-to-basics-usage-of-static-members/';
    var disqus_identifier = '254 http://codebetter.com/patricksmacchia/?p=254';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'codebetter';
    var disqus_title = "Back to basics: Usage of static members";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /* 
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=254');
        });
                    };
    var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/codebetter.com\/patricksmacchia\/2011\/05\/04\/back-to-basics-usage-of-static-members\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.67';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29416);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=2782afb'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29416&amp;n=2782afb' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29417);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=e94cea6'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29417&amp;n=e94cea6' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29418);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=9ba3022'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29418&amp;n=9ba3022' /></a></noscript><script type='text/javascript'><!--// <![CDATA[
    OA_show(29419);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=f467b52'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29419&amp;n=f467b52' /></a></noscript>
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(220407);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=68b8307'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=220407&amp;n=68b8307' /></a></noscript>				
				
				<ul class="xoxo">		
									</ul>	
				
<script type='text/javascript'><!--// <![CDATA[
    OA_show(29421);
// ]]> --></script><noscript><a target='_blank' href='http://d1.openx.org/ck.php?n=3f8e353'><img border='0' alt='' src='http://d1.openx.org/avw.php?zoneid=29421&amp;n=3f8e353' /></a></noscript>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="http://red-gate.com/">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="http://telerik.com">Telerik .NET Tools</a></li>
<li><a href="http://jetbrains.com/resharper/">JetBrains - ReSharper</a></li>
<li><a href="http://scootersoftware.com">Beyond Compare</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a></li>
<li><a href="http://umbraco.com" target="_blank">Umbraco</a></li>
<li><a href="http://nservicebus.com" target="_blank">NServiceBus</a></li>
<li><a href="http://ravendb.net" target="_blank">RavenDb</a></li>
<li><a href="http://www.websequencediagrams.com/" target="_blank">Web Sequence Diagrams</a></li>
	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '12<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

<script type='text/javascript'>//<![CDATA[
    if (typeof jQuery == 'undefined') {
        document.write(unescape("%3Cscript src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.2.min.js' type='text/javascript' %3E%3C/script%3E"));
    }//]]></script>
<script type='text/javascript' language='Javascript' src='http://s1.lqcdn.com/m.min.js?dt=2.3.110202.1'></script>
<script type='text/javascript' language='Javascript'> if(jQuery.LqmAds)jQuery.LqmAds();</script>
 
</body>
</html>
<!-- Dynamic page generated in 5.455 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 18:00:16 -->
<!-- super cache -->