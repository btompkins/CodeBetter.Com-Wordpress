<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Glenn Block</title>
	<atom:link href="http://codebetter.com/glennblock/feed/" rel="self" type="application/rss+xml" />
	<link>http://codebetter.com/glennblock</link>
	<description>CodeBetter.Com - Stuff you need to Code Better!</description>
	<lastBuildDate>Fri, 09 Nov 2012 17:54:08 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.4.2</generator>
		<item>
		<title>Updates to our Azure Cross Platform tools</title>
		<link>http://codebetter.com/glennblock/2012/11/09/updates-to-our-azure-cross-platform-tools/</link>
		<comments>http://codebetter.com/glennblock/2012/11/09/updates-to-our-azure-cross-platform-tools/#comments</comments>
		<pubDate>Fri, 09 Nov 2012 17:45:20 +0000</pubDate>
		<dc:creator>Glenn Block</dc:creator>
				<category><![CDATA[azure]]></category>
		<category><![CDATA[cli]]></category>

		<guid isPermaLink="false">http://codebetter.com/glennblock/?p=584</guid>
		<description><![CDATA[In my last post I talked about the new goodies we added to Powershell. Well I meant to get a follow up post to tell you about many of the same features which we also added to cross plat “azure”&#160;&#8230; <a href="http://codebetter.com/glennblock/2012/11/09/updates-to-our-azure-cross-platform-tools/">Continue&#160;reading&#160;<span class="meta-nav">&#8594;</span></a>]]></description>
			<content:encoded><![CDATA[<p>In my last post I talked about the new goodies we added to Powershell. Well I meant to get a follow up post to tell you about many of the same features which we also added to cross plat “azure” command line tool, but fortunately <a href="http://blogs.msdn.com/b/silverlining">Larry</a> beat me to it! The list includes site settings, github deployment and my favorite much needed feature that I have been asking for for so long I was going to implement it myself!, site restart.</p>
<p>Go check out his post here: <a title="http://blogs.msdn.com/b/silverlining/archive/2012/11/06/windows-azure-command-line-tools-for-mac-and-linux-version-0-6-7-is-available.aspx" href="http://blogs.msdn.com/b/silverlining/archive/2012/11/06/windows-azure-command-line-tools-for-mac-and-linux-version-0-6-7-is-available.aspx">http://blogs.msdn.com/b/silverlining/archive/2012/11/06/windows-azure-command-line-tools-for-mac-and-linux-version-0-6-7-is-available.aspx</a></p>
<p>Then repeat after me, “npm install azure –g”.</p>
]]></content:encoded>
			<wfw:commentRss>http://codebetter.com/glennblock/2012/11/09/updates-to-our-azure-cross-platform-tools/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>New Powershell command line goodies for Windows Azure at #bldwin</title>
		<link>http://codebetter.com/glennblock/2012/11/03/new-powershell-command-line-goodies-for-windows-azure-at-bldwin/</link>
		<comments>http://codebetter.com/glennblock/2012/11/03/new-powershell-command-line-goodies-for-windows-azure-at-bldwin/#comments</comments>
		<pubDate>Sat, 03 Nov 2012 19:18:44 +0000</pubDate>
		<dc:creator>Glenn Block</dc:creator>
				<category><![CDATA[azure]]></category>
		<category><![CDATA[cli]]></category>
		<category><![CDATA[node.js]]></category>
		<category><![CDATA[php]]></category>
		<category><![CDATA[powershell]]></category>
		<category><![CDATA[python]]></category>

		<guid isPermaLink="false">http://codebetter.com/glennblock/?p=543</guid>
		<description><![CDATA[Note: Please make sure to install Azure SDK 1.8 before installing the SDK. Some customers have ran into issues where the 1.8 SDK is not getting pulled in with our web pi feed. We just shipped the latest update for&#160;&#8230; <a href="http://codebetter.com/glennblock/2012/11/03/new-powershell-command-line-goodies-for-windows-azure-at-bldwin/">Continue&#160;reading&#160;<span class="meta-nav">&#8594;</span></a>]]></description>
			<content:encoded><![CDATA[<p><strong>Note</strong>:<u> Please make sure to </u><a href="http://www.microsoft.com/en-us/download/details.aspx?id=35448">install</a><u> Azure SDK 1.8 before installing the SDK. Some customers have ran into issues where the 1.8 SDK is not getting pulled in with our web pi feed.</u></p>
<p>We just shipped the latest update for our Powershell cmdlets for Windows Azure.&nbsp; It is literally packed with new and useful features which you’ve been asking for! Below is a quick summary of what is new followed by more detail.</p>
<ul>
<li>Django Web Role – Create a Python/Django web role!
<li>Windows Azure Websites (help website) – Create, delete, configure and manage your Windows Azure Websites. This includes the ability to do things like CRUD management of connection strings and app settings, setting number of workers and much more. On the management side you can drill into your deployments, do rollbacks or download the logs.
<li>Configuring Github deployment – This relates to Websites, but it’s too cool to bury it in the previous bullet. You can now connect your Website to Github all via the command line. This works really seamlessly if you are in an existing local git repo as we extract the info from your remotes. All of this without ever having to open a browser, w00t!
<li>SQL Database (help sql) – Create and manage SQL Server instances, firewall rules, etc in the cloud!
<li>Caching (help azurecache) – For PHP and Node developers you can scaffold a cache worker role which uses the new dedicated Azure cache. You can then enable your PHP/Node app running in a web role to talk to the cache using the Memcached driver! </li>
</ul>
<p>If you are like me and just want to jump in, don’t wait, just go grab the bits <a href="http://go.microsoft.com/fwlink/?LinkId=254279&amp;clcid=0x409">now</a>. And if you are like my friend @ayende and won’t use tools until you read the code, no problem, you can git that <a href="https://github.com/windowsazure/azure-sdk-tools">here</a> and step through line by line <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> </p>
<h2>Django</h2>
<p>Yes you read it right my friend, <strong><u><em>DJANGO</em></u></strong>. In the box you will also find a new cmdlet for scaffolding out a Django Web Role. That adds Python to the growing list of supported stacks.</p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image49.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image49_thumb.png" width="605" height="274"></a>&nbsp;</p>
<p>Speaking of Python, our Python editor team just released the RTM verson of Pytools <a href="http://pytools.codeplex.com">http://pytools.codeplex.com</a>. It includes a bunch of new stuff including management apis, support for web sites, live debug repl, debug &amp; watch, and more.</p>
<h2>Windows Azure Websites</h2>
<p><strong>Note:</strong> Example apps below are all node.js apps, but you can use Websites for .NET, Node and PHP.</p>
<p>We’ve introduced a comprehensive set of commands for working with your Websites. Just type “help website” and you’ll see. </p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image251.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image25_thumb1.png" width="568" height="166"></a> </p>
<h3>Creating websites</h3>
<p>Below you can see that how I create my website using the <strong>New-AzureWebsite</strong> cmdlet and enable git based deployment. I then push to my repo and see as expected that because this is a node app, npm kicks off to download my node.js modules. </p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image8.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image_thumb7.png" width="571" height="499"></a> </p>
<h2>Github based deployment</h2>
<p>In our last release of Windows Azure Websites we enabled you to wire up your Website to Github via the portal so that each time you push to Github, you push to your Website. Well now you can do the same via Powershell! Below you can see creating the same website only this time I specified to use Github which prompts me for my Github credentials.</p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image51.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image5_thumb1.png" width="576" height="410"></a>&nbsp;</p>
<p>After entering my credentials, Github is wired up. I then can use the Get-AzureDeployment cmdlet to check if my app has been deployed.</p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image111.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image11_thumb1.png" width="582" height="359"></a> </p>
<p>Note: With this release if your remote is using an SSH url, we will prompt you with a list of repos for you to select from. This is a point in time behavior will be fixed shortly to work the same way as we do for https remotes.</p>
<h3>Browsing</h3>
<p>Once I have a website created, I can use the convenient Show-AzureWebsite cmdlet.</p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image211.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image21_thumb1.png" width="585" height="338"></a> </p>
<p>And voila, my site will open in the browser.</p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image161.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image16_thumb1.png" width="589" height="404"></a> </p>
<h3>Site management</h3>
<p>The cmdlets offer you a lot of rich options for configuring your websites, and you can pipe them together for scripting. For example below I am retrieving the list of websites using <strong>Get-AzureWebsite</strong> and piping the resulting objects into the <strong>Remove-AzureWebsite </strong>cmdlet which removes all my websites. </p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image291.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image29_thumb1.png" width="585" height="258"></a></p>
<h2>App Settings</h2>
<p>One of the really nice features in the Websites portal experience is you can configure &#8220;App Settings”. For node developers this information is then surface as environment level variables which can be accessed within you application. It’s very useful for either secure information or environment specific settings. For example imagine I deploy the same site code to a staging website and a production website, I can use settings for storing the DB connection information so that each website connects to the correct server. With this release you can now do this via the CLI!</p>
<p>Below you can see a screenshot showing how I am configuring my app to have a “message” setting.</p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image9.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image_thumb8.png" width="591" height="239"></a>&nbsp;</p>
<p>I have modified my express app to then pull process.env.message for the main text:</p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image10.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image_thumb9.png" width="589" height="335"></a> </p>
<p>I can then retrieve the settings and modify them piping back the results directly using Set-AzureWebsite. The changes are instant.</p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image12.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image_thumb10.png" width="591" height="249"></a> </p>
</p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image13.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image_thumb11.png" width="593" height="338"></a> </p>
<h2>SQL Database</h2>
<p>If you are deploying apps to the cloud then most likely you need a database. In Windows Azure you have many options for hosted databases at your disposal including SQL Server, MySQL and now MongoDB. In this release we’re happy to announce that we’re shipping cmdlets for managing Azure hosted SQL Databases. Just type “help sql” and you’ll see the cmdlets.</p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image14.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image_thumb12.png" width="595" height="203"></a> </p>
<p>With the new cmdlets it is really easy to provision a new SQL server, add firewall rules and create databases</p>
<h2></h2>
<h2>Azure Cache role for node and PHP!</h2>
<p>One of the big requests we’ve heard from community was to support using the new Azure Cache from node.js and PHP applications. With this release we’ve now introduced a new set of cmdets for doing just that. You can create a dedicated cache in Worker Role and then wire up Web roles to communicate with that cache using the Memcached protocol. Below you can see how easy it is.</p>
<p><a href="http://codebetter.com/glennblock/files/2012/11/image15.png"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/11/image_thumb13.png" width="599" height="175"></a>&nbsp;</p>
<p>One the cache is wired up, you can then use either the node or PHP memcached driver to talk to it. When you connect to the client, you use the convention ‘localhost_[webrole]’ i.e. ‘localhost_WebRole1’ for the previous example to talk to the cache. Below is a snippet of how to do this in node using the mc module.</p>
<script src="http://gist.github.com/4008244.js"></script><noscript><link rel="stylesheet" href="https://gist.github.com/stylesheets/gist/embed.css"><div id="gist-4008244" class="gist">
    

        <div class="gist-file">
          <div class="gist-data gist-syntax">
              <div class="highlight"><pre><div class='line' id='LC1'><span class="kd">var</span> <span class="nx">mc</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;mc&quot;</span><span class="p">);</span></div><div class='line' id='LC2'><span class="kd">var</span> <span class="nx">mcclient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mc</span><span class="p">.</span><span class="nx">Client</span><span class="p">(</span><span class="s1">&#39;localhost_WebRole1&#39;</span><span class="p">);</span></div><div class='line' id='LC3'><span class="nx">mcclient</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span></div><div class='line' id='LC4'>&nbsp;&nbsp;&nbsp;&nbsp;<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Connected to the localhost memcache on port 11211!&quot;</span><span class="p">);</span></div><div class='line' id='LC5'><span class="p">});</span></div><div class='line' id='LC6'><br/></div></pre></div>
          </div>

          <div class="gist-meta">
            <a href="https://gist.github.com/raw/4008244/e82c1affe4b6b211c14d7184815a02272834b3eb/gistfile1.js" style="float:right;">view raw</a>
            <a href="https://gist.github.com/4008244#file_gistfile1.js" style="float:right;margin-right:10px;color:#666">gistfile1.js</a>
            <a href="https://gist.github.com/4008244">This Gist</a> brought to you by <a href="http://github.com">GitHub</a>.
          </div>
        </div>
</div>
</noscript>
<p>And here is how to do it in PHP.</p>
<script src="http://gist.github.com/4008327.js"></script><noscript><link rel="stylesheet" href="https://gist.github.com/stylesheets/gist/embed.css"><div id="gist-4008327" class="gist">
    

        <div class="gist-file">
          <div class="gist-data gist-syntax">
              <div class="highlight"><pre><div class='line' id='LC1'><span class="nv">$memcache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Memcache</span><span class="p">;</span></div><div class='line' id='LC2'><span class="nv">$memcache</span><span class="o">-&gt;</span><span class="na">connect</span><span class="p">(</span><span class="s1">&#39;localhost_WebRole1&#39;</span><span class="p">,</span> <span class="mi">11211</span><span class="p">)</span> <span class="k">or</span> <span class="k">die</span> <span class="p">(</span><span class="s2">&quot;Could not connect&quot;</span><span class="p">);</span></div><div class='line' id='LC3'><br/></div></pre></div>
          </div>

          <div class="gist-meta">
            <a href="https://gist.github.com/raw/4008327/5e85bb6c5e491728b120416c18e1ca5cf903272e/gistfile1.php" style="float:right;">view raw</a>
            <a href="https://gist.github.com/4008327#file_gistfile1.php" style="float:right;margin-right:10px;color:#666">gistfile1.php</a>
            <a href="https://gist.github.com/4008327">This Gist</a> brought to you by <a href="http://github.com">GitHub</a>.
          </div>
        </div>
</div>
</noscript>
<p>Using the new distributed cache can be a big help for applications that store large amounts of either transient / or lookup data. Currently we only support the dedicated cache, but we are looking to also support the shared in role cache. We could use your feedback though so let us know which models you use&nbsp; (distributed vs shared cache)</p>
<h2>Many more goodies to come</h2>
<p>This is just the beginning of what will be a wave of new Powershell cmdlets for Azure, things like ServiceBus, Azure Store and much much more.</p>
<p>Go get started by downloading them <a href="http://go.microsoft.com/fwlink/?LinkId=254279&amp;clcid=0x409">now</a></p>
<p>Let us know how you like the new cmdlets and if there are specific areas you’d like to see us invest in.</p>
<p><strong>Spoiler alert:</strong> We also just updated our npm package where you will find a bunch of this functionality also in our cross plat cli. Stay tuned as that post is next.</p>
<p>$havefun = Download_the_bits()</p>
]]></content:encoded>
			<wfw:commentRss>http://codebetter.com/glennblock/2012/11/03/new-powershell-command-line-goodies-for-windows-azure-at-bldwin/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>HuJS, bridging the international JavaScript divide</title>
		<link>http://codebetter.com/glennblock/2012/10/20/hujs-bridging-the-international-javascript-divide/</link>
		<comments>http://codebetter.com/glennblock/2012/10/20/hujs-bridging-the-international-javascript-divide/#comments</comments>
		<pubDate>Sat, 20 Oct 2012 16:05:00 +0000</pubDate>
		<dc:creator>Glenn Block</dc:creator>
				<category><![CDATA[Uncategorized]]></category>

		<guid isPermaLink="false">http://codebetter.com/glennblock/?p=514</guid>
		<description><![CDATA[Troy and I at HuJS A few weeks ago we held an event in China called HuJS. This was an event that Troy Howard and I dreamed up when I landed in China in July (Yes I was living in&#160;&#8230; <a href="http://codebetter.com/glennblock/2012/10/20/hujs-bridging-the-international-javascript-divide/">Continue&#160;reading&#160;<span class="meta-nav">&#8594;</span></a>]]></description>
			<content:encoded><![CDATA[<p><a href="http://codebetter.com/glennblock/files/2012/10/clip_image002.jpg"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="clip_image001[1]" src="http://codebetter.com/glennblock/files/2012/10/clip_image0011.jpg" width="514" height="571"></a> </p>
<p><i>Troy and I at HuJS</i> </p>
<p>A few weeks ago we held an event in China called <a href="http://hujs.org">HuJS</a>. This was an event that <a href="http://twitter.com/thoward37">Troy Howard</a> and I dreamed up when I landed in China in July (Yes I was living in China for 3 months, but that is for another post!). With the the help of a great <a href="http://hujs.org/#contact">team</a> and with folks like <a href="http://twitter.com/mikeal">Mikeal Rogers</a> and <a href="http://twitter.com/voodootikigod">Chris Williams</a> advising us from the sidelines, we were able to make it happen.&nbsp; The event was a wonderful experience for me on multiple levels. We exchanged knowledge, we forged new bonds with the community, and we raised more international awareness about what JavaScript developers are doing in China. </p>
<p>For folks that travelled to China it was also an amazing cultural experience as they got to soak up the local sites and the local culture. We took the speakers to see some of the most amazing places in the world, like the Pearl Tower, and they got to mingle with the awesome folks at <a href="http://xinchejian.com/">Xinchejian</a>, the local hacker space. </p>
<p>&nbsp; </p>
<h3><u>Things that went wrong</u> </h3>
<p>Every conf has it’s high points and it’s low points. Our lowest point was definitely the internet access at the venue. They were not prepared for the number of connections and well it just went down on the second day. And lucky for me, it happened right before my talk while I was prepping. For cloud talks that’s pretty murderous. <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' />  </p>
<p><a href="http://codebetter.com/glennblock/files/2012/10/clip_image00224.jpg"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="clip_image002[1]" src="http://codebetter.com/glennblock/files/2012/10/clip_image0021.jpg" width="515" height="345"></a> </p>
<p>&nbsp; </p>
<p>You can read the experiences of others who have attended in the posts below. </p>
<ul>
<li><a href="http://blog.lophilo.com/2012/09/report-from-nodejs-conference-in.html">http://blog.lophilo.com/2012/09/report-from-nodejs-conference-in.html</a>
<li><a href="https://c9.io/site/blog/2012/09/the-javascript-community-in-china/">https://c9.io/site/blog/2012/09/the-javascript-community-in-china/</a>
<li><a href="http://www.microsofttranslator.com/bv.aspx?from=&amp;to=en&amp;a=http://news.cnblogs.com/n/157911/">http://www.microsofttranslator.com/bv.aspx?from=&amp;to=en&amp;a=http://news.cnblogs.com/n/157911/</a> (translated)
<li><a href="http://blog.nodejitsu.com/around-the-world-19-days">http://blog.nodejitsu.com/around-the-world-19-days</a> </li>
</ul>
<p>&nbsp;</p>
<h2>The talks </h2>
<p><a href="http://codebetter.com/glennblock/files/2012/10/clip_image00226.jpg"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="clip_image003[1]" src="http://codebetter.com/glennblock/files/2012/10/clip_image0031.jpg" width="582" height="264"></a> </p>
<p>The first part of the event was ran in a JSConf event style with a single track of back-to-back sessions covering two days. We were fortunate to have a really dynamic mix of <a href="http://hujs.org/#speakers">speakers</a> both local and abroad covering topics like node.js in the real world, async, webkit, JS frameworks and cloud. </p>
<p><a href="http://codebetter.com/glennblock/files/2012/10/clip_image00228.jpg"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="clip_image004" src="http://codebetter.com/glennblock/files/2012/10/clip_image004.jpg" width="168" height="244"></a><a href="http://codebetter.com/glennblock/files/2012/10/clip_image00230.jpg"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="clip_image005[1]" src="http://codebetter.com/glennblock/files/2012/10/clip_image0051.jpg" width="172" height="244"></a> </p>
<h2>Travel issues </h2>
<p>Two folks however were not able to make it, though they really tried, <a href="http://twitter.com/rauchg">Guillermo Roach</a> of socket.io fame and <a href="http://twitter.com/vmg">Vicent Marti</a> of github. Both tried to improvise and find a way to deliver a talk remotely. For Vicent we actually were able to pull this off (not without hitches) however unfortunately due to internet issues, Guillermo was not able to join us at all <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_sad.gif' alt=':-(' class='wp-smiley' /> . I was really excited to have him joining us so I was completely bummed that everything fell through. </p>
<p>Guillermo did however record a talk for us on building high performance applications using HTTP, WebSocket and SPDY. Watching it makes me wish even more that he had been present to deliver it as it has great technical content and real world experiences around scaling node! </p>
<p>You can go watch it right now <a href="http://cl.ly/0P2k1y1k1d1k">here</a>! </p>
<h2>Surprise speaker </h2>
<p><a href="http://codebetter.com/glennblock/files/2012/10/clip_image007.jpg"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="clip_image007" src="http://codebetter.com/glennblock/files/2012/10/clip_image007_thumb.jpg" width="72" height="106"></a> </p>
<p>In Guillermo’s place, we were fortunate to have <a href="http://twitter.com/domenic">Domenic Denicola</a> of Barnes and Noble step in at the last minute and give a great talk on client side JavaScript! </p>
<h2>My Rundown of sessions </h2>
<p>Unfortunately I did not get to attend all sessions (goes with the territory of running an event), but here are notes on the ones I did attend, which ironically was many more sessions than I usually attend for events I go to. </p>
<p><b>“Building international communities” by <a href="http://www.twitter.com/thoward37">Troy Howard</a></b>. </p>
<p>In this talk which kicked off the event Troy Howard from App Fog, tried to rally Chinese developers to join the global OSS community. He talked about the Apache project (which he is a member of) and encouraged local developers to use more FOSS and get involved and to committing to Apache projects as well as other OSS projects. He told them “I want to see your names on the commit logs.” It was an inspirational talk and the community really enjoyed it. </p>
<p><b>“0 TO 60 MOBILE WEB APPS WITH KNOCKOUT.JS AND AZURE MOBILE SERVICES” by <a href="https://twitter.com/stevensanderson">Steve Sanderson</a>.</b> </p>
<p><b></b>Steven gave an amazing talk. He built a taxi reservation app initially using Knockout.js and a server backend. He then migrated the application to the cloud using Azure Mobile Services. From the feedback people loved it. This particular quote was from one attendee. “It&#8217;s quite possible that Microsoft may pull off a successful transition to open source, open web and cloud!” </p>
<p><b>“NODE.JS POT HOLES” by Yuan Feng. </b></p>
<p>Yuan Feng works at TaoBao, the EBay of China where they use node.js as part of their backend. His talk was lively and entertaining focusing on common but hidden pitfalls with node. Although his talk was in English, Yuan Feng went out of this way to provide English translation on each of his slides. The talk was interesting because Yuan Fang showed actual bugs they had encountered in their systems. </p>
<p><b>“INTERGALACTIC JAVASCRIPT ROBOTS FROM OUTER SPACE” by <a href="http://twitter.com/vmg">Vicent Marti</a>. </b></p>
<p>Vicent’s talk was on hubot, a bot authored in node.js which handles a lot of automated infrastructure tasks at Github. Hubot initially supported only IRC, but they added support for a ton of other protocols and it is extensible (Jabbr anyone). Hubot receives commands via chat which then cause it to kick off scripts which are written in coffeescript. The scripts will report back results which will get dumped to the channel. Some tasks are callable by anyone on the channel while others require authorization. Authorization is based on who the user actually is. The model is pretty simple and relies on in the IRC case that the user actually has a registered IRC name, thus they can be sure the person is who they say he is. I did ask myself a few times, why we don’t use this kind of automation internally <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> The best part of Vicent’s talk were his slides which were amazingly professional and artistic in a comic book sort of way. </p>
<p>The major hitch of his talk was that he was unable to join us live. He did however reluctantly agree to try to deliver the session remotely. Internet in Shanghai is NOT good, so this was a pretty brave undertaking. Vicent recorded his video ahead of time and sent it to me. We then played the video during his talk with him watching the screen on skype and live video showing his face. To keep it interactive, periodically I would pause the video and ask him a question, or he would give some more clarity. We hit a few technical hitches due to bandwidth issues (as predicted), but the video quality was fantastic thanks to it being pre-recorded. After his talk he had a few minutes for live Q&amp;A with the audience which they really appreciated. </p>
<p><b>”PORTING NODE: THE JOURNEY FROM LAKE JAVASCRIPT TO THE STRAIT OF LUA” by <a href="http://twitter.com/creationix">Tim Caswell</a>. </b></p>
<p>I found this to be a fascinating. Tim kept a really good pace with this talk for non-english speakers. He described how he set out to write <a href="http://luvit.io/">Luvit</a>, a Lua port of node on top of libuv. The reason he did this is because Lua runs in a lot of embedded devices. One huge challenge for him was he did not know C++ or Lua when he started the project. Tim described in detail the process of learning Libuv and Lua and then mapping out node concepts to Lua, and adjustments he had to make based on language constraints. With the help of a community that formed around the project he managed to get pretty darn close. </p>
<p><b>“WIND. JS debugging and troubleshooting support” by <a href="http://github.com/JeffreyZhao">Jeffrey Zhao</a>. </b></p>
<p>Wind.js is a pretty interesting async framework. It is yet another example of folks dying to have async/await type syntax in JavaScript. Like Streamline, Wind.js does rewriting, however unlike Streamline it does this all at runtime and doesn’t require running anything other than node. The downside is the syntax is pretty verbose and it deeply pollutes your code. In this talk Jeffrey talked about Wind.js and how to debug. As he does all the rewriting at runtime he’s able to capture all the information in memory to map back to the original lines of code, something that Streamine does not do. I am not a fan of the Wind.js approach because of how it “infects” the code, but I do see how the runtime rewriting has significant benefits over static generation which Streamline uses. Aside from that&nbsp; it was great to see some really interesting node hacking happening in mainland China. </p>
<p><b>“Run with node.js for fun and profit” by <a href="http://twitter.com/indexzero">Charlie Robbins</a>. </b>This was a variant of an earlier talk I’ve seen Charlie give which basically talks about the evolution of node.js, and how it is exploding. He used the exponents of 10 approach starting at 10 to the power of 1 and working his way up at each level talking about how it relates to node starting with 10 to the 1<sup>st</sup> as the number of core committers and working his way up including plenty of nodejitsu&nbsp; along the way. One thing Charlie did that really resonated with the crowd is he pulled several Chinese words into his slides. It was a fun talk. Charlie has celebrity status here however so people loved the talk regardless of what he said <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' />  </p>
<p><b>“Apps these days are too big” by <a href="http://github.com/substack">James Halliday</a>. </b></p>
<p>The main them of James’s talk was about not building monolithic node applications. This has been a passion area for James as he has authored several diff modules to address the problem. The crux of his talk was encouraging folks to break as much code as possible into npm modules and to use modules like <a href="https://github.com/substack/fleet">fleet</a> and <a href="https://github.com/substack/seaport">seaport</a> to allow apps to easily scale and to distribute workloads across many machines and processes. Fleet is a git integrated mechanism for continuous deployment and for process management. Seaport is a centralized registry for network based services. James argued with Seaport you can have components in your system sitting side by side but using different versions of the same service. He said both modules have been hugely valuable to running the infrastructure for Browserling. </p>
<p><b>“The Secrets of Node revealed on Windows and Azure” by Glenn Block.</b> </p>
<p>My talk was focused on educating and eradicating misconceptions about Node.js as it relates to Microsoft, Windows and Azure. The talk was a bit campy as I used one of those secrets revealed documentaries type of theme. I started off first talking a bit about myself and how I ended up in Shanghai and putting on the event. Then I talked about node.js, how it initially did not work on Windows and how Microsoft jumped in to help node.js have a first class experience on Windows. Next I showed npm and how that works on Windows. Next I moved to the cloud talking about how node.js works in Azure and finally how you can deploy to it from any platform or even deploy Linux VMs. As part of the talk I did a bunch of demos of node, npm and finally Azure. The Azure demo hit some hitches due to some network issues. I worked around them by using the Azure portal to deploy. Overall I think the audience was shocked and surprised to see node working on Windows. After my talk I had a guy come up to me who runs a local startup and say “I used to hate Microsoft because they didn’t care about OSS, that changed when I saw you today”. That made me pretty happy J </p>
<p><b>“NEW APP(&#8216;WINDOWS 8&#8242;);” by Aiken Qi. </b></p>
<p>Aiken Qi gave a nice overview of Windows 8 application development and the JavaScript programming model. He demoed a Windows 8 app live and also walked through the code. I spoke to several folks after the talk and they were really excited to see the way Microsoft has embraced JavaScript for client development. </p>
<h2>Panels </h2>
<p><a href="http://codebetter.com/glennblock/files/2012/10/clip_image0014.jpg"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="clip_image008" src="http://codebetter.com/glennblock/files/2012/10/clip_image008.jpg" width="244" height="164"></a><a href="http://codebetter.com/glennblock/files/2012/10/clip_image0034.jpg"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="clip_image009" src="http://codebetter.com/glennblock/files/2012/10/clip_image009.jpg" width="244" height="165"></a> </p>
<p>On both days we had a panel of the speakers for that day. That was really interesting because there was a mix of English an Mandarin speakers sitting side by side with questions coming from the audience for both and in two different languages J.&nbsp; The outcomes of the discussions were not so important, though there were some interesting ideas percolated. <u>The real I felt was in the international</u>. </p>
<p><b>Day 1</b> </p>
<p>On the first day the discussion was about frameworks. The first part was a frameworks vs libraries discussion for node of which most folks were on the side that you should prefer small libraries over frameworks. The second discussion was about javascript templating engines and which style of engines the speakers preferred, i.e. string based or DOM based. Most erred on the side of dom based, though Nodejitsu has an interesting model which plates which runs on the server and uses a string based representation of the DOM. Steve gave a really good explanation on the different between the different approaches which I really appreciated. Another topic that was covered was around the community in China and what folks in the panel thing China developers should do to be more involved. The basic sentiment was for folks to get more involved with OSS projects and to be active in the mailing lists. </p>
<p>I asked Charlie Robbins about native modules in node as it relates to cloud providers. Charlie said that nodejitsu fully supports native modules and that he believes all providers should do the same. His argument was there was just too many flavors of distros / configurations and that building was the only sure fire way to ensure it works. </p>
<p><b>Day 2</b> </p>
<p>The crux of the day 2 panel was about whether or not to use OOP libraries in JavaScript. The overall tone was don’t do it and embrace prototype, though a few folks thought it was perfectly fine to use OOP constructs. The second discussion was about coffeescript, should you use it or not. This came up in the context of Vicent’s talk on Hubot as it uses coffeescript. There was a split across the braod with the panelists. Some thought it was completely fine, others though it was horrible don’t do it and there were people in between. I spoke about my own personal pref which was to not use it in a published npm module though other than that it’s fine. One guy Domenic Denicola (from Barnes and Noble) pushed back and said if you are following James Halliday’s recommendation, then everything is a module thus you shouldn’t use Coffeescript at all. </p>
<p>Another question came up about which languages we use to develop. People cited various languages, but Domenic made an interesting comment, saying the only language here cares to learn nowadays is JavaScript and that with server support he needs nothing else. Domenic was a little biased as a lot of the work he is doing is mobile app based, where he is just using simple web apis on the backend and calling to other infrastructure. Several others agreed with him though that for many things, JS is sufficient today. </p>
<p>Finally the last question was directed to speakers asking them which cloud platform they prefer. A few of the foreign speakers said they use nodejitsu, though I definitely said Azure <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> . I also said that I have used nodejitsu and it is nice for a very targetted node experience. I said that Azure offers the best hybrid cloud solution (PASS, IAAS, and On Prem support) and that I had heard that hybrid cloud was very important to several local folks I had spoken to. </p>
<h2>Hackathon </h2>
<p>Following the event we had a full day hackathon at <a href="http://www.people-squared.com/en/place/yanpingattic">PeopleSquared</a> where both speakers and attendees came together for some hardcore hacking. </p>
<p><a href="http://codebetter.com/glennblock/files/2012/10/clip_image001.jpg"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="clip_image010" src="http://codebetter.com/glennblock/files/2012/10/clip_image010.jpg" width="269" height="397"></a> </p>
<p><i>Bob Zheng of People Squared welcoming folks</i> </p>
<p><a href="http://codebetter.com/glennblock/files/2012/10/clip_image003.jpg"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="clip_image011" src="http://codebetter.com/glennblock/files/2012/10/clip_image011.jpg" width="558" height="376"></a> </p>
<p><a href="http://codebetter.com/glennblock/files/2012/10/clip_image005.jpg"><img style="border-left-width: 0px;border-right-width: 0px;border-bottom-width: 0px;border-top-width: 0px" border="0" alt="clip_image012" src="http://codebetter.com/glennblock/files/2012/10/clip_image012.jpg" width="564" height="104"></a> </p>
<p><i>Different teams at the hackathon</i> </p>
<p>We started off using an open space style with folks suggesting projects they wanted to work on. Then everyone voted or the sessions they liked and teams were split. </p>
<p>My team was with Tim Caswell where we were building a new tool called “crate” which will packages up a node application, it’s modules and node itself into a self-extracting / executing exe.. I helped with the design and actually picked the name, but unfortunately had to leave early due to a family commitment. The <a href="https://gitcafe.com/hujs">project</a> is up on <a href="http://www.gitcafe.com">gitcafe</a>, a new github like offering in China. </p>
<p>Several other really cool projects came out of the hackathon including a gravatar type service which has an avatar that changes dynamically based on your mood or time of the day. </p>
<p>The best part about the hackathon for me was the collaboration between local and international developers working together toward solving a problem. </p>
<h2>Summary</h2>
<p>HuJS was a fantastic experience. It was amazing to see developers from the opposite ends of the world with very different languages and customs come together, share and learn.</p>
<p>For the folks in China, I hope they came away feeling that although an ocean separates us, we have many things in common should work together. For folks that came from the US/Europe etc, remember when you are on the node / JavaScript lists that you have friends in China and think about their needs as developers. Do your best to bridge the gaps! </p>
<p>And as for the organizers, we hope this is the first of many China JS events to come. I am talking to you Beijing!</p>
<p>Thank you to our <a href="http://www.hujs.org/#sponsors">sponsors</a>, our organizers, our speakers and our attendees who made HuJS a possibility!</p>
]]></content:encoded>
			<wfw:commentRss>http://codebetter.com/glennblock/2012/10/20/hujs-bridging-the-international-javascript-divide/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Are node_modules in git still necessary with npm shrinkwrap?</title>
		<link>http://codebetter.com/glennblock/2012/07/29/are-node_modules-in-git-still-necessary-with-npm-shrinkwrap-2/</link>
		<comments>http://codebetter.com/glennblock/2012/07/29/are-node_modules-in-git-still-necessary-with-npm-shrinkwrap-2/#comments</comments>
		<pubDate>Sun, 29 Jul 2012 01:37:48 +0000</pubDate>
		<dc:creator>Glenn Block</dc:creator>
				<category><![CDATA[node.js]]></category>
		<category><![CDATA[npm]]></category>

		<guid isPermaLink="false">http://codebetter.com/glennblock/?p=463</guid>
		<description><![CDATA[I was on an internal discussion with some folks around the management of npm dependencies and whether or not your should check them in. That led to a reference to @mikeal’s great post here. In that post, the recommendation is&#160;&#8230; <a href="http://codebetter.com/glennblock/2012/07/29/are-node_modules-in-git-still-necessary-with-npm-shrinkwrap-2/">Continue&#160;reading&#160;<span class="meta-nav">&#8594;</span></a>]]></description>
			<content:encoded><![CDATA[<p>I was on an internal discussion with some folks around the management of npm dependencies and whether or not your should check them in. That led to a reference to <a href="http://twitter.com/mikeal">@mikeal’s</a> great post <a href="http://www.mikealrogers.com/posts/nodemodules-in-git.html">here</a>. In that post, the recommendation is basically this:</p>
<ol>
<li><strong>If you are authoring a module, you should not check in your dependencies.</strong> <strong>You should have a package.json with a liberal versioning policy on dependencies</strong>. The main reason stated for this is to distribute integration testing / ensure that the latest versions are really being put to the test. Beyond that I would say it also provides the benefit of developers leveraging the latest and greatest features modules have to offer.</li>
<li><strong>If you are authoring an application, you SHOULD check in your dependencies.</strong> The main reason given for this is in order to have predictability in your production environment. package.json only allows you to specify your high level dependency versioning policy. Meaning you can lock down your versions to a specific version, but you cannot with package.json lock down your dependency’s dependencies. This means your environment is unpredictable and you might find out at the last second that one of your child dependencies breaks your app! Not a good thing at all! Because of that the recommendation is to check in all your dependencies thus ensuring there are no surprises at deployment time.</li>
</ol>
<h2>And then came npm shrinkwrap.</h2>
<p>In the past year a new awesome (though not necessarily widely known feature) was added to npm to solve the problem identified in 2, “<a href="http://npmjs.org/doc/shrinkwrap.html">npm shrinkwrap</a>”. When you run “npm shrinkwrap” on your  app, npm generates an npm-shrinkwrap.json that locks down the full transitive closure of all of your dependencies. It essentially locks things down so you get that predictability I was talking about above.</p>
<p>For example here is the example used on the node.js site of an npm-shrinkwrap.json file generated off of a package.json for module A which depends on B which then has a dependency on C.</p>
<script src="http://gist.github.com/3195634.js"></script><noscript><link rel="stylesheet" href="https://gist.github.com/stylesheets/gist/embed.css"><div id="gist-3195634" class="gist">
    

        <div class="gist-file">
          <div class="gist-data gist-syntax">
              <div class="highlight"><pre><div class='line' id='LC1'><span class="p">{</span></div><div class='line' id='LC2'>&nbsp;&nbsp;<span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span></div><div class='line' id='LC3'>&nbsp;&nbsp;<span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.1.0&quot;</span><span class="p">,</span></div><div class='line' id='LC4'>&nbsp;&nbsp;<span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span></div><div class='line' id='LC5'>&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&quot;B&quot;</span><span class="p">:</span> <span class="p">{</span></div><div class='line' id='LC6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.0.1&quot;</span><span class="p">,</span></div><div class='line' id='LC7'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span></div><div class='line' id='LC8'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&quot;C&quot;</span><span class="p">:</span> <span class="p">{</span></div><div class='line' id='LC9'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.1.0&quot;</span></div><div class='line' id='LC10'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span></div><div class='line' id='LC11'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span></div><div class='line' id='LC12'>&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span></div><div class='line' id='LC13'>&nbsp;&nbsp;<span class="p">}</span></div><div class='line' id='LC14'><span class="p">}</span></div></pre></div>
          </div>

          <div class="gist-meta">
            <a href="https://gist.github.com/raw/3195634/e39b905f1b17ca0a5a7d43b0d88752a278616fbe/gistfile1.json" style="float:right;">view raw</a>
            <a href="https://gist.github.com/3195634#file_gistfile1.json" style="float:right;margin-right:10px;color:#666">gistfile1.json</a>
            <a href="https://gist.github.com/3195634">This Gist</a> brought to you by <a href="http://github.com">GitHub</a>.
          </div>
        </div>
</div>
</noscript>
<h2>Works in Azure Websites and other cloud providers</h2>
<p>In case you are wondering, if you push an npm-shrinkwrap.json to Windows Azure Websites or to other PAAS providers like Nodejitsu and Heroku, it should work. I verified this for Azure but I am assuming the same for others as npm automatically recognizes the shrinkwrap files presence.</p>
<h2>Is it still recommended to check in your dependencies for your app?</h2>
<p>With the introduction of shrinkwrap, this raises the question of should you still check in your dependencies? My personal lean is it is no longer necessary if you use shrinkwrap. Thus I follow the following guidelines.</p>
<ol>
<li>If you are publishing a module, you should not check in your dependencies. You should have a package.json with a liberal versioning policy on dependencies.</li>
<li>If you are publishing an application, you <del>should not</del> don&#8217;t need to necessarily check in your dependencies. You can <del>should</del> use an npm- shrinkwrap.json which locks down your dependencies.</li>
</ol>
<p><strong>Note:</strong> A clear exception to 2 is if you are using private forks of modules. In those cases you will need to check in the forked modules somewhere. You still could conceptually have your shrinkwrap file pull those forks from a private repo (npm supports pulling from github repos) so that they are still managed via the shrinkwrap file. Or you could mix and match having just those modules checked in to the main repo and the ones that are not forked pulled via the shrinkwrap file.</p>
<p>Interested in your thoughts and experiences here…</p>
]]></content:encoded>
			<wfw:commentRss>http://codebetter.com/glennblock/2012/07/29/are-node_modules-in-git-still-necessary-with-npm-shrinkwrap-2/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		</item>
		<item>
		<title>Getting your Azure Web site to use node v0.8.1 now</title>
		<link>http://codebetter.com/glennblock/2012/06/29/getting-your-azure-web-site-to-use-node-v0-8-1-now/</link>
		<comments>http://codebetter.com/glennblock/2012/06/29/getting-your-azure-web-site-to-use-node-v0-8-1-now/#comments</comments>
		<pubDate>Fri, 29 Jun 2012 20:28:47 +0000</pubDate>
		<dc:creator>Glenn Block</dc:creator>
				<category><![CDATA[azure]]></category>
		<category><![CDATA[node.js]]></category>

		<guid isPermaLink="false">http://codebetter.com/glennblock/?p=452</guid>
		<description><![CDATA[In my last post about a week ago, I talked about the recent release of node 0.8.0. Well just today node 0.81 was released which addressed a few bugs. Gotta love the speed of the node community! Since the recent&#160;&#8230; <a href="http://codebetter.com/glennblock/2012/06/29/getting-your-azure-web-site-to-use-node-v0-8-1-now/">Continue&#160;reading&#160;<span class="meta-nav">&#8594;</span></a>]]></description>
			<content:encoded><![CDATA[<p>In my last <a href="http://codebetter.com/glennblock/2012/06/26/node-v0-8-is-out-and-its-hot/">post</a> about a week ago, I talked about the recent release of node 0.8.0. Well just today node 0.81 was <a href="http://blog.nodejs.org/2012/06/29/node-v0-8-1-stable/">released</a> which addressed a few bugs. Gotta love the speed of the node community!</p>
<p>Since the recent releases a few folks have been asking “Can I run v0.8.1 in a Windows Azure Web site today?” The answer is <strong>YES </strong>and in this post I will show you how to do it.</p>
<h1>How to do it</h1>
<p>By default when you deploy a node app to an Azure Web site, we use the default version of node that is preconfigured in Azure, which is currently v0.6.17. You can however deploy your own version of node.exe and via iisnode.yml tell us to use it instead.</p>
<h2>Create the site and configure it</h2>
<ul>
<li>Create a new folder where to store your node app.
<li>Add a server.js to the folder. I am going to use the following code which will just output the version. </li>
</ul>
<script src="http://gist.github.com/3020182.js"></script><noscript><link rel="stylesheet" href="https://gist.github.com/stylesheets/gist/embed.css"><div id="gist-3020182" class="gist">
    

        <div class="gist-file">
          <div class="gist-data gist-syntax">
              <div class="highlight"><pre><div class='line' id='LC1'><span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">);</span></div><div class='line' id='LC2'><br/></div><div class='line' id='LC3'><span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span></div><div class='line' id='LC4'>&nbsp;&nbsp;<span class="nx">res</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span> <span class="s1">&#39;text/html&#39;</span><span class="p">});</span></div><div class='line' id='LC5'>&nbsp;&nbsp;<span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="s1">&#39;Hello from Windows Azure running node version: &#39;</span> <span class="o">+</span> <span class="nx">process</span><span class="p">.</span><span class="nx">version</span> <span class="o">+</span> <span class="s1">&#39;&lt;/br&gt;&#39;</span><span class="p">);</span></div><div class='line' id='LC6'><span class="p">}).</span><span class="nx">listen</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PORT</span> <span class="o">||</span> <span class="mi">3000</span><span class="p">);</span></div><div class='line' id='LC7'><br/></div></pre></div>
          </div>

          <div class="gist-meta">
            <a href="https://gist.github.com/raw/3020182/28cb23c84f611b4b1dee32d235228c08a66d350f/gistfile1.js" style="float:right;">view raw</a>
            <a href="https://gist.github.com/3020182#file_gistfile1.js" style="float:right;margin-right:10px;color:#666">gistfile1.js</a>
            <a href="https://gist.github.com/3020182">This Gist</a> brought to you by <a href="http://github.com">GitHub</a>.
          </div>
        </div>
</div>
</noscript>
<ul>
<li>Now create your site. I’ll call mine “node081test” using this command: </li>
</ul>
<script src="http://gist.github.com/3020255.js"></script><noscript><link rel="stylesheet" href="https://gist.github.com/stylesheets/gist/embed.css"><div id="gist-3020255" class="gist">
    

        <div class="gist-file">
          <div class="gist-data gist-syntax">
              <div class="highlight"><pre><div class='line' id='LC1'>azure site create node081test --git</div></pre></div>
          </div>

          <div class="gist-meta">
            <a href="https://gist.github.com/raw/3020255/fd27df98de8bc760cf088804bc6fd44e8dd94b1e/gistfile1.txt" style="float:right;">view raw</a>
            <a href="https://gist.github.com/3020255#file_gistfile1.txt" style="float:right;margin-right:10px;color:#666">gistfile1.txt</a>
            <a href="https://gist.github.com/3020255">This Gist</a> brought to you by <a href="http://github.com">GitHub</a>.
          </div>
        </div>
</div>
</noscript>
<ul>
<li>Now comes the part about setting node version. First create a child bin folder and change to it.
<li>Next go download node.exe from nodejs.org and put it in that folder. If you have curl you can use this command. </li>
</ul>
<script src="http://gist.github.com/3020284.js"></script><noscript><link rel="stylesheet" href="https://gist.github.com/stylesheets/gist/embed.css"><div id="gist-3020284" class="gist">
    

        <div class="gist-file">
          <div class="gist-data gist-syntax">
              <div class="highlight"><pre><div class='line' id='LC1'>curl -O http://nodejs.org/dist/v0.8.1/node.exe</div></pre></div>
          </div>

          <div class="gist-meta">
            <a href="https://gist.github.com/raw/3020284/d7acabb82682fa22747b8784f54115b81e995bca/gistfile1.txt" style="float:right;">view raw</a>
            <a href="https://gist.github.com/3020284#file_gistfile1.txt" style="float:right;margin-right:10px;color:#666">gistfile1.txt</a>
            <a href="https://gist.github.com/3020284">This Gist</a> brought to you by <a href="http://github.com">GitHub</a>.
          </div>
        </div>
</div>
</noscript>
<ul>
<li>Next open up your iisnode.yml in your favorite editor and add the following entry. This specifies the absolute location for your node.exe. </li>
</ul>
<script src="http://gist.github.com/3020295.js"></script><noscript><link rel="stylesheet" href="https://gist.github.com/stylesheets/gist/embed.css"><div id="gist-3020295" class="gist">
    

        <div class="gist-file">
          <div class="gist-data gist-syntax">
              <div class="highlight"><pre><div class='line' id='LC1'>nodeProcessCommandLine: &quot;C:\DWASFiles\Sites\node081test\VirtualDirectory0\site\wwwroot\bin\node.exe&quot; &quot;D:\Program Files (x86)\iisnode\logger.js&quot;</div></pre></div>
          </div>

          <div class="gist-meta">
            <a href="https://gist.github.com/raw/3020295/f3b30249accdbfcd5faeb90efb7aef111e6f6af5/gistfile1.txt" style="float:right;">view raw</a>
            <a href="https://gist.github.com/3020295#file_gistfile1.txt" style="float:right;margin-right:10px;color:#666">gistfile1.txt</a>
            <a href="https://gist.github.com/3020295">This Gist</a> brought to you by <a href="http://github.com">GitHub</a>.
          </div>
        </div>
</div>
</noscript>
<ul>
<ul>
<li><u>For your site you will need to change <strong>node081test</strong> in the path to whatever name you chose.</u>
<li>Logger.js is a loader that will override node’s logging mechanism so that it writes to our Azure logs location. It will also load your app startup js file i.e. app.js or server.js. </li>
</ul>
</ul>
<h2>Push it!</h2>
<p>Now that the site is configured, we can go push it to github.</p>
<script src="http://gist.github.com/3020336.js"></script><noscript><link rel="stylesheet" href="https://gist.github.com/stylesheets/gist/embed.css"><div id="gist-3020336" class="gist">
    

        <div class="gist-file">
          <div class="gist-data gist-syntax">
              <div class="highlight"><pre><div class='line' id='LC1'>git add .</div><div class='line' id='LC2'>git commit -m &quot;using node v0.81&quot;</div></pre></div>
          </div>

          <div class="gist-meta">
            <a href="https://gist.github.com/raw/3020336/db0b2cc3bf4e541d8d8e194bcf84ac56be2c1788/gistfile1.txt" style="float:right;">view raw</a>
            <a href="https://gist.github.com/3020336#file_gistfile1.txt" style="float:right;margin-right:10px;color:#666">gistfile1.txt</a>
            <a href="https://gist.github.com/3020336">This Gist</a> brought to you by <a href="http://github.com">GitHub</a>.
          </div>
        </div>
</div>
</noscript>
<p>And voila, we’ve deployed Node v0.8.1</p>
<p><a href="http://codebetter.com/glennblock/files/2012/06/image2.png"><img style="border-right-width: 0px;margin: 0px 0px 24px;padding-left: 0px;padding-right: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px;padding-top: 0px" border="0" alt="image" src="http://codebetter.com/glennblock/files/2012/06/image_thumb2.png" width="536" height="301"></a></p>
<h1>Upgrading later to a different version</h1>
<p>One caveat here, once you have a site with a custom node version deployed, you need to stop the site before you push the upgrade.&nbsp; This is because the file may be locked by iisnode. To do this just just use the “<strong>azure site stop</strong>” command from the directory where your app lives and then restart it with “<strong>azure site start</strong>”. You only have to do this if you are changing the version.</p>
<h1>What about versioning for Web sites in general?</h1>
<p>One question you might be asking is what about our versioning story in general, will we only support 0.6.17 out of the box for the foreseeable future and then require you to push a specific node after that?</p>
<p>The answer is no <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> . We are planning to add versions pretty frequently (monthly) and are about to roll out a versioning story for in-the-box versions in a few weeks.</p>
<p>In the meanwhile, you can get going with using 0.8.1 now. Also using this technique you will always be able to get the version you want, when you want it!</p>
]]></content:encoded>
			<wfw:commentRss>http://codebetter.com/glennblock/2012/06/29/getting-your-azure-web-site-to-use-node-v0-8-1-now/feed/</wfw:commentRss>
		<slash:comments>6</slash:comments>
		</item>
		<item>
		<title>node v0.8 is out and it&#8217;s HOT!</title>
		<link>http://codebetter.com/glennblock/2012/06/26/node-v0-8-is-out-and-its-hot/</link>
		<comments>http://codebetter.com/glennblock/2012/06/26/node-v0-8-is-out-and-its-hot/#comments</comments>
		<pubDate>Tue, 26 Jun 2012 16:40:37 +0000</pubDate>
		<dc:creator>Glenn Block</dc:creator>
				<category><![CDATA[node.js]]></category>

		<guid isPermaLink="false">http://codebetter.com/glennblock/?p=446</guid>
		<description><![CDATA[Just announced on the node blog: http://blog.nodejs.org/2012/06/25/node-v0-8-0/ This release brings a big boost in performance and stability along with a few other goodies. My quick summary 1. Major performance increases around I/O operations mainly due to V8 improvements. “The more&#160;&#8230; <a href="http://codebetter.com/glennblock/2012/06/26/node-v0-8-is-out-and-its-hot/">Continue&#160;reading&#160;<span class="meta-nav">&#8594;</span></a>]]></description>
			<content:encoded><![CDATA[<p>Just announced on the node blog: <a title="http://blog.nodejs.org/2012/06/25/node-v0-8-0/" href="http://blog.nodejs.org/2012/06/25/node-v0-8-0/">http://blog.nodejs.org/2012/06/25/node-v0-8-0/</a>
<p><img style="margin: 0px 0px 24px" src="http://farm1.staticflickr.com/43/97114956_c6d9e13425.jpg">
<p>This release brings a <em>big</em> boost in performance and stability along with a few other goodies.
<p><strong>My quick summary</strong>
<p>1. Major performance increases around I/O operations mainly due to V8 improvements. “The more bytes you&#8217;re pushing, and the more work you&#8217;re doing, the more win you&#8217;ll see with node 0.8 over 0.6.”
<p>Check out these hello world results. Notice the increases are event greater for larger payloads.
<pre><pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">$ TYPE=bytes LENGTH=123 bash benchmark/http.sh  2&gt;&amp;1 | grep Req
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"># 0.6.19
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Requests per second:    3317.24 [#/sec] (mean)
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"># 0.8.0
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Requests per second:    3795.34 [#/sec] (mean)
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">$ TYPE=bytes LENGTH=1024 bash benchmark/http.sh  2&gt;&amp;1 | grep Req
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"># v0.6.19
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Requests per second:    3258.42 [#/sec] (mean)
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"># 0.8.0
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Requests per second:    3585.62 [#/sec] (mean)
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">$ TYPE=bytes LENGTH=123456 bash benchmark/http.sh  2&gt;&amp;1 | grep Req
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"># v0.6.19
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Requests per second:    218.51 [#/sec] (mean)
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"># 0.8.0
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Requests per second:    749.17 [#/sec] (mean)
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"></pre>
<p>and these read/write results
<pre><pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"># 0.6.19, writes
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Wrote 1024 byte buffers: 19.428793471925395 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Wrote 4096 byte buffers: 59.737156511350065 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Wrote 16384 byte buffers: 83.97010664203543 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Wrote 65536 byte buffers: 97.4184120798831 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"># 0.8.0, writes
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Wrote 1024 byte buffers: 61.236987140232706 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Wrote 4096 byte buffers: 109.05125408942203 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Wrote 16384 byte buffers: 182.18254691200585 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Wrote 65536 byte buffers: 181.91740949608877 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"># v0.6.19, reads
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Read 1024 byte buffers: 29.96883241428914 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Read 4096 byte buffers: 62.34413965087282 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Read 16384 byte buffers: 165.7550140891762 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Read 65536 byte buffers: 266.73779674579885 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"># v0.8.0, reads
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Read 1024 byte buffers: 57.63688760806916 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Read 4096 byte buffers: 136.7801942278758 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Read 16384 byte buffers: 244.8579823702253 mB/s
</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">Read 65536 byte buffers: 302.2974607013301 mB/s</pre>
<p>&nbsp;
<p>2. Node-gyp fully baked into npm for native modules. Node-waf is to be deprecated. </p>
<p>3. <b>More stable</b> – Libuv has not been road tested and all of the major kinks are worked out. “Libuv has come a very long way, and Node 0.8 is a simpler and more efficient machine as a result.” </p>
<p>4. Ability to listen directly on file descriptors e.g. “server.listen({ fd: number })” </p>
<p>5. Cluster module rewrite. Cluster is now <strong>much </strong>more efficient </p>
<p>6. <a href="http://nodejs.org/api/domain.html">Domains</a>! – We’ve been wanting this for a while! Domains allow multiple I/O operations to be grouped together contextually for better error handling. A big improvement over the status quo.</p>
<p>So what are you waiting for? Go <a href="http://nodejs.org/#download">grab</a> a slice of 0.8!</p>
]]></content:encoded>
			<wfw:commentRss>http://codebetter.com/glennblock/2012/06/26/node-v0-8-is-out-and-its-hot/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Windows Azure just got a lot friendlier to node.js developers</title>
		<link>http://codebetter.com/glennblock/2012/06/07/windowsazure-just-got-a-lot-friendlier-to-node-js-developers/</link>
		<comments>http://codebetter.com/glennblock/2012/06/07/windowsazure-just-got-a-lot-friendlier-to-node-js-developers/#comments</comments>
		<pubDate>Thu, 07 Jun 2012 18:44:31 +0000</pubDate>
		<dc:creator>Glenn Block</dc:creator>
				<category><![CDATA[azure]]></category>
		<category><![CDATA[node.js]]></category>

		<guid isPermaLink="false">http://codebetter.com/glennblock/?p=434</guid>
		<description><![CDATA[About 10 months ago I joined the Windows Azure SDK team to help bring node.js to the Azure cloud. In December we had our first release of the Windows Azure SDK which enabled developers to publish node.js applications to Windows&#160;&#8230; <a href="http://codebetter.com/glennblock/2012/06/07/windowsazure-just-got-a-lot-friendlier-to-node-js-developers/">Continue&#160;reading&#160;<span class="meta-nav">&#8594;</span></a>]]></description>
			<content:encoded><![CDATA[<p>About 10 months ago I joined the Windows Azure SDK team to help bring node.js to the Azure cloud. In December we had our first release of the Windows Azure SDK which enabled developers to publish node.js applications to Windows Azure Cloud Services as well as our npm module for accessing Azure services. That release was a first step to bringing node.js to Windows Azure.</p>
<p>We heard <strong>a lot</strong> of feedback. You told us you want to deploy faster and you want more cross platform support.</p>
<p><strong>Today, </strong>we’re giving you what you asked for and more. Windows Azure just got a whole lot better!</p>
<p>As my Corp VP and rock star Scott Guthrie just <a href="http://weblogs.asp.net/scottgu/archive/2012/06/07/meet-the-new-windows-azure.aspx">announced</a>, we’ve just released an overhauled, newer, faster and friendlier Windows Azure!</p>
<h1>Newer</h1>
<p>We’re introducing new ways to deploy your applications including <strong>Linux</strong> and Windows Virtual Machines, and WebSites. Wanna run your favorite app server like <a href="https://www.windowsazure.com/en-us/develop/nodejs/tutorials/website-with-mongodb-(mac)/">Mongo</a>, <a href="http://redis.io/">Redis</a> or <a href="http://basho.com/products/riak-overview/">RIAK</a> on Linux. Need to use a native module that’s not available on Windows, no problem.</p>
<p><a href="http://weblogs.asp.net/blogs/scottgu/image_1EFB0640.png"><img style="margin: 0px 0px 24px" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_6ED3BB7C.png" alt="image" width="492" height="298" border="0" /></a></p>
<h1></h1>
<h1>Friendlier</h1>
<p>Friendly not only to Windows Developers, but also to our friends running Macs and Linux.  Below you can see a screenshot of our new <a href="https://www.windowsazure.com/en-us/develop/nodejs/how-to-guides/command-line-tools/">Azure CLI</a> which you can either download from the dev center, or better yet, do “sudo npm install azure –g”</p>
<p><a href="http://www.windowsazure.com/en-us/develop/nodejs/"><img style="margin: 0px 0px 24px" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_372A8269.png" alt="image" width="493" height="218" border="0" /></a></p>
<p><a href="http://codebetter.com/glennblock/files/2012/06/image.png"><img style="margin: 0px 0px 24px;padding-left: 0px;padding-right: 0px;padding-top: 0px;border-width: 0px" src="http://codebetter.com/glennblock/files/2012/06/image_thumb.png" alt="image" width="515" height="393" border="0" /></a></p>
<p><iframe width="640" height="360" src="http://www.youtube.com/embed/jetNJCUJJz8?fs=1&#038;feature=oembed" frameborder="0" allowfullscreen></iframe></p>
<p>We have a new pure HTML administration portal that works on any platform, even a mobile device. We have both PowerShell tools and cross platform tools that you can use in Mac and Linux!</p>
<h2>Faster</h2>
<p>Deploy a node.js application in seconds using our new Git deployment model, yes I said Git! Use either the portal or our CLI tools to manage all your Windows Azure assets.</p>
<p><a href="http://weblogs.asp.net/blogs/scottgu/image_3C2AF10E.png"><img style="margin: 0px 0px 24px" src="http://weblogs.asp.net/blogs/scottgu/image_thumb_172D3095.png" alt="image" width="494" height="345" border="0" /></a></p>
<p>Deploy only your application. We’ll take your package.json and download all your npm modules on the server. <a href="http://codebetter.com/glennblock/files/2012/06/image1.png"><img style="margin: 0px 0px 24px;padding-left: 0px;padding-right: 0px;padding-top: 0px;border-width: 0px" src="http://codebetter.com/glennblock/files/2012/06/image_thumb1.png" alt="image" width="520" height="397" border="0" /></a></p>
<p><strong>Cloud9</strong></p>
<p>At node summit we announced that <a href="http://c9.io">Cloud9</a>, the awesome cross platform web-based IDE for node.js development, <a href="http://c9.io/site/blog/2012/01/windows-azure-on-cloud9/">added support for publishing to Windows Azure Cloud Services.</a></p>
<p>Today I am excited to announce that we’ve been working with Cloud9 and along with our launch, <a href="http://c9.io/site/uncategorized/2012/06/fast-deployment-to-windows-azure/">Cloud9 is adding full support for Windows Azure Websites</a>! From Cloud9 you can create sites and deploy them in seconds using Git!</p>
<p><iframe width="640" height="480" src="http://www.youtube.com/embed/y2uXkVtTi1I?fs=1&#038;feature=oembed" frameborder="0" allowfullscreen></iframe></p>
<p>Head on over to our new <a href="http://www.windowsazure.com/en-us/develop/nodejs/">Windows Azure developer portal for node.js developers</a> and get started. I told you it’s a great time to be using Windows Azure!</p>
]]></content:encoded>
			<wfw:commentRss>http://codebetter.com/glennblock/2012/06/07/windowsazure-just-got-a-lot-friendlier-to-node-js-developers/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		</item>
		<item>
		<title>Two ways to work with HTTP responses in ApiController, HttpResponseMessage and HttpResponseException</title>
		<link>http://codebetter.com/glennblock/2012/05/24/two-ways-to-work-with-http-responses-in-apicontroller-httpresponsemessage-and-httpresponseexception/</link>
		<comments>http://codebetter.com/glennblock/2012/05/24/two-ways-to-work-with-http-responses-in-apicontroller-httpresponsemessage-and-httpresponseexception/#comments</comments>
		<pubDate>Thu, 24 May 2012 09:29:51 +0000</pubDate>
		<dc:creator>Glenn Block</dc:creator>
				<category><![CDATA[ASP.NET Web API]]></category>

		<guid isPermaLink="false">http://codebetter.com/glennblock/?p=420</guid>
		<description><![CDATA[ASP.NET Web API provides two different ways to work with manipulating HTTP response messages from within your API Controller action. Throw an HttpResonseException – This exception allows you to pass in an HttpResponseMessage / set status and headers. Web API&#160;&#8230; <a href="http://codebetter.com/glennblock/2012/05/24/two-ways-to-work-with-http-responses-in-apicontroller-httpresponsemessage-and-httpresponseexception/">Continue&#160;reading&#160;<span class="meta-nav">&#8594;</span></a>]]></description>
			<content:encoded><![CDATA[<p>ASP.NET Web API provides two different ways to work with manipulating HTTP response messages from within your API Controller action. </p>
<ul>
<li>Throw an HttpResonseException – This exception allows you to pass in an HttpResponseMessage / set status and headers. Web API will then immediately return the response.
<li>Return an HttpResponseMessage – You can simply return an HttpResponseMessage from your action.</li>
</ul>
<p>So which&nbsp; should you use when? Are they both identical? Cuong Le recently <a href="http://stackoverflow.com/questions/10660721/asp-net-web-api-different-between-httpresponsemessage-and-httpresponseexception">asked</a> this question on StackOverflow.</p>
<p>The simple answer is no they are not the same.</p>
<p>The main difference between the two is this. The exception is useful to immediately stop processing and exit. For example assume I have the following code</p>
<script src="http://gist.github.com/2780444.js"></script><noscript><link rel="stylesheet" href="https://gist.github.com/stylesheets/gist/embed.css"><div id="gist-2780444" class="gist">
    
        <div class="gist-file">
          <div class="gist-data gist-syntax">
              <div class="highlight"><pre><div class='line' id='LC1'>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">public</span> <span class="k">class</span> <span class="nc">CustomerController</span> <span class="p">:</span> <span class="n">ApiController</span> <span class="p">{</span></div><div class='line' id='LC2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">private</span> <span class="n">ICustomerContext</span> <span class="n">repo</span><span class="p">;</span></div><div class='line' id='LC3'><br/></div><div class='line' id='LC4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">public</span> <span class="nf">CustomerController</span><span class="p">(</span><span class="n">ICustomerContext</span> <span class="n">repo</span><span class="p">)</span> <span class="p">{</span></div><div class='line' id='LC5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">this</span><span class="p">.</span><span class="n">repo</span> <span class="p">=</span> <span class="n">repo</span><span class="p">;</span></div><div class='line' id='LC6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span></div><div class='line' id='LC7'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div class='line' id='LC8'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">public</span> <span class="n">Customer</span> <span class="nf">Get</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">)</span> <span class="p">{</span></div><div class='line' id='LC9'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kt">var</span> <span class="n">customer</span> <span class="p">=</span> <span class="n">repo</span><span class="p">.</span><span class="n">Customers</span><span class="p">.</span><span class="n">SingleOrDefault</span><span class="p">(</span><span class="n">c</span><span class="p">=&gt;</span><span class="n">c</span><span class="p">.</span><span class="n">CustomerID</span> <span class="p">==</span> <span class="n">id</span><span class="p">);</span></div><div class='line' id='LC10'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">if</span> <span class="p">(</span><span class="n">customer</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span></div><div class='line' id='LC11'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">throw</span> <span class="k">new</span> <span class="nf">HttpResponseException</span><span class="p">(</span><span class="k">new</span> <span class="n">HttpResponseMessage</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">NotFound</span><span class="p">));</span></div><div class='line' id='LC12'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span></div><div class='line' id='LC13'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">return</span> <span class="n">customer</span><span class="p">;</span></div><div class='line' id='LC14'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span></div><div class='line' id='LC15'>&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span></div><div class='line' id='LC16'><br/></div></pre></div>
          </div>

          <div class="gist-meta">
            <a href="https://gist.github.com/raw/2780444/dc824790b96d7f3544ea7b13abc48832b885ed76/gistfile1.cs" style="float:right;">view raw</a>
            <a href="https://gist.github.com/2780444#file_gistfile1.cs" style="float:right;margin-right:10px;color:#666">gistfile1.cs</a>
            <a href="https://gist.github.com/2780444">This Gist</a> brought to you by <a href="http://github.com">GitHub</a>.
          </div>
        </div>
</div>
</noscript>
<p>If this code runs and I pass an id that is not present, it will immediately stop processing and return a status code of 404.</p>
<p>If instead I return HttpResponseMessage, the request will happily continue the rest of it&#8217;s processing and return a 404. The main difference being end the request or not.</p>
<p>As <a href="http://twitter.com/darrel_miller">Darrel</a> said, the exception is useful in cases where in some cases I want processing to continue (as in when customer is found) and in others I don&#8217;t.</p>
<p>The place where you might want to return HttpResponseMessage directly is in an HTTP POST to return a status code of 201 and set the location header. In that case I do want processing to continue. That would would do with this code.*</p>
<script src="http://gist.github.com/2780448.js"></script><noscript><link rel="stylesheet" href="https://gist.github.com/stylesheets/gist/embed.css"><div id="gist-2780448" class="gist">
    

        <div class="gist-file">
          <div class="gist-data gist-syntax">
              <div class="highlight"><pre><div class='line' id='LC1'>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">public</span> <span class="k">class</span> <span class="nc">CustomerController</span> <span class="p">:</span> <span class="n">ApiController</span> <span class="p">{</span></div><div class='line' id='LC2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">private</span> <span class="n">ICustomerContext</span> <span class="n">repo</span><span class="p">;</span></div><div class='line' id='LC3'><br/></div><div class='line' id='LC4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">public</span> <span class="nf">CustomerController</span><span class="p">(</span><span class="n">ICustomerContext</span> <span class="n">repo</span><span class="p">)</span> <span class="p">{</span></div><div class='line' id='LC5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">this</span><span class="p">.</span><span class="n">repo</span> <span class="p">=</span> <span class="n">repo</span><span class="p">;</span></div><div class='line' id='LC6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span></div><div class='line' id='LC7'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div class='line' id='LC8'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">public</span> <span class="n">HttpResponseMessage</span> <span class="nf">Post</span><span class="p">(</span><span class="n">Customer</span> <span class="n">customer</span><span class="p">)</span> <span class="p">{</span></div><div class='line' id='LC9'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">repo</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">customer</span><span class="p">);</span></div><div class='line' id='LC10'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">repo</span><span class="p">.</span><span class="n">SaveChanges</span><span class="p">();</span></div><div class='line' id='LC11'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">Request</span><span class="p">.</span><span class="n">CreateResponse</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">Created</span><span class="p">,</span> <span class="n">customer</span><span class="p">);</span></div><div class='line' id='LC12'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n">response</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Location</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span><span class="p">(</span><span class="n">Request</span><span class="p">.</span><span class="n">RequestUri</span><span class="p">,</span> <span class="kt">string</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;customer/{0}&quot;</span><span class="p">,</span> <span class="n">customer</span><span class="p">.</span><span class="n">id</span><span class="p">));</span></div><div class='line' id='LC13'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">return</span> <span class="n">response</span><span class="p">;</span></div><div class='line' id='LC14'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span></div><div class='line' id='LC15'>&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span></div><div class='line' id='LC16'><br/></div></pre></div>
          </div>

          <div class="gist-meta">
            <a href="https://gist.github.com/raw/2780448/eb30ccf61fcb1a55c8dbea5131dfa8282761ebb3/gistfile1.cs" style="float:right;">view raw</a>
            <a href="https://gist.github.com/2780448#file_gistfile1.cs" style="float:right;margin-right:10px;color:#666">gistfile1.cs</a>
            <a href="https://gist.github.com/2780448">This Gist</a> brought to you by <a href="http://github.com">GitHub</a>.
          </div>
        </div>
</div>
</noscript>
<p><strong>*note:</strong> If you are using the beta bits you would create a new HttpResponseMessage&lt;Customer&gt;. I am using the later bits however which require you to use the CreateResponse extension method off of the Request.</p>
<p>Above, I am creating a response which sets the status code to 201, passes in the customer, and then sets the location header.</p>
<p>The response is then returned and the request continues processing.</p>
<p>Hope this helps clarify the difference.</p>
]]></content:encoded>
			<wfw:commentRss>http://codebetter.com/glennblock/2012/05/24/two-ways-to-work-with-http-responses-in-apicontroller-httpresponsemessage-and-httpresponseexception/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		</item>
		<item>
		<title>node.js in the cloud with Windows Azure activities in Oslo</title>
		<link>http://codebetter.com/glennblock/2012/05/21/node-js-in-the-cloud-with-windows-azure-activities-in-oslo/</link>
		<comments>http://codebetter.com/glennblock/2012/05/21/node-js-in-the-cloud-with-windows-azure-activities-in-oslo/#comments</comments>
		<pubDate>Mon, 21 May 2012 14:14:29 +0000</pubDate>
		<dc:creator>Glenn Block</dc:creator>
				<category><![CDATA[azure]]></category>
		<category><![CDATA[node.js]]></category>

		<guid isPermaLink="false">http://codebetter.com/glennblock/?p=417</guid>
		<description><![CDATA[After GOTO finishes, this week I am heading to Oslo for node.js and Azure action. On Friday eve 5/25, I’ll be delivering a talk on node.js in Windows Azure at nnug-Oslo. On Saturday 5/26, I’ll be giving a full day&#160;&#8230; <a href="http://codebetter.com/glennblock/2012/05/21/node-js-in-the-cloud-with-windows-azure-activities-in-oslo/">Continue&#160;reading&#160;<span class="meta-nav">&#8594;</span></a>]]></description>
			<content:encoded><![CDATA[<p>After GOTO finishes, this week I am heading to Oslo for node.js and Azure action.</p>
<ul>
<li>On Friday eve 5/25, I’ll be delivering a <a href="http://nnug.no/Avdelinger/Oslo/Moter/NNUG-Oslo---Brukergruppemote-25-mai-2012/">talk</a> on node.js in Windows Azure at nnug-Oslo.</li>
<li>On Saturday 5/26, I’ll be giving a full day <a href="http://www.meetup.com/NodeJSOslo/events/65004992/">node.js on Azure workshop</a>. We’ll spend the first half of the day walking through together how to deploy node apps to Windows Azure (even using GIT based deployment on a Mac!) and access Azure services from node. In the second half we’ll have a node.js/ Azure hackathon after which prizes will be given for the best apps.</li>
</ul>
<p>If you are in the area and interested in node.js, come on out!</p>
]]></content:encoded>
			<wfw:commentRss>http://codebetter.com/glennblock/2012/05/21/node-js-in-the-cloud-with-windows-azure-activities-in-oslo/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Azure SDK for node 0.5.4 is out! More secure and now with less angle brackets</title>
		<link>http://codebetter.com/glennblock/2012/05/12/azure-sdk-for-node-0-5-4-is-out-more-secure-and-now-with-less-angle-brackets/</link>
		<comments>http://codebetter.com/glennblock/2012/05/12/azure-sdk-for-node-0-5-4-is-out-more-secure-and-now-with-less-angle-brackets/#comments</comments>
		<pubDate>Sat, 12 May 2012 18:33:15 +0000</pubDate>
		<dc:creator>Glenn Block</dc:creator>
				<category><![CDATA[node.js]]></category>

		<guid isPermaLink="false">http://codebetter.com/glennblock/?p=411</guid>
		<description><![CDATA[As Yavor said, Azure SDK for node 0.5.4 is out with a bunch of goodies! Closing a security hole Recently a vulnerability was detected in node.exe that could theoretically allow an attacker to perform a header-spoofing attack. Version 0.6.17 contains&#160;&#8230; <a href="http://codebetter.com/glennblock/2012/05/12/azure-sdk-for-node-0-5-4-is-out-more-secure-and-now-with-less-angle-brackets/">Continue&#160;reading&#160;<span class="meta-nav">&#8594;</span></a>]]></description>
			<content:encoded><![CDATA[<p>As Yavor said, <a href="http://hashtagfail.com/post/22865195229/node-sdk-0-5-4">Azure SDK for node 0.5.4 is out</a> with a bunch of goodies!</p>
<h1>Closing a security hole</h1>
<p>Recently a <a href="http://blog.nodejs.org/2012/05/07/http-server-security-vulnerability-please-upgrade-to-0-6-17/">vulnerability</a> was detected in node.exe that could theoretically allow an attacker to perform a header-spoofing attack. Version 0.6.17 contains a fix for this attack. We take security very seriously, so we’re releasing this update which includes node 0.6.17 to remove the vulnerability.</p>
<p>Please go <a href="http://www.microsoft.com/web/gallery/install.aspx?appid=azurenodepowershell">download </a>the latest bits to remove this vulnerability!</p>
<p><strong>Less angle brackets, more YAML</strong></p>
<p><a href="https://github.com/tjanczuk/iisnode">iisnode</a> offers some really nice hosting capabilities like spinning up and managing multiple node procs, allowing access to logs over HTTP, providing good debugger errors in the browser for diagnostics and supporting node-inspector for debugging.</p>
<p>To access any of these benefits however you have to travel the sea of angle brackets known as web.config. For .NET / Windows developers, this is the norm. However, we heard a lot of feedback from folks in the node-a-verse, in particular coming from on a Mac / *nix that this feels very strange that they have use web.config in order to config node-specific things in Windows Azure, especially in light of the other offerings out there. Looking around we saw that a common pattern was to use a simple key-value format for specifying similar settings with <a href="http://yaml.org/">YAML</a> being a very popular format.</p>
<h2>iisnode.yml</h2>
<p>And so our team <a href="https://github.com/tjanczuk/iisnode/issues/158">racked our brains</a> a bit, got a bunch of feedback and <a href="http://tomasz.janczuk.org/2012/05/yaml-configuration-support-in-iisnode.html">iisnode.yml</a> was born and implemented by Tomek! iisnode.yml is an optional file that sits along side web.config. It allows you to set all of our iisnode <a href="https://github.com/tjanczuk/iisnode/blob/master/src/samples/configuration/iisnode.yml">settings</a> without having to ever touch web.config. Below is a really simple example.</p>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"><span style="color: #800000">#</span> <span style="color: #800000">This</span> <span style="color: #800000">is</span> <span style="color: #800000">a</span> <span style="color: #800000">really</span> <span style="color: #800000">simple</span> <span style="color: #800000">iisnode</span>.<span style="color: #800000">yml</span> <span style="color: #800000">file</span></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"><span style="color: #800000">node</span>_<span style="color: #800000">env</span>: <span style="color: #800000">development</span></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"><span style="color: #800000">devErrorsEnabled</span>: <span style="color: #800000">true</span></pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"><span style="color: #800000">loggingEnabled</span>: <span style="color: #800000">true</span></pre>
<p>The settings set the node_env environment variable to development, enables logging all node.exe output and enables developer errors.</p>
<p>For example, the code below has an error in that it requires a module that does not exist, also it uses spaces in the module name.</p>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"><span style="color: #0000ff">var</span> http = require('http');</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"><span style="color: #0000ff">var</span> notPresent = require('some awesome module');</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">http.createServer(<span style="color: #0000ff">function</span> (req, res) {</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">  <span style="color: #0000ff">throw</span> "<span style="color: #8b0000">error</span>";</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">  res.writeHead(200, {'Content-Type': 'text/plain'});</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">  notPresent.doSomethingAwesome();</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">  res.end('Hello World Again\n');</pre>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px">}).listen(process.env.PORT);</pre>
<p>If I don’t enable devErrors this is what I get when I do a request.</p>
<p><a href="http://codebetter.com/glennblock/files/2012/05/Screen-Shot-2012-05-12-at-11.10.45-AM.png"><img style="margin: 0px 0px 24px;padding-left: 0px;padding-right: 0px;padding-top: 0px;border: 0px" src="http://codebetter.com/glennblock/files/2012/05/Screen-Shot-2012-05-12-at-11.10.45-AM_thumb.png" alt="Screen Shot 2012-05-12 at 11.10.45 AM" width="587" height="209" border="0" /></a></p>
<p>However, look at what I get when I enable devErrors with logging.</p>
<p><a href="http://codebetter.com/glennblock/files/2012/05/Screen-Shot-2012-05-12-at-11.04.40-AM.png"><img style="margin: 0px 0px 24px;padding-left: 0px;padding-right: 0px;padding-top: 0px;border: 0px" src="http://codebetter.com/glennblock/files/2012/05/Screen-Shot-2012-05-12-at-11.04.40-AM_thumb.png" alt="Screen Shot 2012-05-12 at 11.04.40 AM" width="563" height="387" border="0" /></a></p>
<p>Above you an see that an error occurred because it could not find my wacky module.</p>
<p>Developer errors is a pretty cool feature that allows iis to output in the response any errors that occurred right in the browser. Combined with logging, it’s really useful for debugging on a remote/staging server.</p>
<p>Of course you don’t want anyone seeing that in your live production site, so you should probably shut that off.</p>
<h2>myfile.yml</h2>
<p>By convention we look for iisnode.yml. If you are not happy with that name however, you can set your own name in the iisnode element of web.config by using the configOverrides property.</p>
<pre style="background-color: #ffffff;margin: 0em;width: 100%;font-family: consolas,'Courier New',courier,monospace;font-size: 12px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">iisnode</span> <span style="color: #ff0000">configOverrides</span>=<span style="color: #0000ff">"myfile.yml"</span><span style="color: #0000ff">/&gt;</span></pre>
<p><strong>Note</strong>: configOverrides also allows you to do environment variable expansion. Thus instead of having a static file name you can have a name that includes an environment variable value. More on that in the future.</p>
<p><strong>But wait, don’t I still need a web.config when I publish to Windows Azure?</strong></p>
<p>Great question! Today you still need a web.config though as Tomek said that can be boilerplate and you don’t have to look at it. Tomorrow however…. <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> </p>
<p>Go get the latest SDK <a href="http://www.microsoft.com/web/gallery/install.aspx?appid=azurenodepowershell">here</a>.</p>
]]></content:encoded>
			<wfw:commentRss>http://codebetter.com/glennblock/2012/05/12/azure-sdk-for-node-0-5-4-is-out-more-secure-and-now-with-less-angle-brackets/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
	</channel>
</rss>

<!-- Dynamic page generated in 6.648 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-11-09 23:05:05 -->
